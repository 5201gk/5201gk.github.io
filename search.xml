<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Vue</title>
    <url>/2021/09/14/vue/</url>
    <content><![CDATA[<h1 id="Day01"><a href="#Day01" class="headerlink" title="Day01"></a>Day01</h1><h2 id="1-Vue-是什么？"><a href="#1-Vue-是什么？" class="headerlink" title="1. Vue 是什么？"></a>1. Vue 是什么？</h2><pre><code>1. Vue 是一个 JavaScript 渐进式框架
</code></pre>
<h2 id="2-什么是渐进式？"><a href="#2-什么是渐进式？" class="headerlink" title="2. 什么是渐进式？"></a>2. 什么是渐进式？</h2><pre><code>1. 渐进式就是按需逐渐集成功能
</code></pre>
<h2 id="3-什么是库和框架？"><a href="#3-什么是库和框架？" class="headerlink" title="3. 什么是库和框架？"></a>3. 什么是库和框架？</h2><pre><code>1. 库是方法的集合，而框架是一套拥有自己规则的语法
</code></pre>
<h2 id="4-如何创建一个开箱即用的脚手架项目？"><a href="#4-如何创建一个开箱即用的脚手架项目？" class="headerlink" title="4. 如何创建一个开箱即用的脚手架项目？"></a>4. 如何创建一个开箱即用的脚手架项目？</h2><pre><code>1. vue create 项目名
</code></pre>
<h2 id="5-如何在网页上浏览这个项目？"><a href="#5-如何在网页上浏览这个项目？" class="headerlink" title="5. 如何在网页上浏览这个项目？"></a>5. 如何在网页上浏览这个项目？</h2><pre><code>1. yarn serve 启动本地热更新开发服务器
</code></pre>
<h2 id="6-如何创建脚手架项目"><a href="#6-如何创建脚手架项目" class="headerlink" title="6. 如何创建脚手架项目?"></a>6. 如何创建脚手架项目?</h2><pre><code>1. vue create 项目名, 得到一套标准文件夹+文件+webpack 环境
</code></pre>
<h2 id="7-脚手架项目入口有哪些"><a href="#7-脚手架项目入口有哪些" class="headerlink" title="7. 脚手架项目入口有哪些?"></a>7. 脚手架项目入口有哪些?</h2><pre><code>1. main.js - webpack 打包入口
2. App.vue - Vue 页面入口
3. index.html - 网页入口
</code></pre>
<h2 id="8-vue-指令"><a href="#8-vue-指令" class="headerlink" title="8. vue 指令"></a>8. vue 指令</h2><h6 id="1-v-bind-属性名-”Vue-变量”-简写-属性名-”Vue-变量”"><a href="#1-v-bind-属性名-”Vue-变量”-简写-属性名-”Vue-变量”" class="headerlink" title="1. v-bind:属性名=”Vue 变量” 简写 :属性名=”Vue 变量”"></a>1. v-bind:属性名=”Vue 变量” 简写 :属性名=”Vue 变量”</h6><h6 id="2-v-on-事件名-”methods-里的函数名”-简写-事件名-”methods-里的函数名”"><a href="#2-v-on-事件名-”methods-里的函数名”-简写-事件名-”methods-里的函数名”" class="headerlink" title="2. v-on:事件名=”methods 里的函数名” 简写 @事件名=”methods 里的函数名”"></a>2. v-on:事件名=”methods 里的函数名” 简写 @事件名=”methods 里的函数名”</h6><pre><code>   1. Vue 事件处理函数，如何拿到事件对象？
      1. 无实参，直接用第一个形参接收
      2. 有实参，手动传入$event
   2. Vue 有哪些主要修饰符，都有什么功能？
      1. .stop - 阻止事件冒泡
      2. .prevent - 阻止默认行为
</code></pre>
<h6 id="3-v-model-暂时只能用在表单标签上-把-Vue-的数据变量和表单的-value-属性双向绑定在一起"><a href="#3-v-model-暂时只能用在表单标签上-把-Vue-的数据变量和表单的-value-属性双向绑定在一起" class="headerlink" title="3. v-model 暂时只能用在表单标签上 把 Vue 的数据变量和表单的 value 属性双向绑定在一起"></a>3. v-model 暂时只能用在表单标签上 把 Vue 的数据变量和表单的 value 属性双向绑定在一起</h6><pre><code>   1. 下拉菜单 v-model 写在哪里？
      1. v-model 写在 select 上，value 写在 option 上, Vue 变量关联 value 属性的值
   2. v-model 用在复选框时，需要注意什么？
      1. 非数组 - 关联的是 checked 属性
      2. 数组 - 关联的是 value 属性
   3. Vue 变量初始值会不会影响表单的默认状态？
      1. 会影响，因为双向数据绑定 - 互相影响
</code></pre>
<h6 id="4-v-html-设置标签显示内容-会覆盖插值表达式中的内容"><a href="#4-v-html-设置标签显示内容-会覆盖插值表达式中的内容" class="headerlink" title="4. v-html 设置标签显示内容 会覆盖插值表达式中的内容"></a>4. v-html 设置标签显示内容 会覆盖插值表达式中的内容</h6><h6 id="5-v-show-用-css-的方式隐藏-v-if-从-DOM-树中直接移除-添加-可以配合-v-else-使用"><a href="#5-v-show-用-css-的方式隐藏-v-if-从-DOM-树中直接移除-添加-可以配合-v-else-使用" class="headerlink" title="5. v-show 用 css 的方式隐藏 v-if 从 DOM 树中直接移除/添加 可以配合 v-else 使用"></a>5. v-show 用 css 的方式隐藏 v-if 从 DOM 树中直接移除/添加 可以配合 v-else 使用</h6><h1 id="Day02"><a href="#Day02" class="headerlink" title="Day02"></a>Day02</h1><h2 id="1-v-for-的更新机制"><a href="#1-v-for-的更新机制" class="headerlink" title="1.v-for 的更新机制"></a>1.v-for 的更新机制</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.数组更新方法，就会导致 v-for 更新，页面更新</span><br><span class="line">2.数组非变更方法, 返回新数组, 就不会导致v-for更新, 可采用覆盖数组或this.$set()</span><br><span class="line">这些方法会触发数组改变, v-for会监测到并更新页面</span><br><span class="line"></span><br><span class="line">- `push()`</span><br><span class="line">- `pop()`</span><br><span class="line">- `shift()`</span><br><span class="line">- `unshift()`</span><br><span class="line">- `splice()`</span><br><span class="line">- `sort()`</span><br><span class="line">- `reverse()`</span><br><span class="line"></span><br><span class="line">这些方法不会触发v-for更新</span><br><span class="line"></span><br><span class="line">- `slice()`</span><br><span class="line">- `filter()` // 创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素</span><br><span class="line">- `concat()` // 用于连接两个或多个数组</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>总结: 改变原数组的方法才能让 v-for 更新</p>
</blockquote>
<h2 id="2-Vue-基础-v-for-就地更新"><a href="#2-Vue-基础-v-for-就地更新" class="headerlink" title="2. Vue 基础_v-for 就地更新"></a>2. Vue 基础_v-for 就地更新</h2><h4 id="1-无-key"><a href="#1-无-key" class="headerlink" title="1.无 key"></a>1.无 key</h4><p>1.就地更新</p>
<p>2.根据下标，一个一个对比子元素的虚拟 DOM</p>
<p>3.缺点：如果子元素的顺序发生变化，性能不高</p>
<h4 id="2-有-key"><a href="#2-有-key" class="headerlink" title="2.有 key"></a>2.有 key</h4><p>1.根据 key 进行复用</p>
<p>2.子元素的顺序就算发生了改变，也没影响</p>
<h2 id="3-对于-style-和-class-v-bind-进行的增强，值不仅仅可以是字符串，还可以是对象和数组"><a href="#3-对于-style-和-class-v-bind-进行的增强，值不仅仅可以是字符串，还可以是对象和数组" class="headerlink" title="3.对于 style 和 class,v-bind 进行的增强，值不仅仅可以是字符串，还可以是对象和数组"></a>3.对于 style 和 class,v-bind 进行的增强，值不仅仅可以是字符串，还可以是对象和数组</h2><h2 id="4-计算属性"><a href="#4-计算属性" class="headerlink" title="4.计算属性"></a>4.计算属性</h2><h4 id="1-写在-computed-中的属性就叫计算属性，-computed-中的是需要经过逻辑运算的"><a href="#1-写在-computed-中的属性就叫计算属性，-computed-中的是需要经过逻辑运算的" class="headerlink" title="1.写在 computed 中的属性就叫计算属性， computed 中的是需要经过逻辑运算的"></a>1.写在 computed 中的属性就叫计算属性， computed 中的是需要经过逻辑运算的</h4><h5 id="1-注意点"><a href="#1-注意点" class="headerlink" title="1.注意点"></a>1.注意点</h5><pre><code>    1. 计算属性写在computed中
    2. 计算属性写法上是一个函数或者是一个对象
    3. 计算属性使用的时候不能加()
</code></pre>
<h5 id="2-语法"><a href="#2-语法" class="headerlink" title="2.语法"></a>2.语法</h5><h6 id="1-获取"><a href="#1-获取" class="headerlink" title="1.获取"></a>1.获取</h6><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">computed: &#123; <span class="function"><span class="title">full</span>(<span class="params"></span>)</span> &#123;<span class="keyword">return</span> ...&#125; &#125;</span><br></pre></td></tr></table></figure>

<h6 id="2-获取且修改"><a href="#2-获取且修改" class="headerlink" title="2.获取且修改"></a>2.获取且修改</h6><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">computed: &#123; <span class="function"><span class="title">get</span>(<span class="params"></span>)</span>&#123;&#125;, <span class="function"><span class="title">set</span>(<span class="params">value</span>)</span>&#123;&#125; &#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-缓存"><a href="#3-缓存" class="headerlink" title="3.缓存"></a>3.缓存</h5><p>1.计算属性只会计算一次，就会把结果存储起来，多次使用计算属性，只需要计算一次<br>​ 2.如果依赖的属性发生了改变，计算属性会重新计算一次</p>
<h4 id="监听属性"><a href="#监听属性" class="headerlink" title="监听属性"></a>监听属性</h4><h5 id="需要监听某个属性是否发生改变，就需要使用-watch-语法"><a href="#需要监听某个属性是否发生改变，就需要使用-watch-语法" class="headerlink" title="需要监听某个属性是否发生改变，就需要使用 watch 语法"></a>需要监听某个属性是否发生改变，就需要使用 watch 语法</h5><h6 id="1-简单类型"><a href="#1-简单类型" class="headerlink" title="1.简单类型"></a>1.简单类型</h6><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">watch: &#123;  <span class="function"><span class="title">msg</span>(<span class="params">value</span>)</span> &#123;&#125; &#125;</span><br></pre></td></tr></table></figure>

<h6 id="2-复杂类型"><a href="#2-复杂类型" class="headerlink" title="2.复杂类型"></a>2.复杂类型</h6><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">watch: &#123;  <span class="attr">friend</span>: &#123; <span class="attr">deep</span>: <span class="literal">true</span>, <span class="function"><span class="title">handler</span>(<span class="params"></span>)</span>&#123;&#125;&#125; &#125;</span><br></pre></td></tr></table></figure>

<h1 id="Day03"><a href="#Day03" class="headerlink" title="Day03"></a>Day03</h1><h2 id="1-使用组件的步骤"><a href="#1-使用组件的步骤" class="headerlink" title="1.使用组件的步骤"></a>1.使用组件的步骤</h2><h6 id="1-准备组件-并-引入"><a href="#1-准备组件-并-引入" class="headerlink" title="1.准备组件 并 引入"></a>1.准备组件 并 引入</h6><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Pannel <span class="keyword">from</span> <span class="string">&quot;./components/Pannel&quot;</span></span><br></pre></td></tr></table></figure>

<h6 id="2-注册组件"><a href="#2-注册组件" class="headerlink" title="2.注册组件"></a>2.注册组件</h6><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">//  局部 - 注册组件</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">    语法: </span></span><br><span class="line"><span class="comment">    components: &#123;</span></span><br><span class="line"><span class="comment">      &quot;组件名&quot;: 组件对象</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="attr">PannelL</span>: Pannel</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="3-使用组件"><a href="#3-使用组件" class="headerlink" title="3.使用组件"></a>3.使用组件</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h3&gt;案例：折叠面板&lt;/h3&gt;</span><br><span class="line">    &lt;!-- 4. 组件名当做标签使用 --&gt;</span><br><span class="line">    &lt;!-- &lt;组件名&gt;&lt;/组件名&gt; --&gt;</span><br><span class="line">    &lt;PannelL&gt;&lt;/PannelL&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h2 id="2-组件-scoped-作用"><a href="#2-组件-scoped-作用" class="headerlink" title="2.组件-scoped 作用"></a>2.组件-scoped 作用</h2><h6 id="1-作用"><a href="#1-作用" class="headerlink" title="1.作用"></a>1.作用</h6><p>解决多个组件样式名相同, 冲突问题</p>
<h6 id="2-用法"><a href="#2-用法" class="headerlink" title="2.用法"></a>2.用法</h6><p>给 Pannel.vue 组件里 style 标签上加 scoped 属性即可</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;style scoped&gt;</span><br></pre></td></tr></table></figure>

<p>在 style 上加入 scoped 属性, 就会在此组件的标签上加上一个随机生成的 data-v 开头的属性</p>
<p>而且必须是当前组件的元素, 才会有这个自定义属性, 才会被这个样式作用到</p>
<blockquote>
<p>总结: style 上加 scoped, 组件内的样式只在当前 vue 组件生效</p>
</blockquote>
<h2 id="3-组件通信-父向子-props"><a href="#3-组件通信-父向子-props" class="headerlink" title="3.组件通信_父向子-props"></a>3.组件通信_父向子-props</h2><h6 id="1-子组件中定义变量并使用-props"><a href="#1-子组件中定义变量并使用-props" class="headerlink" title="1.子组件中定义变量并使用-props"></a>1.子组件中定义变量并使用-props</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; intro &#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  props: [&quot;intro&quot;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>2.父组件中传值给子组件-在标签上写属性</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Pannel :intro=&quot;msg&quot;&gt;&lt;/Pannel&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Pannel from &quot;./components/Pannel.vue&quot;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    Pannel</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &quot;这是父传过来的值&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="3-组件通信-子向父"><a href="#3-组件通信-子向父" class="headerlink" title="3.组件通信_子向父"></a>3.组件通信_子向父</h2><blockquote>
<p>注意：单向数据流（父—子），父组件中的数据修改会通知子组件，反之不可以，即 props 中的数据只读！</p>
</blockquote>
<h6 id="1-父组件中给子组件绑定自定义事件，定义事件处理函数"><a href="#1-父组件中给子组件绑定自定义事件，定义事件处理函数" class="headerlink" title="1.父组件中给子组件绑定自定义事件，定义事件处理函数"></a>1.父组件中给子组件绑定自定义事件，定义事件处理函数</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Pannel</span><br><span class="line">      v-for=&quot;(item, index) in list&quot;</span><br><span class="line">      :key=&quot;item.id&quot;</span><br><span class="line">      :intro=&quot;item.msg&quot;</span><br><span class="line">      :num=&quot;item.price&quot;</span><br><span class="line">      :index=&quot;index&quot;</span><br><span class="line">      @sub=&quot;subHandler&quot;</span><br><span class="line">    &gt;</span><br><span class="line">    &lt;/Pannel&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Pannel from &quot;./components/Pannel.vue&quot;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    Pannel</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      list: [</span><br><span class="line">        &#123; id: 1, msg: &quot;这是父传过来的值1&quot;, price: 10 &#125;,</span><br><span class="line">        &#123; id: 2, msg: &quot;这是父穿过来的值2&quot;, price: 20 &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    subHandler(index, num) &#123;</span><br><span class="line">      //...自定义函数</span><br><span class="line">      this.list[index].price += num</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h6 id="2-子组件在恰当的时间触发事件"><a href="#2-子组件在恰当的时间触发事件" class="headerlink" title="2.子组件在恰当的时间触发事件"></a>2.子组件在恰当的时间触发事件</h6><h6 id="3-使用-this-emit-‘自定义事件名’，参数-1，参数-2-方法触发父组件绑定的自定义事件"><a href="#3-使用-this-emit-‘自定义事件名’，参数-1，参数-2-方法触发父组件绑定的自定义事件" class="headerlink" title="3.使用 this.$emit(‘自定义事件名’，参数 1，参数 2) 方法触发父组件绑定的自定义事件"></a>3.使用 this.$emit(‘自定义事件名’，参数 1，参数 2) 方法触发父组件绑定的自定义事件</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; intro &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; num &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;button @click=&quot;fn&quot;&gt;+num&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  props: [&quot;intro&quot;, &quot;index&quot;, &quot;num&quot;],</span><br><span class="line">  methods: &#123;</span><br><span class="line">    fn() &#123;</span><br><span class="line">      this.$emit(&quot;sub&quot;, this.index, 1)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：这里在父组件中 @事件类型=’处理函数‘ 在 methods 中 声明这个函数，在子组件中 this.$emit(‘事件类型’，[参数 1]，[参数 2]) ( [ ] 中的内容表示可要可不要)</p>
</blockquote>
<h1 id="Day04"><a href="#Day04" class="headerlink" title="Day04"></a>Day04</h1><h2 id="1-Vue-生命周期"><a href="#1-Vue-生命周期" class="headerlink" title="1.Vue-生命周期"></a>1.Vue-生命周期</h2><blockquote>
<p>vue的声明周期：从Vue实例，创建到销毁的过程</p>
</blockquote>
<h2 id="2-Vue-钩子函数"><a href="#2-Vue-钩子函数" class="headerlink" title="2.Vue-钩子函数"></a>2.Vue-钩子函数</h2><p><strong>Vue</strong>框架内置函数，随着组件的生命周期阶段，自动执行的函数</p>
<h4 id="1-作用-1"><a href="#1-作用-1" class="headerlink" title="1.作用"></a>1.作用</h4><p>特定的时间点，执行特定的操作</p>
<h4 id="2-场景"><a href="#2-场景" class="headerlink" title="2.场景"></a>2.场景</h4><p>组件创建完毕后，可以在 created 生命周期函数中发起Ajax请求，从而初始化 data 数据</p>
<h4 id="3-分类"><a href="#3-分类" class="headerlink" title="3.分类"></a>3.分类</h4><h6 id="1-4个大阶段8个方法"><a href="#1-4个大阶段8个方法" class="headerlink" title="1.4个大阶段8个方法"></a>1.4个大阶段8个方法</h6><ul>
<li>初始化</li>
<li>挂载</li>
<li>更新</li>
<li>销毁</li>
</ul>
<table>
<thead>
<tr>
<th><strong>阶段</strong></th>
<th><strong>方法名</strong></th>
<th><strong>方法名</strong></th>
</tr>
</thead>
<tbody><tr>
<td>初始化</td>
<td>beforeCreate（不能获取data）</td>
<td>created（能获取data，不能获取真是DOM）</td>
</tr>
<tr>
<td>挂载</td>
<td>beforeMount</td>
<td>mounted（可以获取真是DOM）</td>
</tr>
<tr>
<td>更新</td>
<td>beforeUpdate</td>
<td>updated</td>
</tr>
<tr>
<td>销毁</td>
<td>beforeDestroy</td>
<td>destroyed</td>
</tr>
</tbody></table>
<p><a href="https://cn.vuejs.org/v2/guide/instance.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%BE%E7%A4%BA">官网文档</a></p>
<h6 id="2-初始化阶段"><a href="#2-初始化阶段" class="headerlink" title="2.初始化阶段"></a>2.初始化阶段</h6><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">msg</span>: <span class="string">&quot;hello, Vue&quot;</span></span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 一. 初始化</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// new Vue()以后, vue内部给实例对象添加了一些属性和方法, data和methods初始化&quot;之前&quot;</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">beforeCreate</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;beforeCreate -- 执行&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.msg); <span class="comment">// undefined</span></span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// data和methods初始化以后</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 场景: 网络请求, 注册全局事件</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">created</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;created -- 执行&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.msg); <span class="comment">// hello, Vue</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&quot;哈哈哈&quot;</span>);</span></span><br><span class="line"><span class="javascript">        &#125;, <span class="number">1000</span>)</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="3-挂载阶段"><a href="#3-挂载阶段" class="headerlink" title="3.挂载阶段"></a>3.挂载阶段</h6><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>学习生命周期 - 看控制台打印<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;myP&quot;</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// ...省略其他代码</span></span></span><br><span class="line"><span class="javascript">    </span></span><br><span class="line"><span class="javascript">    <span class="comment">// 二. 挂载</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 真实DOM挂载之前</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 场景: 预处理data, 不会触发updated钩子函数</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">beforeMount</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;beforeMount -- 执行&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementById(<span class="string">&quot;myP&quot;</span>)); <span class="comment">// null</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.msg = <span class="string">&quot;重新值&quot;</span></span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 真实DOM挂载以后</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 场景: 挂载后真实DOM</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;mounted -- 执行&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementById(<span class="string">&quot;myP&quot;</span>)); <span class="comment">// p</span></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="4-更新阶段"><a href="#4-更新阶段" class="headerlink" title="4.更新阶段"></a>4.更新阶段</h6><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>学习生命周期 - 看控制台打印<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;myP&quot;</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;myUL&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(val, index) in arr&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">              &#123;&#123; val &#125;&#125;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;arr.push(1000)&quot;</span>&gt;</span>点击末尾加值<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">msg</span>: <span class="string">&quot;hello, Vue&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">arr</span>: [<span class="number">5</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">1</span>]</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// ...省略其他代码</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 三. 更新</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 前提: data数据改变才执行</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 更新之前</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">beforeUpdate</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;beforeUpdate -- 执行&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">document</span>.querySelectorAll(<span class="string">&quot;#myUL&gt;li&quot;</span>)[<span class="number">4</span>]); <span class="comment">// undefined</span></span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 更新之后</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 场景: 获取更新后的真实DOM</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">updated</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;updated -- 执行&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">document</span>.querySelectorAll(<span class="string">&quot;#myUL&gt;li&quot;</span>)[<span class="number">4</span>]); <span class="comment">// li</span></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="5-销毁阶段"><a href="#5-销毁阶段" class="headerlink" title="5.销毁阶段"></a>5.销毁阶段</h6><p>主要: App.vue - 点击按钮让Life组件从DOM上移除 -&gt; 导致Life组件进入销毁阶段</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Life</span> <span class="attr">v-if</span>=<span class="string">&quot;show&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Life</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;show = false&quot;</span>&gt;</span>销毁组件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">show</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>components/Life.vue - 准备生命周期方法(Life组件即将要被删除)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    // ...省略其他代码</span><br><span class="line">    </span><br><span class="line">    // 四. 销毁</span><br><span class="line">    // 前提: v-if=&quot;false&quot; 销毁Vue实例</span><br><span class="line">    // 场景: 移除全局事件, 移除当前组件, 计时器, 定时器, eventBus移除事件$off方法</span><br><span class="line">    beforeDestroy()&#123;</span><br><span class="line">        // console.log(&#x27;beforeDestroy -- 执行&#x27;);</span><br><span class="line">        clearInterval(this.timer)</span><br><span class="line">    &#125;,</span><br><span class="line">    destroyed()&#123;</span><br><span class="line">        // console.log(&quot;destroyed -- 执行&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="3-axios的基本使用"><a href="#3-axios的基本使用" class="headerlink" title="3.axios的基本使用"></a>3.axios的基本使用</h2><p><a href="http://www.axios-js.com/">axios文档</a></p>
<p>特点</p>
<ul>
<li>支持客户端发送Ajax请求</li>
<li>支持服务端Node.js发送请求</li>
<li>支持Promise相关用法</li>
<li>支持请求和响应的拦截器功能</li>
<li>自动转换JSON数据</li>
<li>axios 底层还是原生js实现, 内部通过Promise封装的</li>
</ul>
<h6 id="axios的基本使用"><a href="#axios的基本使用" class="headerlink" title="axios的基本使用"></a>axios的基本使用</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">axios(&#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;请求方式&#x27;</span>, <span class="comment">// get post</span></span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;请求地址&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123;    <span class="comment">// 拼接到请求体的参数,  post请求的参数</span></span><br><span class="line">    <span class="attr">xxx</span>: xxx,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">params</span>: &#123;  <span class="comment">// 拼接到请求行的参数, get请求的参数</span></span><br><span class="line">   	<span class="attr">xxx</span>: xxx </span><br><span class="line">  &#125;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res.data) <span class="comment">// 后台返回的结果</span></span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err) <span class="comment">// 后台报错返回</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>axios配置基地址：axios.defaults.baseURL = “ xxx “  </p>
</blockquote>
<h1 id="Day05"><a href="#Day05" class="headerlink" title="Day05"></a>Day05</h1><h2 id="1-组件-插槽"><a href="#1-组件-插槽" class="headerlink" title="1.组件-插槽"></a>1.组件-插槽</h2><h6 id="1-使用场景"><a href="#1-使用场景" class="headerlink" title="1.使用场景"></a>1.使用场景</h6><p>用于时间组件中不确定内容的开发，通过<slot></slot>标签占据位置，可以接收到父组件的组件标签中的内容</p>
<h6 id="2-基本使用"><a href="#2-基本使用" class="headerlink" title="2.基本使用"></a>2.基本使用</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//子组件中 Pannel.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 按钮标题 --&gt;</span><br><span class="line">    &lt;div class=&quot;title&quot;&gt;</span><br><span class="line">      &lt;h4&gt;芙蓉楼送辛渐&lt;/h4&gt;</span><br><span class="line">      &lt;span class=&quot;btn&quot; @click=&quot;isShow = !isShow&quot;&gt;</span><br><span class="line">        &#123;&#123; isShow ? &quot;收起&quot; : &quot;展开&quot; &#125;&#125;</span><br><span class="line">      &lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;!-- 下拉内容 --&gt;</span><br><span class="line">    &lt;div class=&quot;container&quot; v-show=&quot;isShow&quot;&gt;</span><br><span class="line">         &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;container&quot;&gt;</span><br><span class="line">    &lt;Pannel&gt;</span><br><span class="line">          &lt;span&gt;我是内容&lt;/span&gt;</span><br><span class="line">      &lt;/Pannel&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Pannel from &quot;../components/Pannel&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    Pannel,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="2-具名插槽"><a href="#2-具名插槽" class="headerlink" title="2.具名插槽"></a>2.具名插槽</h2><h6 id="1-作用-2"><a href="#1-作用-2" class="headerlink" title="1.作用"></a>1.作用</h6><p>可以让组件内多处定义自拟以标签的能力</p>
<h6 id="2-使用方法"><a href="#2-使用方法" class="headerlink" title="2.使用方法"></a>2.使用方法</h6><p>在子组件中使用 <slot></slot> 占位, 并设置 name 属性</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;slot name=&quot;title&quot;&gt;&lt;/slot&gt;</span><br></pre></td></tr></table></figure>



<p>使用组件时, 在组件标签内使用 <template></template> 结合 v-slot: 指令来设置 name</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> &lt;Pannel&gt;</span><br><span class="line"> 	 &lt;template v-slot:title&gt;&lt;/template&gt; // 简写 &lt;template #title&gt;&lt;/template&gt;</span><br><span class="line">&lt;/Pannel&gt; </span><br></pre></td></tr></table></figure>

<h2 id="3-作用于插槽"><a href="#3-作用于插槽" class="headerlink" title="3.作用于插槽"></a>3.作用于插槽</h2><h6 id="1-作用-3"><a href="#1-作用-3" class="headerlink" title="1.作用"></a>1.作用</h6><p>可以在使用组件时访问组件内的数据</p>
<h6 id="2-使用方法-1"><a href="#2-使用方法-1" class="headerlink" title="2.使用方法"></a>2.使用方法</h6><p>1.在子组件中使用的<slot></slot>占位，并使用v-bind绑定数据给 slot 标签</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;slot :row=&quot;obj&quot;&gt;&lt;/slot&gt;</span><br></pre></td></tr></table></figure>

<p>2.使用组件时，在 <template></template>标签上使用 v-slot=“变量名” 取值使用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;Pannel&gt;</span><br><span class="line">  &lt;template v-slot=&quot;scope&quot;&gt;&lt;/template&gt;</span><br><span class="line">&lt;/Pannel&gt;</span><br><span class="line">//scope 的值： &#123; row:obj &#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-自定义指令"><a href="#4-自定义指令" class="headerlink" title="4.自定义指令"></a>4.自定义指令</h2><h6 id="1-作用-4"><a href="#1-作用-4" class="headerlink" title="1.作用"></a>1.作用</h6><p>当 Vue 自带的指令无法满足需求时使用</p>
<h6 id="2-全局注册"><a href="#2-全局注册" class="headerlink" title="2.全局注册"></a>2.全局注册</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Vue.directive(<span class="string">&#x27;focus&#x27;</span>,&#123;</span><br><span class="line">    <span class="function"><span class="title">inserted</span>(<span class="params">el</span>)</span>&#123;</span><br><span class="line">        el.foucs()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h6 id="3-局部注册"><a href="#3-局部注册" class="headerlink" title="3.局部注册"></a>3.局部注册</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">// 目标: 创建 &quot;自定义指令&quot;, 让输入框自动聚焦</span><br><span class="line">// 1. 创建自定义指令</span><br><span class="line">// 全局 / 局部</span><br><span class="line">// 2. 在标签上使用自定义指令  v-指令名</span><br><span class="line">// 注意:</span><br><span class="line">// inserted方法 - 指令所在标签, 被插入到网页上触发(一次)</span><br><span class="line">// update方法 - 指令对应数据/标签更新时, 此方法执行</span><br><span class="line">export default &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            colorStr: &#x27;red&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    directives: &#123;</span><br><span class="line">        focus: &#123;</span><br><span class="line">            inserted(el)&#123;</span><br><span class="line">                el.focus()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="5-组件进阶"><a href="#5-组件进阶" class="headerlink" title="5.组件进阶"></a>5.组件进阶</h2><h4 id="1-refs"><a href="#1-refs" class="headerlink" title="1.$refs"></a>1.$refs</h4><h6 id="1-作用-5"><a href="#1-作用-5" class="headerlink" title="1.作用"></a>1.作用</h6><p>1.获取原生 DOM 对象</p>
<p>2.获取组件对象</p>
<h6 id="2-用法-1"><a href="#2-用法-1" class="headerlink" title="2.用法"></a>2.用法</h6><p>1.给组件或标签添加 ref 属性</p>
<p>2.this.$refs.ref属性名</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;p&gt;1. 获取原生DOM元素&lt;/p&gt;</span><br><span class="line">      &lt;h1 id=&quot;h&quot; ref=&quot;myH&quot;&gt;我是一个孤独可怜又能吃的h1&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 目标: 获取组件对象</span><br><span class="line">// 1. 创建组件/引入组件/注册组件/使用组件</span><br><span class="line">// 2. 组件起别名ref</span><br><span class="line">// 3. 恰当时机, 获取组件对象</span><br><span class="line">    exprots default&#123;</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        console.log(document.getElementById(&quot;h&quot;)); //h1</span><br><span class="line">        console.log(this.$refs.myh); //h1</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>总结：通过 id / ref，都可以获取原生 DOM 标签</p>
</blockquote>
<h4 id="2-refs-获取组件对象"><a href="#2-refs-获取组件对象" class="headerlink" title="2.$refs-获取组件对象"></a>2.$refs-获取组件对象</h4><p>components/Child/Demo.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;p&gt;我是Demo组件&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        fn()&#123;</span><br><span class="line">            console.log(&quot;demo组件内的方法被调用了&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>More.vue - 获取组件对象 - 调用组件方法</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;p&gt;1. 获取原生DOM元素&lt;/p&gt;</span><br><span class="line">      &lt;h1 id=&quot;h&quot; ref=&quot;myH&quot;&gt;我是一个孤独可怜又能吃的h1&lt;/h1&gt;</span><br><span class="line">      &lt;p&gt;2. 获取组件对象 - 可调用组件内一切&lt;/p&gt;</span><br><span class="line">      &lt;Demo ref=&quot;de&quot;&gt;&lt;/Demo&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 目标: 获取组件对象</span><br><span class="line">// 1. 创建组件/引入组件/注册组件/使用组件</span><br><span class="line">// 2. 组件起别名ref</span><br><span class="line">// 3. 恰当时机, 获取组件对象</span><br><span class="line">import Demo from &#x27;./Child/Demo.vue&#x27;</span><br><span class="line">    export default&#123;</span><br><span class="line">        components:&#123;</span><br><span class="line">            Demo</span><br><span class="line">        &#125;</span><br><span class="line">        mounted&#123;</span><br><span class="line">        console.log(document.getElementById(&quot;h&quot;))</span><br><span class="line">        console.log(this.$refs.myH)</span><br><span class="line">		</span><br><span class="line">        let demoObj = this.$refs.de</span><br><span class="line">        demoObj.fn()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>总结: ref定义值, 通过$refs.值 来获取组件对象, 就能继续调用组件内的变量</p>
</blockquote>
<h4 id="3-nextTick-使用"><a href="#3-nextTick-使用" class="headerlink" title="3.$nextTick-使用"></a>3.$nextTick-使用</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;p&gt;1. 获取原生DOM元素&lt;/p&gt;</span><br><span class="line">      &lt;h1 id=&quot;h&quot; ref=&quot;myH&quot;&gt;我是一个孤独可怜又能吃的h1&lt;/h1&gt;</span><br><span class="line">      &lt;p&gt;2. 获取组件对象 - 可调用组件内一切&lt;/p&gt;</span><br><span class="line">      &lt;Demo ref=&quot;de&quot;&gt;&lt;/Demo&gt;</span><br><span class="line">      &lt;p&gt;3. vue更新DOM是异步的&lt;/p&gt;</span><br><span class="line">      &lt;p ref=&quot;myP&quot;&gt;&#123;&#123; count &#125;&#125;&lt;/p&gt;</span><br><span class="line">      &lt;button @click=&quot;btn&quot;&gt;点击count+1, 马上提取p标签内容&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 目标: 获取组件对象</span><br><span class="line">// 1. 创建组件/引入组件/注册组件/使用组件</span><br><span class="line">// 2. 组件起别名ref</span><br><span class="line">// 3. 恰当时机, 获取组件对象</span><br><span class="line">import Demo from &#x27;./Child/Demo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        console.log(document.getElementById(&quot;h&quot;)); // h1</span><br><span class="line">        console.log(this.$refs.myH); // h1</span><br><span class="line"></span><br><span class="line">        let demoObj = this.$refs.de;</span><br><span class="line">        demoObj.fn()</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">        Demo</span><br><span class="line">    &#125;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            count: 0</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        btn()&#123;</span><br><span class="line">            this.count++; // vue监测数据更新, 开启一个DOM更新队列(异步任务)</span><br><span class="line">            console.log(this.$refs.myP.innerHTML); // 0</span><br><span class="line"></span><br><span class="line">            // 原因: Vue更新DOM异步</span><br><span class="line">            // 解决: this.$nextTick()</span><br><span class="line">            // 过程: DOM更新完会挨个触发$nextTick里的函数体</span><br><span class="line">             this.$nextTick(() =&gt; &#123;</span><br><span class="line">                console.log(this.$refs.myP.innerHTML); // 1</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="4-nextTick-使用场景"><a href="#4-nextTick-使用场景" class="headerlink" title="4.$nextTick-使用场景"></a>4.$nextTick-使用场景</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;input ref=&quot;myInp&quot; type=&quot;text&quot; placeholder=&quot;这是一个输入框&quot; v-if=&quot;isShow&quot;&gt;</span><br><span class="line">      &lt;button v-else @click=&quot;btn&quot;&gt;点击我进行搜索&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default&#123;</span><br><span class="line">        data()&#123;</span><br><span class="line">            return&#123;</span><br><span class="line">                isShow=false</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        methods:&#123;</span><br><span class="line">           async btn()&#123;</span><br><span class="line">                !this.isShow</span><br><span class="line">                //this.$nextTick(()=&gt;this.$refs.myInp.focus())</span><br><span class="line">                //扩展：await 取代回调函数</span><br><span class="line">                //$nextTick()原地返回 Promise 对象</span><br><span class="line">                await this.$nextTick()</span><br><span class="line">               this.$refs.myInp.focus()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="5-v-model-的原理"><a href="#5-v-model-的原理" class="headerlink" title="5.v-model 的原理"></a>5.v-model 的原理</h4><p>1.给组件使用 v-bind 绑定 value 属性</p>
<p>2.给组件使用 v-on 绑定 input 事件</p>
<h1 id="Day06"><a href="#Day06" class="headerlink" title="Day06"></a>Day06</h1><h2 id="1-路由"><a href="#1-路由" class="headerlink" title="1.路由"></a>1.路由</h2><h4 id="1-路由是什么？"><a href="#1-路由是什么？" class="headerlink" title="1.路由是什么？"></a>1.路由是什么？</h4><p>1.一种映射关系</p>
<p>2.vue路由：路径和组件的映射关系</p>
<h4 id="2-为什么要用路由？SPA"><a href="#2-为什么要用路由？SPA" class="headerlink" title="2.为什么要用路由？SPA"></a>2.为什么要用路由？SPA</h4><p>1.Single Page Application 单页面应用程序</p>
<p>2.优点：</p>
<ul>
<li>只有一个 HTML , 不用刷新页面, 用户体验更好</li>
<li>更高效</li>
</ul>
<p>3.缺点：</p>
<ul>
<li>学习成本高</li>
<li>首屏加载慢, 不利于 SEO</li>
</ul>
<h4 id="3-路由的使用"><a href="#3-路由的使用" class="headerlink" title="3.路由的使用"></a>3.路由的使用</h4><ol>
<li>装包 yarn add vue-router</li>
<li>引入 import VueRouter from ‘vue-router’</li>
<li>注册  Vue.use(VueRouter)</li>
<li>配置路由规则 </li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> routes= [</span><br><span class="line">    <span class="comment">//一个对象就是一条规则</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;/xxx&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>:<span class="comment">//组件，</span></span><br><span class="line">        name: <span class="comment">// 路由的名称  用于编程式导航跳转</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><p>创建路由对象，传入配置规则</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    routes</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>将路由对象挂到 Vue 配置中</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(</span><br><span class="line">    router</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>使用 router-view 组件占位，将来路径匹配后会将指定的组件替换到此处</p>
</li>
</ol>
<h2 id="2-声明式导航"><a href="#2-声明式导航" class="headerlink" title="2.声明式导航"></a>2.声明式导航</h2><p>在 App.vue 中</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class=&quot;footer_wrap&quot;&gt;</span><br><span class="line">      &lt;router-link to=&quot;/find&quot;&gt;发现音乐&lt;/router-link&gt;</span><br><span class="line">      &lt;router-link to=&quot;/my&quot;&gt;&lt;/router-link&gt;</span><br><span class="line">      &lt;router-link to=&quot;/part?name=gk&amp;age=22&quot;&gt;朋友&lt;/router-link&gt;</span><br><span class="line">      &lt;router-link to=&quot;/part/gk/22&quot;&gt;朋友&lt;/router-link&gt; </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;top&quot;&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>在main.js 中</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> routes = [&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    <span class="attr">redirect</span>: <span class="string">&#x27;/find&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/my&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: My,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;my&#x27;</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/find&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: Find,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;find&#x27;</span>,</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/part&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: Part,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;part&#x27;</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/part/:name/:age&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: Part,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;part&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: NotFound</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h5 id="接收参数："><a href="#接收参数：" class="headerlink" title="接收参数："></a>接收参数：</h5><ol>
<li>使用  /part?name=gk&amp;age=22 在子组件中接受 ？后的参数 要用  </li>
<li>使用 /part/gk/22 传参时 要现在 路由配置规则中将路径改为 /part/:name/:age 在子组件中接受参数要使用 ,</li>
</ol>
<h2 id="3-路由配置规则"><a href="#3-路由配置规则" class="headerlink" title="3.路由配置规则"></a>3.路由配置规则</h2><h6 id="1-重定向"><a href="#1-重定向" class="headerlink" title="1.重定向"></a>1.重定向</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    <span class="attr">redirect</span>: <span class="string">&#x27;/find&#x27;</span>,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h6 id="2-默认路由"><a href="#2-默认路由" class="headerlink" title="2.默认路由"></a>2.默认路由</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: NotFound</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：一般写在配置规则最后</p>
</blockquote>
<h6 id="3-模式"><a href="#3-模式" class="headerlink" title="3.模式"></a>3.模式</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes,</span><br><span class="line">  <span class="comment">//路由模式：hash/ history</span></span><br><span class="line">  <span class="comment">//history  路径上没有# 但需要后端配合</span></span><br><span class="line">  <span class="comment">// 路径上有# 无需后端配合自己可以使用</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;history&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="4-编程式导航"><a href="#4-编程式导航" class="headerlink" title="4.编程式导航"></a>4.编程式导航</h2><p>1.使用</p>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class=&quot;footer_wrap&quot;&gt;</span><br><span class="line">      &lt;!-- &lt;router-link to=&quot;/find&quot;&gt;发现音乐&lt;/router-link&gt;</span><br><span class="line">      &lt;router-link to=&quot;/my&quot;&gt;&lt;/router-link&gt;</span><br><span class="line">      &lt;router-link to=&quot;/part?name=gk&amp;age=22&quot;&gt;朋友&lt;/router-link&gt;</span><br><span class="line">      &lt;router-link to=&quot;/part/gk/22&quot;&gt;朋友&lt;/router-link&gt; --&gt;</span><br><span class="line">      &lt;span @click=&quot;goTO(&#x27;/find&#x27;, &#x27;find&#x27;)&quot;&gt;发现音乐&lt;/span&gt;</span><br><span class="line">      &lt;span @click=&quot;goTO(&#x27;/my&#x27;, &#x27;my&#x27;)&quot;&gt;我的音乐&lt;/span&gt;</span><br><span class="line">      &lt;span @click=&quot;goTO(&#x27;/part&#x27;, &#x27;part&#x27;)&quot;&gt;朋友&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;top&quot;&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // 使用 path 和 query 传参</span><br><span class="line">    goTO(path) &#123;</span><br><span class="line">      this.$router.push(&#123;</span><br><span class="line">        path,</span><br><span class="line">        query: &#123;</span><br><span class="line">          name: &quot;gk&quot;,</span><br><span class="line">          age: 20,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    // 使用name + params 传参</span><br><span class="line">    // goTO(path, name) &#123;</span><br><span class="line">    //   this.$router.push(&#123;</span><br><span class="line">    //     name,</span><br><span class="line">    //     params: &#123;</span><br><span class="line">    //       name: &quot;gk&quot;,</span><br><span class="line">    //       age: 20,</span><br><span class="line">    //     &#125;,</span><br><span class="line">    //   &#125;);</span><br><span class="line">    // &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>main.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$router.push(&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;路径&#x27;</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;路由名称&#x27;</span>,</span><br><span class="line">  <span class="attr">query</span>:&#123;&#125;,</span><br><span class="line">  <span class="attr">params</span>:&#123;&#125;</span><br><span class="line">    <span class="comment">//注意：如果使用 path 则会忽略 params</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-路由嵌套和守卫"><a href="#5-路由嵌套和守卫" class="headerlink" title="5.路由嵌套和守卫"></a>5.路由嵌套和守卫</h2><h4 id="1-子路由"><a href="#1-子路由" class="headerlink" title="1.子路由"></a>1.子路由</h4><p>在对应的组件 路由配置规则中添加 children 属性</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="attr">path</span>: <span class="string">&#x27;/find&#x27;</span>,</span><br><span class="line">   <span class="attr">component</span>: Find,</span><br><span class="line">   <span class="attr">name</span>: <span class="string">&#x27;find&#x27;</span>,</span><br><span class="line">   <span class="attr">children</span>: [&#123;</span><br><span class="line">       <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">       <span class="attr">redirect</span>: <span class="string">&#x27;recommend&#x27;</span></span><br><span class="line">     &#125;, &#123;</span><br><span class="line">       <span class="attr">path</span>: <span class="string">&#x27;recommend&#x27;</span>,</span><br><span class="line">       <span class="attr">component</span>: Recommend</span><br><span class="line">     &#125;, &#123;</span><br><span class="line">       <span class="attr">path</span>: <span class="string">&#x27;ranking&#x27;</span>,</span><br><span class="line">       <span class="attr">component</span>: Ranking</span><br><span class="line">     &#125;, &#123;</span><br><span class="line">       <span class="attr">path</span>: <span class="string">&#x27;songlist&#x27;</span>,</span><br><span class="line">       <span class="attr">component</span>: SongList</span><br><span class="line">     &#125;,</span><br><span class="line"></span><br><span class="line">   ]</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：二级路由中的路径前面==不要加  /== </p>
</blockquote>
<h4 id="2-全局前置导航守卫"><a href="#2-全局前置导航守卫" class="headerlink" title="2.全局前置导航守卫"></a>2.全局前置导航守卫</h4><h6 id="1-作用-6"><a href="#1-作用-6" class="headerlink" title="1.作用"></a>1.作用</h6><p>用于拦截路由跳转</p>
<h6 id="2-用法-2"><a href="#2-用法-2" class="headerlink" title="2.用法"></a>2.用法</h6><p>在 main.js 中找到 router 对象调用 beforeEach 方法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> isLogin = <span class="literal">false</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!isLogin &amp;&amp; to.path.startsWith(<span class="string">&#x27;/my&#x27;</span>)) &#123;</span><br><span class="line">    alert(<span class="string">&#x27;未登录&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> next(&#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/find&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  next()<span class="comment">//记得使用next()放行 否则路由系统瘫痪</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="6-组件缓存"><a href="#6-组件缓存" class="headerlink" title="6.组件缓存"></a>6.组件缓存</h2><h6 id="1-作用："><a href="#1-作用：" class="headerlink" title="1.作用："></a>1.作用：</h6><p>缓存，组件不会被销毁</p>
<h6 id="2-用法-3"><a href="#2-用法-3" class="headerlink" title="2.用法"></a>2.用法</h6><p>1.在 router-view 外面包裹一个 keep-alive 组件即可</p>
<p>2.包含：include  排除：exclude</p>
<p>3.方式用了 keep-alive 之后，组件会多两个钩子函数：activated 激活时触发，deactivated 失活时触发</p>
]]></content>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>vue项目</title>
    <url>/2021/11/21/vue%E9%A1%B9%E7%9B%AE/</url>
    <content><![CDATA[<h1 id="Day01"><a href="#Day01" class="headerlink" title="Day01"></a>Day01</h1><h2 id="1-Vuex-基本介绍"><a href="#1-Vuex-基本介绍" class="headerlink" title="1.Vuex-基本介绍"></a>1.Vuex-基本介绍</h2><h4 id="1-Vuex是什么？"><a href="#1-Vuex是什么？" class="headerlink" title="1. Vuex是什么？"></a>1. Vuex是什么？</h4><p><a href="https://vuex.vuejs.org/zh/">Vuex</a> 是一个专为 Vue.js 应用程序开发的<strong>状态管理模式</strong>， 采用<strong>集中式存储</strong>管理应用的所有组件的状态，解决多组件数据通信。</p>
<p>要点：</p>
<ol>
<li>vue官方搭配，专属使用 (类似于：vue-router)，有专门的调试工具</li>
<li><strong>集中式</strong>管理数据状态方案 (操作更简洁)<code>data() &#123; return &#123; 数据, 状态 &#125;&#125;</code></li>
<li>数据变化是可预测的 (<strong>响应式</strong>)</li>
</ol>
<h4 id="2-Vuex中的5个内容"><a href="#2-Vuex中的5个内容" class="headerlink" title="2.Vuex中的5个内容"></a>2.Vuex中的5个内容</h4><ol>
<li><strong>state</strong>： 统一定义公共数据（类似于data(){return {a:1, b:2，xxxxxx}}）</li>
<li><strong>mutations</strong> ： 使用它来修改数据(类似于methods)===更改state中的数据必须使用mutations来进行更改</li>
<li>getters： 类似于computed(计算属性，对现有的状态进行计算得到新的数据——-派生 )</li>
<li>actions： 发起异步请求</li>
<li>modules： 模块拆分</li>
</ol>
<h4 id="3-Vuex的基本使用"><a href="#3-Vuex的基本使用" class="headerlink" title="3.Vuex的基本使用"></a>3.Vuex的基本使用</h4><h6 id="两种情况"><a href="#两种情况" class="headerlink" title="两种情况"></a>两种情况</h6><ol>
<li><p>情况1：在老项目中使用。 先额外安装vuex包，然后在配置。</p>
</li>
<li><p>情况2：在新项目中使用。 在配置vue-cli中创建项目时，就可以直接选中vuex项，这样就不用做任何配置了（脚手架会自动帮我们完成的）。具体如下图示：</p>
<p><img src="https://gitee.com/silence1224/big-hr/raw/master/vuex_element/01-vuex/01-%E8%AE%B2%E4%B9%89/asset/%E5%9C%A8%E8%84%9A%E6%89%8B%E6%9E%B6%E5%B7%A5%E5%85%B7%E4%B8%AD%E9%80%89%E4%B8%ADvuex.gif" alt="img"></p>
</li>
</ol>
<h5 id="整体步骤"><a href="#整体步骤" class="headerlink" title="整体步骤"></a>整体步骤</h5><p><strong>1.安装包</strong></p>
<p>npm install vuex</p>
<p><strong>2.新建store</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">|--src</span><br><span class="line">|----- main.js</span><br><span class="line">|----- store</span><br><span class="line">|----------- index.js</span><br></pre></td></tr></table></figure>

<p>在store/index.js 中放置具体的代码，具体如下：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<p><strong>向Vue实例中注入store</strong></p>
<p>在src/main.js中：</p>
<ol>
<li>导入store</li>
<li>并注入Vue实例</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 省略其他</span></span><br><span class="line"><span class="comment">// 1. 导入store</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="comment">// 省略其他...</span></span><br><span class="line">  store <span class="comment">// 2. 注入Vue实例</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p> <strong>在组件中使用store</strong></p>
<p>在任意组件中，通过<code>this.$store.state</code> 来获取公共数据。</p>
<h2 id="2-state中定义公共数据的使用"><a href="#2-state中定义公共数据的使用" class="headerlink" title="2.state中定义公共数据的使用"></a>2.state中定义公共数据的使用</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store/index.js中</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    <span class="attr">state</span>:&#123;</span><br><span class="line">        <span class="attr">msg</span>:<span class="string">&#x27;hello&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//App.vue 中</span><br><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">			&#123;&#123;$store.state.msg&#125;&#125; ==&#123;&#123;msg&#125;&#125;   	</span><br><span class="line">    	&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    // 1. 导入辅助函数mapState，它是在vuex中定义的一个工具函数。</span><br><span class="line">	//  es6 按需导入 import &#123; mapState &#125; from &#x27;vuex&#x27; </span><br><span class="line">    import &#123;mapState&#125; from &quot;vuex&quot;</span><br><span class="line">    computed: &#123;</span><br><span class="line">   // 说明1： ...对象 是把对象展开，合并到computed</span><br><span class="line">   // 说明2： mapState是一个函数 </span><br><span class="line">   //  [&#x27;数据项1&#x27;， &#x27;数据项2&#x27;]</span><br><span class="line">   ...mapState([&#x27;msg&#x27;])</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="3-mutations"><a href="#3-mutations" class="headerlink" title="3.mutations"></a>3.mutations</h2><p>==类似 methods，更改 state 中的数据 必须使用 mutations，调用 mutations 中的函数必须使用 commit 方法==</p>
<p><strong>使用代码</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store/index.js中</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    <span class="attr">state</span>:&#123;</span><br><span class="line">        <span class="attr">msg</span>:<span class="string">&#x27;hello&#x27;</span></span><br><span class="line">    &#125;，</span><br><span class="line">    mutations：&#123;</span><br><span class="line">    <span class="function"><span class="title">setMsg</span>(<span class="params">state,&#123;m,n&#125;</span>)</span> &#123;</span><br><span class="line">    		state.msg=m</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> // App.vue 中</span><br><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">			&#123;&#123;$store.state.msg&#125;&#125; ==&#123;&#123;msg&#125;&#125;   	</span><br><span class="line">    	&lt;/p&gt;</span><br><span class="line">        &lt;button @click=&quot;changeMsg&quot;&gt;更改msg&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    // 1. 导入辅助函数mapState，它是在vuex中定义的一个工具函数。</span><br><span class="line">	//  es6 按需导入 import &#123; mapState,mapMutations &#125; from &#x27;vuex&#x27; </span><br><span class="line">    import &#123;mapState&#125; from &quot;vuex&quot;</span><br><span class="line">    computed: &#123;</span><br><span class="line">   // 说明1： ...对象 是把对象展开，合并到computed</span><br><span class="line">   // 说明2： mapState是一个函数 </span><br><span class="line">   //  [&#x27;数据项1&#x27;， &#x27;数据项2&#x27;]</span><br><span class="line">   ...mapState([&#x27;msg&#x27;])</span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        ...mapMutations( [&#x27;setMsg&#x27;]),</span><br><span class="line">            changeMsg() &#123;</span><br><span class="line">			this.setMsg(&#123;m:&#x27;黑马程序员&#x27;，n:&#x27;传智播客&#x27;&#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="4-getters"><a href="#4-getters" class="headerlink" title="4.getters"></a>4.getters</h2><p>==类似 computed，计算属性==</p>
<p><strong>基本使用</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store/index.js中</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    <span class="attr">state</span>:&#123;</span><br><span class="line">        <span class="attr">msg</span>:<span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">         <span class="attr">books</span>: [</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="string">&quot;name&quot;</span>: <span class="string">&quot;javasript技术内幕&quot;</span>,</span><br><span class="line">     <span class="string">&quot;price&quot;</span>: <span class="number">100</span>,</span><br><span class="line">     <span class="string">&quot;img&quot;</span>: <span class="string">&quot;https://img3m7.ddimg.cn/64/26/29120617-1_u_8.jpg&quot;</span></span><br><span class="line">   &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="string">&quot;name&quot;</span>: <span class="string">&quot;数学之美&quot;</span>,</span><br><span class="line">     <span class="string">&quot;price&quot;</span>: <span class="number">44</span>,</span><br><span class="line">     <span class="string">&quot;img&quot;</span>: <span class="string">&quot;https://img3m2.ddimg.cn/18/30/28538352-1_b_5.jpg&quot;</span></span><br><span class="line">   &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="string">&quot;name&quot;</span>: <span class="string">&quot;认知天性&quot;</span>,</span><br><span class="line">     <span class="string">&quot;price&quot;</span>: <span class="number">40</span>,</span><br><span class="line">     <span class="string">&quot;img&quot;</span>: <span class="string">&quot;https://img3m3.ddimg.cn/74/33/1732997153-3_u_3.jpg&quot;</span></span><br><span class="line">   &#125;</span><br><span class="line"> ],</span><br><span class="line">    &#125;，</span><br><span class="line">    </span><br><span class="line">    mutations：&#123;</span><br><span class="line">    <span class="function"><span class="title">setMsg</span>(<span class="params">state,&#123;m,n&#125;</span>)</span> &#123;</span><br><span class="line">    		state.msg=m</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;，</span><br><span class="line">    </span><br><span class="line">    <span class="attr">getters</span>: &#123;</span><br><span class="line">  		<span class="function"><span class="title">Stotal</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">  		<span class="keyword">return</span>  state.books.reduce(<span class="function">(<span class="params">sum,item</span>)=&gt;</span>sum+item.price,<span class="number">0</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> // App.vue 中</span><br><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">			&#123;&#123;$store.state.msg&#125;&#125; ==&#123;&#123;msg&#125;&#125;   	</span><br><span class="line">    	&lt;/p&gt;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">			&#123;&#123;$store.getters.Stotal&#125;&#125; ==&#123;&#123;Stotal&#125;   	</span><br><span class="line">    	&lt;/p&gt;</span><br><span class="line">        &lt;button @click=&quot;changeMsg&quot;&gt;更改msg&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    // 1. 导入辅助函数mapState，它是在vuex中定义的一个工具函数。</span><br><span class="line">	//  es6 按需导入 import &#123; mapState,mapMutations &#125; from &#x27;vuex&#x27; </span><br><span class="line">    import &#123;mapState,mapMutations,mapGetters&#125; from &quot;vuex&quot;</span><br><span class="line">    computed: &#123;</span><br><span class="line">   // 说明1： ...对象 是把对象展开，合并到computed</span><br><span class="line">   // 说明2： mapState是一个函数 </span><br><span class="line">   //  [&#x27;数据项1&#x27;， &#x27;数据项2&#x27;]</span><br><span class="line">   ...mapState([&#x27;msg&#x27;]),</span><br><span class="line">   ...mapGetters([&#x27;Stotal&#x27;]),</span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        ...mapMutations( [&#x27;setMsg&#x27;]),</span><br><span class="line">            changeMsg() &#123;</span><br><span class="line">			this.setMsg(&#123;m:&#x27;黑马程序员&#x27;，n:&#x27;传智播客&#x27;&#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="5-actions"><a href="#5-actions" class="headerlink" title="5.actions"></a>5.actions</h2><p><strong>作用</strong></p>
<ul>
<li>action中可以通过调用 mutation来修改state，而不是直接变更状态。</li>
<li>action 可以包含<strong>任意异步</strong>(例如ajax请求)操作。</li>
</ul>
<p><strong>调用格式</strong></p>
<p>在组件中通过<code>this.$store.dispatch(&#39;actions的名字&#39;, 参数)</code>来调用action</p>
<h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> </span><br><span class="line">	<span class="attr">state</span>:&#123;</span><br><span class="line">    <span class="attr">books2</span>:[],</span><br><span class="line">	&#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">mutations</span>:&#123;</span><br><span class="line">         <span class="function"><span class="title">getBook</span>(<span class="params">state,newBook</span>)</span> &#123;</span><br><span class="line">      state.books2=newBook</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="comment">// AddCount(context,num) &#123;</span></span><br><span class="line">    <span class="comment">//   setTimeout(()=&gt;&#123;</span></span><br><span class="line">    <span class="comment">//     context.commit(&#x27;setNum&#x27;,num)</span></span><br><span class="line">    <span class="comment">//   &#125;,1000)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">   <span class="keyword">async</span> <span class="function"><span class="title">GetBook</span>(<span class="params">&#123;commit&#125;</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> res =<span class="keyword">await</span> axios(&#123;</span><br><span class="line">      <span class="attr">url</span>:<span class="string">&#x27;https://www.fastmock.site/mock/37d3b9f13a48d528a9339fbed1b81bd5/book/api/books&#x27;</span>,</span><br><span class="line">      <span class="attr">method</span>:<span class="string">&#x27;GET&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    commit(<span class="string">&#x27;getBook&#x27;</span>,res.data.data)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">      &lt;li v-for=&quot;(item, index) in $store.state.books2&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">        &lt;img :src=&quot;item.img&quot; alt=&quot;&quot; /&gt;</span><br><span class="line">        &lt;p&gt;&#123;&#123; item.name &#125;&#125;&lt;/p&gt;</span><br><span class="line">        &lt;p&gt;&#123;&#123; item.price &#125;&#125;&lt;/p&gt;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">	created() &#123;</span><br><span class="line">    </span><br><span class="line">    this.$store.dispatch(&#x27;GetBook&#x27;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Day02"><a href="#Day02" class="headerlink" title="Day02"></a>Day02</h1><h2 id="1-了解常见组件库及使用流程"><a href="#1-了解常见组件库及使用流程" class="headerlink" title="1.了解常见组件库及使用流程"></a>1.了解常见组件库及使用流程</h2><h4 id="常见-vue-技术栈组件库"><a href="#常见-vue-技术栈组件库" class="headerlink" title="常见 vue 技术栈组件库"></a>常见 vue 技术栈组件库</h4><ul>
<li>移动端（<a href="https://vant-contrib.gitee.io/vant/#/zh-CN/">Vant</a>, <a href="https://didi.github.io/cube-ui/#/zh-CN/docs/introduction">Cube-UI</a>,  <a href="https://nutui.jd.com/#/index">NutUI</a> ）</li>
<li>PC端 （ <a href="https://element.eleme.cn/#/zh-CN">element-ui</a>, <a href="https://www.antdv.com/docs/vue/introduce-cn/">Ant Design of Vue</a>, <a href="http://v1.iviewui.com/">iView</a>）</li>
<li>小程序: <a href="https://uniapp.dcloud.io/select">uniapp</a></li>
</ul>
<h4 id="遇到问题时"><a href="#遇到问题时" class="headerlink" title="遇到问题时"></a>遇到问题时</h4><ol>
<li><p>查看官网使用文档</p>
<p><a href="https://element.eleme.io/#/zh-CN">element官网</a></p>
</li>
<li><p>在社区/搜索引擎 找答案</p>
</li>
<li><p>去提<a href="https://github.com/ElemeFE/element/issues?page=3&q=table">issue</a>  ，面对面直接向组件的作者提问</p>
</li>
<li><p>改源码</p>
</li>
</ol>
<h2 id="2-创建项目并引入element组件"><a href="#2-创建项目并引入element组件" class="headerlink" title="2.创建项目并引入element组件"></a>2.创建项目并引入element组件</h2><p><a href="https://element.eleme.io/#/zh-CN">element官网</a></p>
<p>ElementPlus(适配Vue3.0的版本)官方地址： <a href="https://element-plus.org/#/zh-CN">https://element-plus.org/#/zh-CN</a></p>
<h4 id="把ElementUI添加到项目中"><a href="#把ElementUI添加到项目中" class="headerlink" title="把ElementUI添加到项目中"></a>把ElementUI添加到项目中</h4><p>参考<a href="https://element.eleme.io/#/zh-CN/component/installation">官网文档</a>按全局引入的方式，一共分成两步：</p>
<ol>
<li><p>安装elementUI</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i element-ui -S</span><br></pre></td></tr></table></figure>

<blockquote>
<p>-S : –save的简写，表示这个包<strong>生产依赖</strong>，项目上线后也需使用，可以省略不写</p>
</blockquote>
</li>
<li><p>在项目的main.js中引入使用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span></span><br><span class="line">Vue.use(ElementUI)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="使用elementUI组件"><a href="#使用elementUI组件" class="headerlink" title="使用elementUI组件"></a>使用elementUI组件</h4><p>app.vue 中</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;el-button&gt;默认按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;primary&quot;&gt;主要按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;success&quot;&gt;成功按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;info&quot;&gt;信息按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;warning&quot;&gt;警告按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;danger&quot;&gt;危险按钮&lt;/el-button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：</p>
<ol>
<li>组件名前面有 el 这个关键字</li>
<li>type属性决定了按钮的样式风格   </li>
</ol>
</blockquote>
<h2 id="3-table组件-基本使用"><a href="#3-table组件-基本使用" class="headerlink" title="3.table组件-基本使用"></a>3.table组件-基本使用</h2><p>从<a href="https://element.eleme.io/#/zh-CN">element官网</a>上找到所需要的样式复制</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h1&gt;表格&lt;/h1&gt;</span><br><span class="line">    &lt;el-table :data=&quot;tableData&quot; style=&quot;width: 100%&quot;&gt;</span><br><span class="line">      &lt;el-table-column type=&quot;index&quot; label=&quot;编号&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line"></span><br><span class="line">      &lt;!-- &lt;el-table-column label=&quot;序列&quot; width=&quot;100&quot;&gt;</span><br><span class="line">        &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">          &#123;&#123; scope.$index + 1 &#125;&#125;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-table-column&gt; --&gt;</span><br><span class="line">      &lt;el-table-column prop=&quot;date&quot; label=&quot;日期&quot; width=&quot;180&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column prop=&quot;name&quot; label=&quot;姓名&quot; width=&quot;180&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column prop=&quot;address&quot; label=&quot;地址&quot; width=&quot;280&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;性别&quot; width=&quot;180&quot;&gt;</span><br><span class="line">        &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">          &#123;&#123; scope.row.gender == 1 ? &#x27;男&#x27; : &#x27;女&#x27; &#125;&#125;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;操作&quot;&gt;</span><br><span class="line">        &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">          &lt;el-button size=&quot;mini&quot; type=&quot;danger&quot; @click=&quot;del(scope.row.id)&quot;</span><br><span class="line">            &gt;删除&lt;/el-button</span><br><span class="line">          &gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">    &lt;/el-table&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            tableData: [</span><br><span class="line">        &#123;</span><br><span class="line">          id: 1,</span><br><span class="line">          date: &#x27;2016-05-02&#x27;,</span><br><span class="line">          name: &#x27;小虎&#x27;,</span><br><span class="line">          address: &#x27;上海市普陀区金沙江路 1518 弄&#x27;,</span><br><span class="line">          gender: 1,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: 2,</span><br><span class="line">          date: &#x27;2016-05-04&#x27;,</span><br><span class="line">          name: &#x27;小明&#x27;,</span><br><span class="line">          address: &#x27;上海市普陀区金沙江路 1517 弄&#x27;,</span><br><span class="line">          gender: 1,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: 3,</span><br><span class="line">          date: &#x27;2016-05-01&#x27;,</span><br><span class="line">          name: &#x27;小丽&#x27;,</span><br><span class="line">          address: &#x27;上海市普陀区金沙江路 1519 弄&#x27;,</span><br><span class="line">          gerder: 0,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: 4,</span><br><span class="line">          date: &#x27;2016-04-01&#x27;,</span><br><span class="line">          name: &#x27;小红&#x27;,</span><br><span class="line">          address: &#x27;上海市普陀区金沙江路 1519 弄&#x27;,</span><br><span class="line">          gerder: 0,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     methods: &#123;</span><br><span class="line">    del(id) &#123;</span><br><span class="line">      this.tableData = this.tableData.filter((item) =&gt; item.id != id)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="4-form表单-基本使用"><a href="#4-form表单-基本使用" class="headerlink" title="4.form表单-基本使用"></a>4.form表单-基本使用</h2><p>app.vue/模板中</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- 点击弹出框 弹出表单 --&gt;</span><br><span class="line">    &lt;el-button type=&quot;text&quot; @click=&quot;dialogVisible = true&quot;</span><br><span class="line">      &gt;点击打开 Dialog&lt;/el-button</span><br><span class="line">    &gt;</span><br><span class="line"></span><br><span class="line">    &lt;el-dialog title=&quot;提示&quot; :visible.sync=&quot;dialogVisible&quot; @close=&quot;handleClose&quot;&gt;</span><br><span class="line">      &lt;el-form ref=&quot;form&quot; :model=&quot;form&quot; :rules=&quot;rules&quot;&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;账号&quot; prop=&quot;name&quot;&gt;</span><br><span class="line">          &lt;el-input v-model=&quot;form.name&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;密码&quot; prop=&quot;password&quot;&gt;</span><br><span class="line">          &lt;el-input v-model=&quot;form.password&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;确认密码&quot; prop=&quot;repassword&quot;&gt;</span><br><span class="line">          &lt;el-input v-model=&quot;form.repassword&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;手机号&quot; prop=&quot;mobile&quot;&gt;</span><br><span class="line">          &lt;el-input v-model=&quot;form.mobile&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item&gt;</span><br><span class="line">          &lt;el-button type=&quot;primary&quot;&gt;立即创建&lt;/el-button&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">      &lt;/el-form&gt;</span><br><span class="line">    &lt;/el-dialog&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>script中</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> validatePass2 = <span class="function">(<span class="params">rule, value, callback</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (value === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        callback(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;请再次输入密码&#x27;</span>))</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value !== <span class="built_in">this</span>.form.password) &#123;</span><br><span class="line">        callback(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;两次输入密码不一致!&#x27;</span>))</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        callback()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> validateMobile = <span class="function">(<span class="params">rule, value, callback</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> reg =</span><br><span class="line">        <span class="regexp">/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]&#123;8&#125;$/</span></span><br><span class="line">      <span class="keyword">if</span> (value === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        callback(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;请输入手机号&#x27;</span>))</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!reg.test(value)) &#123;</span><br><span class="line">        callback(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;手机号格式不正确!&#x27;</span>))</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        callback()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">         <span class="attr">form</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">repassword</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">mobile</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">rules</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: [</span><br><span class="line">          &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入账号&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">          &#123; <span class="attr">min</span>: <span class="number">3</span>, <span class="attr">max</span>: <span class="number">8</span>, <span class="attr">message</span>: <span class="string">&#x27;长度在 3 到 8 个字符&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">password</span>: [</span><br><span class="line">          &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入密码&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">min</span>: <span class="number">6</span>,</span><br><span class="line">            <span class="attr">max</span>: <span class="number">12</span>,</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&#x27;长度在 6 到 12 个字符&#x27;</span>,</span><br><span class="line">            <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">repassword</span>: [</span><br><span class="line">          &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">validator</span>: validatePass2, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">mobile</span>: [</span><br><span class="line">          &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">validator</span>: validateMobile, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">dialogVisible</span>: <span class="literal">false</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"> <span class="attr">methods</span>: &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="title">handleClose</span>(<span class="params">done</span>)</span> &#123;</span><br><span class="line">      <span class="comment">// this.$confirm(&#x27;确认关闭？&#x27;)</span></span><br><span class="line">      <span class="comment">//   .then((_) =&gt; &#123;</span></span><br><span class="line">      <span class="comment">//     done()</span></span><br><span class="line">      <span class="comment">//   &#125;)</span></span><br><span class="line">      <span class="comment">//   .catch((_) =&gt; &#123;&#125;)</span></span><br><span class="line">      <span class="built_in">this</span>.$refs.form.resetFields()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">sizeHandle</span>(<span class="params">e</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(e, <span class="string">&#x27;size-change&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">currentHanle</span>(<span class="params">e</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(e, <span class="string">&#x27;current-change&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h2 id="5-下拉框-基本使用"><a href="#5-下拉框-基本使用" class="headerlink" title="5.下拉框-基本使用"></a>5.下拉框-基本使用</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">    &lt;template&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">        &lt;!-- 下拉框 --&gt;</span><br><span class="line">    &lt;h1&gt;下拉框&lt;/h1&gt;</span><br><span class="line">    &lt;el-select v-model=&quot;value&quot; placeholder=&quot;请选择&quot;&gt;</span><br><span class="line">      &lt;el-option</span><br><span class="line">        v-for=&quot;item in options&quot;</span><br><span class="line">        :key=&quot;item.value&quot;</span><br><span class="line">        :label=&quot;item.label&quot;</span><br><span class="line">        :value=&quot;item.value&quot;</span><br><span class="line">      &gt;&lt;/el-option&gt;</span><br><span class="line">    &lt;/el-select&gt;</span><br><span class="line">    ===&#123;&#123; value &#125;&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    </span><br><span class="line">    export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      options: [</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;1&#x27;,</span><br><span class="line">          label: &#x27;黄金糕&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;2&#x27;,</span><br><span class="line">          label: &#x27;双皮奶&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;3&#x27;,</span><br><span class="line">          label: &#x27;大闸蟹&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">      value: &#x27;&#x27;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="6-分页-基本使用"><a href="#6-分页-基本使用" class="headerlink" title="6.分页-基本使用"></a>6.分页-基本使用</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">        &lt;!-- 分页 --&gt;</span><br><span class="line">    &lt;h1&gt;分页&lt;/h1&gt;</span><br><span class="line">    &lt;el-pagination</span><br><span class="line">      layout=&quot;prev,pager,next,jumper,total,sizes,slot&quot;</span><br><span class="line">      :total=&quot;50&quot;</span><br><span class="line">      :page-sizes=&quot;[5, 10, 15, 20]&quot;</span><br><span class="line">      :page-size=&quot;5&quot;</span><br><span class="line">      background</span><br><span class="line">      prev-text=&quot;上一页&quot;</span><br><span class="line">      next-text=&quot;下一页&quot;</span><br><span class="line">      @size-change=&quot;sizeHandle&quot;</span><br><span class="line">      @current-change=&quot;currentHanle&quot;</span><br><span class="line">    &gt;&lt;/el-pagination&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">         methods: &#123;</span><br><span class="line">    </span><br><span class="line">    sizeHandle(e) &#123;</span><br><span class="line">      console.log(e, &#x27;size-change&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    currentHanle(e) &#123;</span><br><span class="line">      console.log(e, &#x27;current-change&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>毕业设计</title>
    <url>/2021/10/01/%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87/</url>
    <content><![CDATA[<h2 id="1-后端接口-项目介绍"><a href="#1-后端接口-项目介绍" class="headerlink" title="1.后端接口 -项目介绍"></a>1.后端接口 -项目介绍</h2><blockquote>
<p>基于JavaScript ,node.js 完成后端接口和请求 ，基于html，css 完成前端页面</p>
</blockquote>
<h5 id="项目功能："><a href="#项目功能：" class="headerlink" title="项目功能："></a>项目功能：</h5><ol>
<li><p>登录功能</p>
</li>
<li><p>注册功能</p>
</li>
<li><p>获取用户信息</p>
</li>
<li><p>修改基本资料</p>
</li>
<li><p>重置密码</p>
</li>
<li><p>更换头像</p>
</li>
<li><p>文章管理</p>
<ul>
<li>获取文章类别</li>
<li>获取文章列表</li>
<li>发布文章</li>
</ul>
</li>
<li><p>题库管理</p>
<ul>
<li>获取题目分类</li>
<li>获取题目</li>
</ul>
</li>
</ol>
<h2 id="2-项目初始化"><a href="#2-项目初始化" class="headerlink" title="2. 项目初始化"></a>2. 项目初始化</h2><h4 id="2-1创建项目"><a href="#2-1创建项目" class="headerlink" title="2.1创建项目"></a>2.1创建项目</h4><ol>
<li><p>新建  <code>api</code> 文件夹作为项目根目录，并在项目根目录中运行如下的命令，初始化包管理配置文件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure></li>
<li><p>运行如下的命令，安装特定版本的  `express</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">npm i express@<span class="number">4.17</span><span class="number">.1</span></span><br></pre></td></tr></table></figure></li>
<li><p>在项目根目录中新建  <code>app.js</code> 作为整个项目的入口文件，并初始化如下的代码</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入 express 模块</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 express 的服务器实例</span></span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在此处进行功能开发</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 指定端口并启动 web 服务器</span></span><br><span class="line">app.listen(<span class="number">8000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;api server running at http://127.0.0.1:8000&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-2配置-cors-跨域和解析表单数据的中间件"><a href="#2-2配置-cors-跨域和解析表单数据的中间件" class="headerlink" title="2.2配置 cors 跨域和解析表单数据的中间件"></a>2.2配置 cors 跨域和解析表单数据的中间件</h4><h5 id="2-2-1配置-cors-跨域"><a href="#2-2-1配置-cors-跨域" class="headerlink" title="2.2.1配置 cors 跨域"></a>2.2.1配置 cors 跨域</h5><ol>
<li><p>运行如下的命令，安装  <code>cors</code> 中间件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">cnpm i cors@<span class="number">2.8</span><span class="number">.5</span> --save</span><br></pre></td></tr></table></figure></li>
<li><p>在  <code>app.js</code> 中导入并配置  <code>cors</code> 中间件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入 express 模块</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 express 的服务器实例</span></span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入 cors 中间件</span></span><br><span class="line"><span class="keyword">const</span> cors = <span class="built_in">require</span>(<span class="string">&#x27;cors&#x27;</span>)</span><br><span class="line"><span class="comment">// 将 cors 注册为全局中间件</span></span><br><span class="line">app.use(cors)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 指定端口并启动 web 服务器</span></span><br><span class="line">app.listen(<span class="number">8000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;api server running at http://127.0.0.1:8000&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="2-2-2-配置解析表单数据的中间件"><a href="#2-2-2-配置解析表单数据的中间件" class="headerlink" title="2.2.2 配置解析表单数据的中间件"></a>2.2.2 配置解析表单数据的中间件</h5><ol>
<li><p>配置解析 <code>application/x-www-form-urlencoded</code> 格式的表单数据的中间件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.use(express.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-3初始化路由相关的文件夹"><a href="#2-3初始化路由相关的文件夹" class="headerlink" title="2.3初始化路由相关的文件夹"></a>2.3初始化路由相关的文件夹</h4><ol>
<li><p>在项目根目录中，新建  <code>router</code> 文件夹，用来存放所有的 路由 模块</p>
<ul>
<li>路由模块中，只存放客户端的请求与处理函数之间的映射关系</li>
</ul>
</li>
<li><p>在项目根目录中，新建  <code>router_handler</code> 文件夹，用来存放所有的  路由处理函数模块</p>
<ul>
<li>路由处理函数模块中，专门负责存放每个路由对应的处理函数</li>
</ul>
</li>
</ol>
<h4 id="2-4初始化用户路由模块"><a href="#2-4初始化用户路由模块" class="headerlink" title="2.4初始化用户路由模块"></a>2.4初始化用户路由模块</h4><ol>
<li><p>在 <code>router</code> 文件夹中，新建 <code>user.js</code> 文件，作为用户的路由模块</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// router --&gt; user.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">// 创建路由对象</span></span><br><span class="line"><span class="keyword">const</span> router = express.Router()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注册新用户</span></span><br><span class="line">router.post(<span class="string">&#x27;/reguser&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.send(<span class="string">&#x27;reguser Ok&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 登录</span></span><br><span class="line">router.post(<span class="string">&#x27;/login&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.send(<span class="string">&#x27;Login Ok&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将路由对象共享出去</span></span><br><span class="line"><span class="built_in">module</span>.exports = router</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>在  <code>app.js</code> 中，导入并使用  用户路由模块</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入 express 模块</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 express 的服务器实例</span></span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入 cors 中间件</span></span><br><span class="line"><span class="keyword">const</span> cors = <span class="built_in">require</span>(<span class="string">&#x27;cors&#x27;</span>)</span><br><span class="line"><span class="comment">// 将 cors 注册为全局中间件</span></span><br><span class="line">app.use(cors)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 配置解析 application/x-www-form-urlencoded 格式的表单数据的中间件</span></span><br><span class="line">app.use(express.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入并注册用户路由模块</span></span><br><span class="line"><span class="keyword">const</span> userRouter = <span class="built_in">require</span>(<span class="string">&#x27;./router/user&#x27;</span>)</span><br><span class="line">app.use(<span class="string">&#x27;/api&#x27;</span>, userRouter)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 指定端口并启动 web 服务器</span></span><br><span class="line">app.listen(<span class="number">8000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;api server running at http://127.0.0.1:8000&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-5-抽离用户路由模块中的处理函数"><a href="#2-5-抽离用户路由模块中的处理函数" class="headerlink" title="2.5 抽离用户路由模块中的处理函数"></a>2.5 抽离用户路由模块中的处理函数</h4><blockquote>
<p>目的：为了保证  <strong>路由模块</strong> 的纯粹性，所有的  <strong>路由处理函数</strong> ，必须抽离到对应的  <strong>路由处理函数模块</strong> 中</p>
</blockquote>
<p>1.在  <code>/router_handler/user.js</code> 中，使用  <code>exports</code> 对象，分别向外共享如下两个路由处理函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 定义和用户相关的路由处理函数，功 /router/user.js 模块尽心调用</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注册用户的处理函数</span></span><br><span class="line"><span class="built_in">exports</span>.regUser = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.send(<span class="string">&#x27;reguser Ok&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 登录的处理函数</span></span><br><span class="line"><span class="built_in">exports</span>.login = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.send(<span class="string">&#x27;login Ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-注册新用户"><a href="#3-注册新用户" class="headerlink" title="3. 注册新用户"></a>3. 注册新用户</h2><h4 id="3-1-在-mysql-中创建用户表"><a href="#3-1-在-mysql-中创建用户表" class="headerlink" title="3.1 在 mysql 中创建用户表"></a>3.1 在 mysql 中创建用户表</h4><ol>
<li><p>在  <code>my_db_01</code> 数据库中，新建  <code>ev_users</code> 表</p>
<p>![](C:\Users\admin\Desktop\hexo-test\source_posts\img\023 - 创建用户表.png)</p>
</li>
</ol>
<h4 id="3-2-安装配置-mysql-模块"><a href="#3-2-安装配置-mysql-模块" class="headerlink" title="3.2 安装配置 mysql 模块"></a>3.2 安装配置 mysql 模块</h4><blockquote>
<p>在 API 接口项目中，需要安装并配置  mysql 这个第三方模块，来连接和操作 MySQL 数据库</p>
</blockquote>
<ol>
<li><p>安装 <code>mysql</code> 模块</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i mysql@2.18.1</span><br></pre></td></tr></table></figure></li>
<li><p>在项目根目录中新建  <code>/db/index.js</code> 文件，在此自定义模块中创建数据库的连接对象</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入 mysql 模块</span></span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&#x27;mysql&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建数据库连接对象</span></span><br><span class="line"><span class="keyword">const</span> db = mysql.createPool(&#123;</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">  <span class="attr">user</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">  <span class="attr">password</span>: <span class="string">&#x27;admin123&#x27;</span>,</span><br><span class="line">  <span class="attr">database</span>: <span class="string">&#x27;my_db_01&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 向外共享 db 数据库连接对象</span></span><br><span class="line"><span class="built_in">module</span>.exports = db</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="3-3-检测用户名是否合法"><a href="#3-3-检测用户名是否合法" class="headerlink" title="3.3 检测用户名是否合法"></a>3.3 检测用户名是否合法</h4><ol>
<li>判断用户名和密码是否为空</li>
<li>导入数据库操作模块</li>
<li>定义 SQL 语句</li>
<li>执行 SQL 语句并根据结果判断用户名是否被占用</li>
</ol>
<p><strong>完整代码：</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入数据库操作模块</span></span><br><span class="line"><span class="keyword">const</span> db = <span class="built_in">require</span>(<span class="string">&#x27;../db/index&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注册用户的处理函数</span></span><br><span class="line"><span class="built_in">exports</span>.regUser = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 获取到客户端提高到服务器的用户信息</span></span><br><span class="line">  <span class="keyword">const</span> userinfo = req.body</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 对表单中的数据进行合法性校验</span></span><br><span class="line">  <span class="keyword">if</span> (!userinfo.username || !userinfo.password) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.send(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">message</span>: <span class="string">&#x27;用户名和密码不正确&#x27;</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 定义 sql 语句</span></span><br><span class="line">  <span class="keyword">const</span> sql = <span class="string">`select * from ev_users where username=?`</span></span><br><span class="line">  <span class="comment">// 执行 sql 语句并根据结果判断用户名是否被占用</span></span><br><span class="line">  db.query(sql, userinfo.username, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 执行 sql 语句失败</span></span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.send(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">message</span>: err.message &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用户名被占用</span></span><br><span class="line">    <span class="keyword">if</span> (results.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.send(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">message</span>: <span class="string">&#x27;用户名被占用，请更换其他用户名&#x27;</span> &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用户名可用，继续后续流程</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  res.send(<span class="string">&#x27;reguser Ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="3-4-对密码进行加密处理"><a href="#3-4-对密码进行加密处理" class="headerlink" title="3.4 对密码进行加密处理"></a>3.4 对密码进行加密处理</h4><h5 id="3-4-1-什么需要对密码进行加密以及-bcryptjs-的优点"><a href="#3-4-1-什么需要对密码进行加密以及-bcryptjs-的优点" class="headerlink" title="3.4.1 什么需要对密码进行加密以及 bcryptjs 的优点"></a>3.4.1 什么需要对密码进行加密以及 bcryptjs 的优点</h5><ol>
<li>为了保证密码的安全性，不建议在数据库以  <strong>明文</strong> 的形式保存用户密码，推荐对密码进行 <strong>加密存储</strong></li>
<li>在当前项目中，使用  <code>bcryptjs</code> 对用户密码进行加密，优点：<ul>
<li>加密之后的密码，无法被逆向破解</li>
<li>同一明文密码多次加密，得到的加密结果各不相同，保证了安全性</li>
</ul>
</li>
</ol>
<h5 id="3-4-2-使用-bcryptjs-对密码进行加密"><a href="#3-4-2-使用-bcryptjs-对密码进行加密" class="headerlink" title="3.4.2 使用 bcryptjs 对密码进行加密"></a>3.4.2 使用 bcryptjs 对密码进行加密</h5><ol>
<li><p>安装指定版本的  <code>bcryptjs </code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">cnpm i bcryptjs@<span class="number">2.4</span><span class="number">.3</span> -S</span><br></pre></td></tr></table></figure></li>
<li><p>在  <code>/router_handler/user.js</code> 中，导入  <code>bcryptjs</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> bcrypt = <span class="built_in">require</span>(<span class="string">&#x27;bcryptjs&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>在注册用户的处理函数中，确认用户名可用之后，调用 <code>bcrypt.hashSync</code> (明文密码, 随机盐的长度) 方法，对用户的密码进行加密处理</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 对用户的密码，进行 bcrype 加密，返回值是加密以后的密码字符串</span></span><br><span class="line">   userinfo.password = bcrypt.hashSync(userinfo.password, <span class="number">10</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="3-4-注册新用户"><a href="#3-4-注册新用户" class="headerlink" title="3.4 注册新用户"></a>3.4 注册新用户</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">/ 定义插入用户的 SQL 语句 </span><br><span class="line">    <span class="keyword">const</span> sql = <span class="string">&#x27;insert into ev_users set ?&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 调用 db.query() 执行 SQL 语句</span></span><br><span class="line">    db.query(sql, &#123; <span class="attr">username</span>: userinfo.username, <span class="attr">password</span>: userinfo.password &#125;, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 判断 sql 语句是否执行成功</span></span><br><span class="line">      <span class="keyword">if</span> (err) <span class="keyword">return</span> res.send(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">message</span>: err.message &#125;)</span><br><span class="line">      <span class="comment">// 判断影响行数是否为 1</span></span><br><span class="line">      <span class="keyword">if</span> (results.affectedRows !== <span class="number">1</span>) <span class="keyword">return</span> res.send(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">message</span>: <span class="string">&#x27;注册用户失败，请稍后再试！&#x27;</span> &#125;)</span><br><span class="line">      <span class="comment">// 注册成功</span></span><br><span class="line">      res.send(&#123; <span class="attr">status</span>: <span class="number">0</span>, <span class="attr">message</span>: <span class="string">&#x27;注册成功&#x27;</span> &#125;)</span><br></pre></td></tr></table></figure>

<h2 id="4-优化"><a href="#4-优化" class="headerlink" title="4. 优化"></a>4. 优化</h2><blockquote>
<p>在处理函数中，需要多次调用 <strong>res.send()</strong> 向客户端响应  <strong>处理失败</strong> 的结果，为了简化代码，可以手动封装一个 res.cc() 函数</p>
</blockquote>
<ol>
<li>在 <code>app.js</code>  中，所有路由之前，声明一个全局中间件，为 <code>res</code> 对象挂载一个 <code>res.cc()</code> 函数</li>
<li>将 <code>router_handle/user.js</code> 中的文件修改成 <code>res.cc</code> 的方式</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 配置解析 application/x-www-form-urlencoded 格式的表单数据的中间件</span></span><br><span class="line">app.use(express.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在所有路由之前，封装 res.cc 函数</span></span><br><span class="line">app.use(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// status 的默认值为 1，表示失败的情况</span></span><br><span class="line">  <span class="comment">// err 的值，可能是一个错误对象，也可能是一个错误的描述字符串</span></span><br><span class="line">  res.cc = <span class="function">(<span class="params">err, status = <span class="number">1</span></span>) =&gt;</span> &#123;</span><br><span class="line">    res.send(&#123;</span><br><span class="line">      status,</span><br><span class="line">      <span class="attr">message</span>: err <span class="keyword">instanceof</span> <span class="built_in">Error</span> ? err.message : err</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  next()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入并注册用户路由模块</span></span><br><span class="line"><span class="keyword">const</span> userRouter = <span class="built_in">require</span>(<span class="string">&#x27;./router/user&#x27;</span>)</span><br><span class="line">app.use(<span class="string">&#x27;/api&#x27;</span>, userRouter)</span><br></pre></td></tr></table></figure>

<h2 id="5-登录功能"><a href="#5-登录功能" class="headerlink" title="5.登录功能"></a>5.登录功能</h2><h4 id="5-1-实现步骤"><a href="#5-1-实现步骤" class="headerlink" title="5.1 实现步骤"></a>5.1 实现步骤</h4><ol>
<li>检测表单数据是否合法</li>
<li>根据用户名查询用户的数据</li>
<li>判断用户输入的密码是否正确</li>
<li>生成 <code>JWT</code> 的 <code>Token</code> 字符串</li>
</ol>
<h4 id="5-2-检测表单数据是否合法"><a href="#5-2-检测表单数据是否合法" class="headerlink" title="5.2 检测表单数据是否合法"></a>5.2 检测表单数据是否合法</h4><ol>
<li><p>将  <code>/router/user.js</code> 中  登录 的路由代码修改进行修改</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 注册新用户</span></span><br><span class="line">router.post(<span class="string">&#x27;/reguser&#x27;</span>, expressJoi(reg_login_schema), userHandle.regUser)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 登录功能</span></span><br><span class="line">router.post(<span class="string">&#x27;/login&#x27;</span>, expressJoi(reg_login_schema), userHandle.login)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="5-3-根据用户名查询用户的数据"><a href="#5-3-根据用户名查询用户的数据" class="headerlink" title="5.3 根据用户名查询用户的数据"></a>5.3 根据用户名查询用户的数据</h4><ol>
<li><p>接收表单的数据</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 接收表单传递过来的数据</span></span><br><span class="line"><span class="keyword">const</span> userInfo = req.body</span><br></pre></td></tr></table></figure></li>
<li><p>定义 <code>sql</code> 语句</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义 sql 语句</span></span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">`select * from ev_users where username=?`</span></span><br></pre></td></tr></table></figure></li>
<li><p>执行 <code>sql</code> 语句，查询用户的数据</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 执行 sql 语句，根据用户名查询用户的信息</span></span><br><span class="line">db.query(sql, userInfo.username, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 指定 sql 失败</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.cc(err)</span><br><span class="line">  <span class="comment">// 执行 sql 语句成功，但是获取到的数据条数不等于 1</span></span><br><span class="line">  <span class="keyword">if</span> (results.length !== <span class="number">1</span>) <span class="keyword">return</span> res.cc(<span class="string">&#x27;登录失败&#x27;</span>)</span><br><span class="line">  <span class="comment">// 判断用户名和密码是否正确</span></span><br><span class="line">  res.send(<span class="string">&#x27;login Ok&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="5-4-判断用户输入的密码是否正确"><a href="#5-4-判断用户输入的密码是否正确" class="headerlink" title="5.4 判断用户输入的密码是否正确"></a>5.4 判断用户输入的密码是否正确</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 判断用户名和密码是否正确</span></span><br><span class="line"><span class="comment">// 将用户输入的密码和数据库中存储的密码进行比较</span></span><br><span class="line"><span class="keyword">const</span> compareResult = bcrypt.compareSync(userInfo.password, results[<span class="number">0</span>].password)</span><br><span class="line"><span class="comment">// 根据对比后的结果进行判断</span></span><br><span class="line"><span class="keyword">if</span> (!compareResult) <span class="keyword">return</span> res.cc(<span class="string">&#x27;登录失败！&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="5-5-分析生成-Token-字符串的步骤"><a href="#5-5-分析生成-Token-字符串的步骤" class="headerlink" title="5.5 分析生成 Token 字符串的步骤"></a>5.5 分析生成 <code>Token</code> 字符串的步骤</h4><ol>
<li>通过 <code>ES6</code> 的高级语法，快速剔除  <code>密码</code> 和  <code>头像</code> 的值</li>
<li>运行如下的命令，安装生成 <code>Token</code> 字符串的包</li>
<li>在  <code>/router_handler/user.js</code> 模块的头部区域，导入  <code>jsonwebtoken</code> 包</li>
<li>创建  <code>config.js</code> 文件，并向外共享 加密 和 还原 <code>Token</code> 的  <code>jwtSecretKey</code> 字符串</li>
<li>将用户信息对象加密成 <code>Token</code> 字符串</li>
<li>将生成的 <code>Token</code> 字符串响应给客户端</li>
</ol>
<h4 id="5-6-生成-JWT-的-Token-步骤"><a href="#5-6-生成-JWT-的-Token-步骤" class="headerlink" title="5.6 生成 JWT 的 Token 步骤"></a>5.6 生成 <code>JWT</code> 的 <code>Token</code> 步骤</h4><ol>
<li><p>通过 <code>ES6</code> 的高级语法，快速剔除  <code>密码</code> 和  <code>头像</code> 的值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 登录成功以后，给用户返回 token 值</span></span><br><span class="line"><span class="comment">// 剔除 user 返回的 头像和密码 信息，</span></span><br><span class="line"><span class="keyword">const</span> user = &#123; ...results[<span class="number">0</span>], <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">user_pic</span>: <span class="string">&#x27;&#x27;</span> &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>运行如下的命令，安装生成 <code>Token</code> 字符串的包</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">cnpm i jsonwebtoken@<span class="number">8.5</span><span class="number">.1</span> -S</span><br></pre></td></tr></table></figure></li>
<li><p>在  <code>/router_handler/user.js</code> 模块的头部区域，导入  <code>jsonwebtoken</code> 包</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 生成 Token 字符串</span></span><br><span class="line"><span class="keyword">const</span> jwt = <span class="built_in">require</span>(<span class="string">&#x27;jsonwebtoken&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>创建  <code>config.js</code> 文件，并向外共享 加密 和 还原 <code>Token</code> 的  <code>jwtSecretKey</code> 字符串</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 全局配置文件</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// 加密和解密的 Token 密钥</span></span><br><span class="line">  <span class="attr">jwtSecretKey</span>: <span class="string">&#x27;itheima No1. ^_^&#x27;</span>,</span><br><span class="line">  <span class="attr">expiresIn</span>: <span class="string">&#x27;10h&#x27;</span> <span class="comment">// 设置 token 有效期为 10 小时</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>将用户信息对象加密成 <code>Token</code> 字符串</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入配置文件</span></span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">&#x27;../config&#x27;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 生成 Token 字符串内容</span></span><br><span class="line"><span class="keyword">const</span> tokenStr = jwt.sign(user, config.jwtSecretKey, &#123;<span class="attr">expiresIn</span>: config.expiresIn&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>将生成的 <code>Token</code> 字符串响应给客户端</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 将生成的 Token 字符串响应给客户端</span></span><br><span class="line">res.send(&#123;</span><br><span class="line">  <span class="attr">status</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="attr">message</span>: <span class="string">&#x27;登录成功！&#x27;</span>,</span><br><span class="line">  <span class="comment">// 为了方便客户端使用 Token，在服务器端直接拼接上 Bearer 的前缀</span></span><br><span class="line">  <span class="attr">token</span>: <span class="string">&#x27;Bearer &#x27;</span> + tokenStr,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="5-7-配置解析-Token-的中间件"><a href="#5-7-配置解析-Token-的中间件" class="headerlink" title="5.7 配置解析 Token 的中间件"></a>5.7 配置解析 <code>Token</code> 的中间件</h4><ol>
<li><p>运行如下的命令，安装解析 <code>Token</code> 的中间件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">cnpm i express-jwt@<span class="number">5.3</span><span class="number">.3</span> -S</span><br></pre></td></tr></table></figure></li>
<li><p>在  <code>app.js</code> 中注册路由之前，配置解析 <code>Token</code> 的中间件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入全局的配置文件</span></span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">&#x27;./config&#x27;</span>)</span><br><span class="line"><span class="comment">// 解析 token 的中间件</span></span><br><span class="line"><span class="keyword">const</span> expressJWT = <span class="built_in">require</span>(<span class="string">&#x27;express-jwt&#x27;</span>)</span><br><span class="line"><span class="comment">// 使用 .unless 方法指定哪些接口不需要进行 Token 的身份认证</span></span><br><span class="line">app.use(expressJWT(&#123; <span class="attr">secret</span>: config.jwtSecretKey &#125;)).unless(&#123; <span class="attr">path</span>: [<span class="regexp">/^\/api\//</span>] &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入并注册用户路由模块</span></span><br><span class="line"><span class="keyword">const</span> userRouter = <span class="built_in">require</span>(<span class="string">&#x27;./router/user&#x27;</span>)</span><br><span class="line">app.use(<span class="string">&#x27;/api&#x27;</span>, userRouter)</span><br></pre></td></tr></table></figure></li>
<li><p>在  <code>app.js</code> 中的  错误级别中间件 里面，捕获并处理 <code>Token</code> 认证失败后的错误</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 错误中间件</span></span><br><span class="line">app.use(<span class="function">(<span class="params">err, req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 数据验证失败</span></span><br><span class="line">  <span class="keyword">if</span> (err <span class="keyword">instanceof</span> joi.ValidationError) <span class="keyword">return</span> res.cc(err)</span><br><span class="line">    </span><br><span class="line">  <span class="comment">// 在身份认证失败后，捕获并处理 Token 认证失败后的错误</span></span><br><span class="line">  <span class="keyword">if</span> (err.name === <span class="string">&#x27;UnauthorizedError&#x27;</span>) <span class="keyword">return</span> res.cc(<span class="string">&#x27;身份认证失败！&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">  <span class="comment">// 未知错误</span></span><br><span class="line">  res.cc(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="6-获取用户的基本信息"><a href="#6-获取用户的基本信息" class="headerlink" title="6. 获取用户的基本信息"></a>6. 获取用户的基本信息</h2><h4 id="6-1-实现步骤"><a href="#6-1-实现步骤" class="headerlink" title="6.1 实现步骤"></a>6.1 实现步骤</h4><ol>
<li>初始化 路由 模块</li>
<li>初始化 路由处理函数 模块</li>
<li>获取用户的基本信息</li>
</ol>
<h4 id="6-2-初始化路由模块"><a href="#6-2-初始化路由模块" class="headerlink" title="6.2 初始化路由模块"></a>6.2 初始化路由模块</h4><ol>
<li><p>创建  <code>/router/userinfo.js</code> 路由模块，并初始化如下的代码结构</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入 express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; route &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./user&#x27;</span>)</span><br><span class="line"><span class="comment">// 创建路由对象</span></span><br><span class="line"><span class="keyword">const</span> router = express.Router()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取用户的基本信息</span></span><br><span class="line">router.get(<span class="string">&#x27;/userinfo&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.send(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 向外共享路由对象</span></span><br><span class="line"><span class="built_in">module</span>.exports = router</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>在  <code>app.js</code> 中导入并使用个人中心的路由模块</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入并注册用户路由模块</span></span><br><span class="line"><span class="keyword">const</span> userRouter = <span class="built_in">require</span>(<span class="string">&#x27;./router/user&#x27;</span>)</span><br><span class="line"><span class="comment">// 导入并使用用户信息的路由模块</span></span><br><span class="line"><span class="keyword">const</span> userinfoRouter = <span class="built_in">require</span>(<span class="string">&#x27;./router/userinfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line">app.use(<span class="string">&#x27;/api&#x27;</span>, userRouter)</span><br><span class="line">app.use(<span class="string">&#x27;/my&#x27;</span>, userinfoRouter)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="6-3-获取用户的基本信息"><a href="#6-3-获取用户的基本信息" class="headerlink" title="6.3 获取用户的基本信息"></a>6.3 获取用户的基本信息</h4><ol>
<li><p>在  <code>/router_handler/userinfo.js</code> 头部导入数据库操作模块</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入数据库操作模块</span></span><br><span class="line"><span class="keyword">const</span> db = <span class="built_in">require</span>(<span class="string">&#x27;../db/index&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>定义 <code>SQL</code> 语句</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义查询用户信息的 sql 语句</span></span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">`select id, username, nickname, email, user_pic from ev_users where id=?</span></span><br></pre></td></tr></table></figure></li>
<li><p>调用  <code>db.query()</code> 执行 <code>SQL</code> 语句</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 调用 db.query() 执行 sql 语句</span></span><br><span class="line">db.query(sql, req.user.id, (err, results) =&amp;gt; &#123;</span><br><span class="line">  <span class="comment">// 执行 sql 语句失败</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.cc(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 执行的 sql 语句成功，但是查询的结果可能为空</span></span><br><span class="line">  <span class="keyword">if</span> (results.length !== <span class="number">1</span>) <span class="keyword">return</span> res.cc(&amp;#<span class="number">39</span>;获取用户信息失败！&amp;#<span class="number">39</span>;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 用户信息获取成功</span></span><br><span class="line">  res.send(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">message</span>: &amp;#<span class="number">39</span>;获取用户基本信息成功！&amp;#<span class="number">39</span>;,</span><br><span class="line">    data: results[<span class="number">0</span>],</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)<span class="number">7</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="7-更新用户的基本信息"><a href="#7-更新用户的基本信息" class="headerlink" title="7. 更新用户的基本信息"></a>7. 更新用户的基本信息</h2><h4 id="7-1-实现步骤"><a href="#7-1-实现步骤" class="headerlink" title="7.1 实现步骤"></a>7.1 实现步骤</h4><ol>
<li>定义路由和处理函数</li>
<li>验证表单数据</li>
<li>实现更新用户基本信息的功能</li>
</ol>
<h4 id="7-2-定义路由和处理函数"><a href="#7-2-定义路由和处理函数" class="headerlink" title="7.2 定义路由和处理函数"></a>7.2 定义路由和处理函数</h4><ol>
<li><p>在  <code>/router/userinfo.js</code> 模块中，新增  更新用户基本信息 的路由</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 更新用户的基本信息</span></span><br><span class="line">router.post(<span class="string">&#x27;/userinfo&#x27;</span>, userinfo_handler.updateUserInfo)</span><br></pre></td></tr></table></figure></li>
<li><p>在  <code>/router_handler/userinfo.js</code> 模块中，定义并向外共享  更新用户基本信息 的路由处理函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 更新用户基本信息的处理函数</span></span><br><span class="line"><span class="built_in">exports</span>.updateUserInfo = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.send(<span class="string">&#x27;Ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="7-3-定义验证规则对象"><a href="#7-3-定义验证规则对象" class="headerlink" title="7.3 定义验证规则对象"></a>7.3 定义验证规则对象</h4><ol>
<li><p>在  <code>/schema/user.js</code> 验证规则模块中，定义  <code>id</code> ， <code>nickname</code> ， <code>email</code> 的验证规则</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义 id, nickname, emial 的验证规则</span></span><br><span class="line"><span class="keyword">const</span> id = joi.number().integer().min(<span class="number">1</span>).required()</span><br><span class="line"><span class="keyword">const</span> nickname = joi.string().required()</span><br><span class="line"><span class="keyword">const</span> email = joi.string().email().required()</span><br></pre></td></tr></table></figure></li>
<li><p>并使用 <code>exports</code> 向外共享如下的  验证规则对象</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 更新用户基本信息的验证规则对象</span></span><br><span class="line"><span class="built_in">exports</span>.update_userinfo_schema = &#123;</span><br><span class="line">  <span class="attr">body</span>: &#123;</span><br><span class="line">    id,</span><br><span class="line">    nickname,</span><br><span class="line">    email,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="8-重置密码"><a href="#8-重置密码" class="headerlink" title="8. 重置密码"></a>8. 重置密码</h2><h4 id="8-1-实现步骤"><a href="#8-1-实现步骤" class="headerlink" title="8.1 实现步骤"></a>8.1 实现步骤</h4><ol>
<li>定义路由和处理函数</li>
<li>验证表单数据</li>
<li>实现重置密码的功能</li>
</ol>
<h4 id="8-2-定义路由和处理函数"><a href="#8-2-定义路由和处理函数" class="headerlink" title="8.2 定义路由和处理函数"></a>8.2 定义路由和处理函数</h4><ol>
<li><p>在 <code>/router/userinfo.js</code> 模块中，新增  重置密码 的路由</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 重置密码的路由</span></span><br><span class="line">router.post(<span class="string">&#x27;/updatepwd&#x27;</span>, userinfo_handler.updatePassword)</span><br></pre></td></tr></table></figure></li>
<li><p>在  <code>/router_handler/userinfo.js</code> 模块中，定义并向外共享  重置密码 的路由处理函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 重置密码的处理函数</span></span><br><span class="line"><span class="built_in">exports</span>.updatePassword = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.send(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="8-3-验证数据表单"><a href="#8-3-验证数据表单" class="headerlink" title="8.3 验证数据表单"></a>8.3 验证数据表单</h4><blockquote>
<p>核心验证思路：旧密码与新密码，必须符合密码的验证规则，并且新密码不能与旧密码一致</p>
</blockquote>
<ol>
<li><p>在  <code>/schema/user.js</code> 模块中，使用  <code>exports</code> 向外共享如下的  验证规则对象</p>
<ul>
<li><code>joi.ref(&#39;oldPwd&#39;)</code> 表示 <code>newPwd</code> 的值必须和 <code>oldPwd</code> 的值保持一致</li>
<li><code>joi.not(joi.ref(&#39;oldPwd&#39;))</code> 表示 <code>newPwd</code> 的值不能等于 <code>oldPwd</code> 的值</li>
<li><code>.concat()</code> 用于合并 <code>joi.not(joi.ref(&#39;oldPwd&#39;))</code> 和 <code>password</code> 这两条验证规则</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 重置密码验证规则对象</span></span><br><span class="line"><span class="built_in">exports</span>.update_password_schema = &#123;</span><br><span class="line">  <span class="attr">body</span>: &#123;</span><br><span class="line">    <span class="attr">oldPwd</span>: password,</span><br><span class="line">    <span class="attr">newPwd</span>: joi.not(joi.ref(<span class="string">&#x27;oldPwd&#x27;</span>)).concat(password),</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol>
<li><p>在  <code>/router/userinfo.js</code> 模块中，导入需要的验证规则对象</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入需要的验证规则对象</span></span><br><span class="line"><span class="keyword">const</span> &#123; update_userinfo_schema, update_password_schema &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../schema/user&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>并在  重置密码的路由 中，使用  update_password_schema 规则验证表单的数据</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 重置密码的路由</span></span><br><span class="line">router.post(<span class="string">&#x27;/updatepwd&#x27;</span>, expressJoi(update_password_schema), userinfo_handler.updatePassword)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="8-4-实现重置密码的功能"><a href="#8-4-实现重置密码的功能" class="headerlink" title="8.4  实现重置密码的功能"></a>8.4  实现重置密码的功能</h4><ol>
<li><p>根据  <code>id</code> 查询用户是否存在</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 重置密码的处理函数</span></span><br><span class="line"><span class="built_in">exports</span>.updatePassword = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 执行根据 id 查询用户数据的 SQL 语句</span></span><br><span class="line">  <span class="keyword">const</span> sql = <span class="string">`select * from ev_users where id=?`</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 执行 SQL 语句查询用户是否存在</span></span><br><span class="line">  db.query(sql, req.user.id, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 执行 SQL 语句失败</span></span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">return</span> res.cc(err)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断结果是否存在</span></span><br><span class="line">    <span class="keyword">if</span> (results.length !== <span class="number">1</span>) <span class="keyword">return</span> res.cc(<span class="string">&#x27;用户不存在！&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断用户输入的旧密码是否正确</span></span><br><span class="line">    res.cc(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="8-5-判断提交的-旧密码-是否正确"><a href="#8-5-判断提交的-旧密码-是否正确" class="headerlink" title="8.5 判断提交的 旧密码 是否正确"></a>8.5 判断提交的 旧密码 是否正确</h4><ol>
<li><p>在头部区域导入 <code>bcryptjs</code> </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> bcrypt = <span class="built_in">require</span>(<span class="string">&#x27;bcryptjs&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>使用 <code>bcrypt.compareSync(提交的密码，数据库中的密码)</code> 方法验证密码是否正确</p>
<ul>
<li><code>compareSync()</code> 函数的返回值为布尔值，<code>true</code> 表示密码正确，<code>false</code> 表示密码错误</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 判断用户输入的旧密码是否正确</span></span><br><span class="line"><span class="keyword">const</span> compareResult = bcrypt.compareSync(req.body.oldPwd, results[<span class="number">0</span>].password)</span><br><span class="line"><span class="keyword">if</span> (!compareResult) <span class="keyword">return</span> res.cc(<span class="string">&#x27;旧密码错误！&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h2 id="9-更换头像"><a href="#9-更换头像" class="headerlink" title="9. 更换头像"></a>9. 更换头像</h2><h4 id="9-1-实现步骤"><a href="#9-1-实现步骤" class="headerlink" title="9.1 实现步骤"></a>9.1 实现步骤</h4><ol>
<li>定义路由和处理函数</li>
<li>验证表单数据</li>
<li>实现更新用户头像的功能</li>
</ol>
<h4 id="9-2-定义路由和处理函数"><a href="#9-2-定义路由和处理函数" class="headerlink" title="9.2 定义路由和处理函数"></a>9.2 定义路由和处理函数</h4><ol>
<li><p>在 <code>/router/userinfo.js</code> 模块中，新增  更新用户头像 的路由</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 更新用户头像的路由</span></span><br><span class="line">router.post(<span class="string">&#x27;/update/avatar&#x27;</span>, userinfo_handler.updateAvatar)</span><br></pre></td></tr></table></figure></li>
<li><p>在  <code>/router_handler/userinfo.js</code> 模块中，定义并向外共享  更新用户头像 的路由处理函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 更新用户头像的处理函数</span></span><br><span class="line"><span class="built_in">exports</span>.updateAvatar = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line"> res.send(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="9-3-验证表单数据"><a href="#9-3-验证表单数据" class="headerlink" title="9.3 验证表单数据"></a>9.3 验证表单数据</h4><ol>
<li><p>在 <code>/schema/user.js</code> 验证规则模块中，定义  avatar 的验证规则</p>
<ul>
<li><code>dataUri()</code> 指的是如下格式的字符串数据</li>
<li><code>data:image/png;base64,VE9PTUFOWVNFQ1JFVFM=</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 验证头像数据</span></span><br><span class="line"><span class="keyword">const</span> avatar = joi.string().dataUri().required()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 验证规则对象 - 更新头像</span></span><br><span class="line"><span class="built_in">exports</span>.update_avatar_schema = &#123;</span><br><span class="line">  <span class="attr">body</span>: &#123;</span><br><span class="line">    avatar</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>并使用 <code>exports</code> 向外共享如下的  验证规则对象</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入需要的验证规则对象</span></span><br><span class="line"><span class="keyword">const</span> &#123; update_avatar_schema &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../schema/user&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 更新用户头像的路由</span></span><br><span class="line">router.post(<span class="string">&#x27;/update/avatar&#x27;</span>, expressJoi(update_avatar_schema), userinfo_handler.updateAvatar)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="9-4-实现更新用户头像的操作"><a href="#9-4-实现更新用户头像的操作" class="headerlink" title="9.4  实现更新用户头像的操作"></a>9.4  实现更新用户头像的操作</h4><ol>
<li><p>定义更新用户头像的 <code>SQL</code> 语句</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">&#x27;update ev_users set user_pic=? where id=?&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>调用 <code>db.query()</code> 执行 <code>SQL</code> 语句，更新对应用户的头像</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 更新用户头像的处理函数</span></span><br><span class="line"><span class="built_in">exports</span>.updateAvatar = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 更新用户头像的 sql 字段</span></span><br><span class="line">  <span class="keyword">const</span> sql = <span class="string">&#x27;update ev_users set user_pic=? where id=?&#x27;</span></span><br><span class="line"></span><br><span class="line">  db.query(sql, [req.body.avatar, req.user.id], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// SQL 语句失败</span></span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">return</span> res.cc(err)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// SQL 语句成功，但是影响行数不等于 1</span></span><br><span class="line">    <span class="keyword">if</span> (results.affectedRows !== <span class="number">1</span>) <span class="keyword">return</span> res.cc(<span class="string">&#x27;更新头像失败！&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 更新用户头像成功</span></span><br><span class="line">    <span class="keyword">return</span> res.cc(<span class="string">&#x27;更新头像成功！&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="10-获取文章分类列表"><a href="#10-获取文章分类列表" class="headerlink" title="10. 获取文章分类列表"></a>10. 获取文章分类列表</h2><h4 id="10-1-创建表结构"><a href="#10-1-创建表结构" class="headerlink" title="10.1 创建表结构"></a>10.1 创建表结构</h4><img src="E:/%E8%AF%BE%E4%BB%B6/node%E7%AC%94%E8%AE%B0/node_notes/Day_008/%E7%AC%94%E8%AE%B0/images/Day_008/001%20-%20%E5%88%9B%E5%BB%BA%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%E7%9A%84%E8%A1%A8.png" style="zoom:80%;" />





<h4 id="10-2-新增两条初始化的数据"><a href="#10-2-新增两条初始化的数据" class="headerlink" title="10.2 新增两条初始化的数据"></a>10.2 新增两条初始化的数据</h4><img src="E:/%E8%AF%BE%E4%BB%B6/node%E7%AC%94%E8%AE%B0/node_notes/Day_008/%E7%AC%94%E8%AE%B0/images/Day_008/002%20-%20%E4%B8%A4%E6%9D%A1%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E6%95%B0%E6%8D%AE.png" style="zoom:80%;" />







<h3 id="10-3-获取文章分类列表"><a href="#10-3-获取文章分类列表" class="headerlink" title="10.3 获取文章分类列表"></a>10.3 获取文章分类列表</h3><h4 id="10-3-1-实现步骤"><a href="#10-3-1-实现步骤" class="headerlink" title="10.3.1 实现步骤"></a>10.3.1 实现步骤</h4><ol>
<li>初始化路由模块</li>
<li>初始化路由处理函数模块</li>
<li>获取文章分类列表数据</li>
</ol>
<h4 id="10-3-2-初始化路由模块"><a href="#10-3-2-初始化路由模块" class="headerlink" title="10.3.2 初始化路由模块"></a>10.3.2 初始化路由模块</h4><ol>
<li><p>创建  <code>/router/artcate.js</code> 路由模块，并初始化如下的代码结构</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// // 导入 express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建路由对象</span></span><br><span class="line"><span class="keyword">const</span> router = express.Router()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取文章分类的列表数据</span></span><br><span class="line">router.get(<span class="string">&#x27;/cates&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.send(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 向外共享路由对象</span></span><br><span class="line"><span class="built_in">module</span>.exports = router</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>在 <code>app.js</code> 中导入并使用文章分类的路由模块</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入并使用文章分类路由模块</span></span><br><span class="line"><span class="keyword">const</span> artCateRouter = <span class="built_in">require</span>(<span class="string">&#x27;./router/userinfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为文章分类的路由挂载统一的访问前缀 /my/article</span></span><br><span class="line">app.use(<span class="string">&#x27;/my/article&#x27;</span>, artCateRouter)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="10-3-3-初始化路由处理函数模块"><a href="#10-3-3-初始化路由处理函数模块" class="headerlink" title="10.3.3 初始化路由处理函数模块"></a>10.3.3 初始化路由处理函数模块</h4><ol>
<li><p>创建 <code>/router_handler/artcate.js</code> 路由处理函数模块，并初始化如下的代码结构</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 获取文章分类列表数据的处理函数</span></span><br><span class="line"><span class="built_in">exports</span>.getArticleCates = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.send(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>修改 <code>/router/artcate.js</code> 中的代码</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// // 导入 express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建路由对象</span></span><br><span class="line"><span class="keyword">const</span> router = express.Router()</span><br><span class="line"><span class="comment">// 导入文章分类的路由处理函数模块</span></span><br><span class="line"><span class="keyword">const</span> artcate_handler = <span class="built_in">require</span>(<span class="string">&#x27;../router_handler/artcate&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取文章分类的列表数据</span></span><br><span class="line">router.get(<span class="string">&#x27;/cates&#x27;</span>, artcate_handler.getArticleCates)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 向外共享路由对象</span></span><br><span class="line"><span class="built_in">module</span>.exports = router</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="10-3-4-实现获取文章分类列表数据的功能"><a href="#10-3-4-实现获取文章分类列表数据的功能" class="headerlink" title="10.3.4 实现获取文章分类列表数据的功能"></a>10.3.4 实现获取文章分类列表数据的功能</h4><ol>
<li><p>在 <code>/router_handler/artcate.js</code> 头部导入数据库操作模块</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入数据库操作模块</span></span><br><span class="line"><span class="keyword">const</span> db = <span class="built_in">require</span>(<span class="string">&#x27;../db/index&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>定义 <code>SQL</code> 语句</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义查询分类列表数据的 SQL 语句</span></span><br><span class="line"><span class="comment">// is_delete 为 0 表示没有被 标记为删除 的数据</span></span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">&#x27;select * from ev_article_cate where is_delete=0 order by id asc&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>调用 <code>db.query()</code> 执行 <code>SQL</code> 语句</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 调用 db.query() 执行 SQL 语句</span></span><br><span class="line">db.query(sql, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// SQL 语句执行失败</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.cc(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// SQL 语句执行成功</span></span><br><span class="line">  res.send(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;获取文章分类列表成功！&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: results,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <tags>
        <tag>论文</tag>
      </tags>
  </entry>
  <entry>
    <title>面试经历</title>
    <url>/2021/10/21/%E9%9D%A2%E8%AF%95%E9%A2%98%E7%9B%AE%E6%B1%87%E6%80%BB/</url>
    <content><![CDATA[<h2 id="第一次面试"><a href="#第一次面试" class="headerlink" title="第一次面试"></a>第一次面试</h2><h4 id="1-什么是内存泄漏？"><a href="#1-什么是内存泄漏？" class="headerlink" title="1.什么是内存泄漏？"></a>1.什么是内存泄漏？</h4><p>内存泄漏是指：内存泄漏也称作 <strong>存储泄露，</strong>用动态存储分配函数动态开辟的空间，在使用完毕后未释放，结果导致一直占据该内存单元。直到程序结束。<strong>就是该内存空间使用完毕后未收回</strong></p>
<h4 id="2-什么是bfc？"><a href="#2-什么是bfc？" class="headerlink" title="2.什么是bfc？"></a>2.什么是bfc？</h4><p>BFC直译为 <strong>块级格式化上下文</strong>，它是一个独立的渲染区域，只有 Block-level box 参与，它规定了内部的Block-level Box 如何布局，并且这个区域与外部毫不相干</p>
<h5 id="哪些元素会生成bfc："><a href="#哪些元素会生成bfc：" class="headerlink" title="哪些元素会生成bfc："></a>哪些元素会生成bfc：</h5><ol>
<li>根元素</li>
<li>float 属性不为 none</li>
<li>position 为 absolute 或 fixed</li>
<li>diplay 为 inline-block , table-cell, table-caption, flex , inline-flex</li>
<li>overflow 不为 visible</li>
</ol>
<h4 id="3-position属性的4个值"><a href="#3-position属性的4个值" class="headerlink" title="3.position属性的4个值"></a>3.position属性的4个值</h4><ol>
<li>absolute; 绝对定位</li>
<li>relative; 相对定位</li>
<li>fixed; 固定定位</li>
<li>static  （默认） 静态定位</li>
</ol>
<h4 id="4-apply-和-bind-的区别"><a href="#4-apply-和-bind-的区别" class="headerlink" title="4.apply() 和 bind() 的区别"></a>4.apply() 和 bind() 的区别</h4><ol>
<li>apply 会调用函数并改变this指向</li>
<li>apply 传递参数中 第二个参数 必须是数组形式</li>
<li>bind 不会调用函数 可以改变 this 指向 例如改变定时器内的的 this 指向</li>
</ol>
<h4 id="5-输出一个数组中-三个元素相加等于-0-的所有组合"><a href="#5-输出一个数组中-三个元素相加等于-0-的所有组合" class="headerlink" title="5. 输出一个数组中 三个元素相加等于 0 的所有组合"></a>5. 输出一个数组中 三个元素相加等于 0 的所有组合</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,-<span class="number">1</span>,-<span class="number">2</span>,-<span class="number">3</span>]</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i&lt;arr.length;i++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> k = i+<span class="number">1</span>; k&lt;arr.length;k++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j=k+<span class="number">1</span>; j&lt;arr.length;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[i]+arr[k]+arr[j]===<span class="number">0</span>) &#123;</span><br><span class="line">				<span class="built_in">console</span>.log([arr[i],arr[k],arr[j]])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第二次面试"><a href="#第二次面试" class="headerlink" title="第二次面试"></a>第二次面试</h2><h4 id="1-http状态码（常见）"><a href="#1-http状态码（常见）" class="headerlink" title="1.http状态码（常见）"></a>1.http状态码（常见）</h4><ol>
<li>200：请求成功</li>
<li>400：请求格式错误</li>
<li>404：请求失败</li>
<li>500：服务器出错</li>
</ol>
<h4 id="2-addEventListener-事件监听"><a href="#2-addEventListener-事件监听" class="headerlink" title="2.addEventListener 事件监听"></a>2.addEventListener 事件监听</h4><p>addEventListener(Etype，EventName，Boolean)</p>
<ol>
<li>Etype：绑定事件的类型 如果 click,keydown,mousemove, <strong>使用addEventListener绑定事件时不用写on</strong></li>
<li>EventName：绑定事件的名称，也就是要写的函数</li>
<li>Boolean：默认为false 代表冒泡阶段执行，true 代表不会阶段执行</li>
</ol>
<h4 id="3-Git-工具中-关于分支的指令"><a href="#3-Git-工具中-关于分支的指令" class="headerlink" title="3.Git 工具中 关于分支的指令"></a>3.Git 工具中 关于分支的指令</h4><ol>
<li>git branch 分支名  （新建分支）</li>
<li>git branch -d 分支名 （删除本地分支）</li>
<li>git checkout -b 分支名 （切换分支）</li>
<li>git merge 分支名 （合并当前分支和指定分支名，若有冲突解决冲突）</li>
</ol>
<h2 id="高频面试题"><a href="#高频面试题" class="headerlink" title="高频面试题"></a>高频面试题</h2><h4 id="1-箭头函数和普通函数的区别"><a href="#1-箭头函数和普通函数的区别" class="headerlink" title="1.箭头函数和普通函数的区别"></a>1.箭头函数和普通函数的区别</h4><ol>
<li>this 指向最近一级函数中的 this </li>
<li>不能使用 argument 对象</li>
<li>不能使用构造函数</li>
</ol>
<h4 id="2-原型链"><a href="#2-原型链" class="headerlink" title="2.原型链"></a>2.原型链</h4><p>当访问一个对象的某个属性时，会从对象本身查找，如果没有找到则会从对象的原型上查找，一层一层去找到该属性或找到最高层，这样形成的链式结构称为原型链</p>
<h4 id="3-for-in和-for-of-的区别"><a href="#3-for-in和-for-of-的区别" class="headerlink" title="3.for   in和 for   of 的区别"></a>3.for   in和 for   of 的区别</h4><ol>
<li><strong>for   in</strong>   既可以遍历对象也可以遍历数组</li>
<li>**for  of **   只能遍历数组</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>:<span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k  <span class="keyword">in</span>  arr) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(k)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 得到的结果是 每一项的索引  0，1，2，3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key  <span class="keyword">in</span>  obj)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 得到的结果是 对象中的每个属性  name，age</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item  <span class="keyword">of</span>  arr) &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//得到的结果是 每一个元素  1，2，3，4</span></span><br></pre></td></tr></table></figure>

<h4 id="4-call、apply、bind三者的异同"><a href="#4-call、apply、bind三者的异同" class="headerlink" title="4.call、apply、bind三者的异同"></a>4.call、apply、bind三者的异同</h4><ol>
<li>都可以用来改变函数的 this 指向</li>
<li>call  和 apply 可以调用函数，bind 不能调用</li>
<li>第一个参数都是 改变后的 this</li>
<li>call 传递参数使用逗号隔开 ， apply 使用数组传递</li>
</ol>
]]></content>
      <tags>
        <tag>面试题</tag>
      </tags>
  </entry>
  <entry>
    <title>爬虫基础</title>
    <url>/2021/11/21/%E7%88%AC%E8%99%AB/</url>
    <content><![CDATA[<h2 id="1-爬虫介绍"><a href="#1-爬虫介绍" class="headerlink" title="1.爬虫介绍"></a>1.爬虫介绍</h2><h4 id="1-1什么是爬虫"><a href="#1-1什么是爬虫" class="headerlink" title="1.1什么是爬虫"></a>1.1什么是爬虫</h4><ol>
<li>向指定的URL发送http请求</li>
<li>获取响应</li>
<li>处理数据</li>
<li>存储数据</li>
</ol>
<h2 id="2-爬虫基础"><a href="#2-爬虫基础" class="headerlink" title="2.爬虫基础"></a>2.爬虫基础</h2><p>目标</p>
<ul>
<li><a href="http://web.itheima.com/teacher.html">http://web.itheima.com/teacher.html</a> 网站为例 下载网站中所有老师的照片</li>
</ul>
]]></content>
      <tags>
        <tag>爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>2021年高频面试题</title>
    <url>/2021/10/25/2021%E5%B9%B4%E9%AB%98%E9%A2%91%E9%9D%A2%E8%AF%95%E9%A2%98/</url>
    <content><![CDATA[<h4 id="1-js的数据类型"><a href="#1-js的数据类型" class="headerlink" title="1.js的数据类型"></a>1.js的数据类型</h4><ol>
<li><p>基本数据类型：string number null  undefined boolean symbol  biglnt</p>
<p>symbol  用来表示独一无二的数据</p>
<p>biglnt   可以安全储存和操作大整数</p>
</li>
<li><p>复杂数据类型  object  array   function</p>
</li>
</ol>
<p>基本数据类型直接存放在栈中，复杂数据类型储存在堆内存中</p>
<h4 id="2-如何判断数据类型"><a href="#2-如何判断数据类型" class="headerlink" title="2.如何判断数据类型"></a>2.如何判断数据类型</h4><ol>
<li><p><strong>typeof</strong>  5   //number</p>
<p>typeof  null  // object</p>
</li>
<li><p><strong>instanceof</strong>   Array  //true </p>
</li>
<li><p>[5].<strong>_  <em>proto</em> _</strong> .constructor === Array // true</p>
<p>原理：通过 <strong>constructor</strong> 访问实例对象上的构造函数，不能用于判断 undefined , null</p>
</li>
<li><p>Object.prototype.toString.call(‘5’) // [object String] </p>
<p>原理：Object.prototype.toString方法返回对象的类型字符串，因此可用来判断一个值的类型。</p>
<p>因为实例对象有可能会自定义toString方法，会覆盖Object.prototype.toString，所以在使用时，最好加上call</p>
</li>
</ol>
<h4 id="3-js中的继承"><a href="#3-js中的继承" class="headerlink" title="3.js中的继承"></a>3.js中的继承</h4><ol>
<li>原型链继承，通过一个引用类型继承另一个引用类型的属性和方法</li>
<li>借用构造函数继承</li>
<li>组合继承，将原型链和构造函数的技术组合一起</li>
<li>型式继承，借助原型可以基于已有的对象创建新对象</li>
<li>寄生式继承</li>
<li>寄生组合式继承，通过借用函数来继承属性，通过原型链的混成形式继承方法</li>
<li>ES6 的继承：创造一个父类，子类通过 extends关键字，super指向父类的原型对象</li>
</ol>
<h4 id="4-原型链"><a href="#4-原型链" class="headerlink" title="4.原型链"></a>4.原型链</h4><p>当访问一个对象身上的属性时，会先从这个对象自身查找如果没有找到则会从它的 proto 隐式原型上查找，即它的构造函数的 prototype ，如果没有找到则会在构造函数的 prototype 的 proto 隐式原型上查找，这样一层一层向上查找会形成一个链式结构，成为原型链</p>
<h4 id="5-闭包"><a href="#5-闭包" class="headerlink" title="5.闭包"></a>5.闭包</h4><p>一个作用域可以访问另一个函数内部的局部变量</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">0</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(a)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fun = fn()</span><br><span class="line">fun()</span><br></pre></td></tr></table></figure>

<h4 id="6-如何判断-this-的指向"><a href="#6-如何判断-this-的指向" class="headerlink" title="6.如何判断 this 的指向"></a>6.如何判断 this 的指向</h4><ol>
<li>以函数的形式调用时，this 指向window</li>
<li>以方法的形式调用时，this 指向调用者</li>
<li>以构造函数的形式调用时，this 指向新创建的对象</li>
<li>使用 call ，apply，bind 时，this 是携带的第一个参数</li>
<li>箭头函数的 this 如果外层有函数 this 指向外层函数的 this ，如果没有就是 window</li>
<li>通常意义上 this 指向最后调用它的对象，如果返回值是一个对象，那么 this 指向的就是返回的对象，如果不是 this 还是指向函数的实例</li>
</ol>
<h4 id="7-call，apply-，bind-的使用"><a href="#7-call，apply-，bind-的使用" class="headerlink" title="7. call，apply ，bind 的使用"></a>7. call，apply ，bind 的使用</h4><p>三者都可以通过携带的第一个参数 来改变函数内部的 this 指向，call 和 apply 可以调用函数，bind不可以。apply的第二个参数如果是多个则需要以数组的形式，call 则是以逗号隔开 </p>
<h4 id="8-数组常用的api"><a href="#8-数组常用的api" class="headerlink" title="8.数组常用的api"></a>8.数组常用的api</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="comment">//forEach 遍历</span></span><br><span class="line">arr.forEach(<span class="function">(<span class="params">item,index,arr</span>)=&gt;</span>&#123;<span class="built_in">console</span>.log(item,index)&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//join 数组转字符串</span></span><br><span class="line">arr.join(<span class="string">&#x27;&#x27;</span>) <span class="comment">// &#x27;123&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//map 会返回一个新的数组不改变原数组，新数组中的值是处理后的值</span></span><br><span class="line">arr.map(<span class="function">(<span class="params">item,index,arr</span>)=&gt;</span>item+<span class="number">1</span>) <span class="comment">// [2,3,4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//push() 影响原数组，返回新数组的长度</span></span><br><span class="line">arr.push(<span class="number">4</span>) <span class="comment">// arr=[1,2,3,4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//pop() 删除数组最后一个元素，返回删除的元素</span></span><br><span class="line">arr.pop() <span class="comment">// arr=[1,2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//shift() 删除数组的第一个元素，返回删除的元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//unshift() 在数组的前面添加元素，返回新数组的长度</span></span><br><span class="line">arr.unshift(<span class="number">0</span>) <span class="comment">// arr= [0,1,2,3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//reverse() 反向排序，会改变原数组，不会创建新的数组</span></span><br><span class="line">arr.reverse() <span class="comment">// arr = [3,2,1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//sort() 对数组进行排序，如果没有参数则是按照字符编码的顺序进行排序</span></span><br><span class="line">arr.sort(<span class="function">(<span class="params">a,b</span>)=&gt;</span>a-b) <span class="comment">// [1,2,3]</span></span><br><span class="line">arr.sort(<span class="function">(<span class="params">a,b</span>)=&gt;</span>b-a) <span class="comment">// [3,2,1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//some() 检测数组中是否有满足条件的元素，如果有立即返回 true 不会检测剩余元素，否则返回 false ，</span></span><br><span class="line">arr.some(<span class="function"><span class="params">item</span>=&gt;</span>item===<span class="number">1</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// find() 返回第一个满足条件的元素 ，没有返回 undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//every() 检测数组中的所有元素是否满足条件</span></span><br><span class="line">arr.every(<span class="function"><span class="params">item</span>=&gt;</span>item&gt;=<span class="number">1</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//filter() 将数组中所有满足条件的元素 以一个新数组的形式返回</span></span><br><span class="line">arr.filter(<span class="function"><span class="params">item</span>=&gt;</span>item&gt;=<span class="number">2</span>) <span class="comment">// [2,3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//splice()  它既可以删除特定的元素，也可以在特定位置增加元素，也可以删除增加同时搞定，index是起始位置，hm是要删除元素的个数，add是要增加的元素</span></span><br><span class="line">arr.splice(<span class="number">1</span>,<span class="number">0</span>,<span class="number">4</span>) <span class="comment">// arr = [1,2,4,3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//conact() 用于连接两个或多个</span></span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">arr.conact(arr2) <span class="comment">// [1,2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>

<h4 id="9-reduce-的使用格式"><a href="#9-reduce-的使用格式" class="headerlink" title="9.reduce 的使用格式"></a>9.reduce 的使用格式</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">arr.reduce(<span class="function">(<span class="params">sum,item</span>)=&gt;</span>sum+item,<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h4 id="10-什么是回调地域，如何解决"><a href="#10-什么是回调地域，如何解决" class="headerlink" title="10.什么是回调地域，如何解决"></a>10.什么是回调地域，如何解决</h4><p>当参数作为实参传给另外一个函数，并在函数外部调用，这样一层一层嵌套，层级结构过多，处理复杂这样就称为回调地狱。可以使用promise对象来解决</p>
<h4 id="11-promise的作用"><a href="#11-promise的作用" class="headerlink" title="11.promise的作用"></a>11.promise的作用</h4><p>Promise对象可以理解为一次执行的异步操作，使用promise对象之后可以使用一种链式调用的方式来组织代码；让代码更加的直观。避免了层层嵌套的回调函数，可以更清晰的表达，更加高效，更便于维护</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    reject(<span class="string">&quot;拒绝了&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;success&#x27;</span> + data);</span><br><span class="line">&#125;, <span class="function">(<span class="params">error</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">执行结果：<span class="string">&quot;拒绝了&quot;</span></span><br></pre></td></tr></table></figure>



<h4 id="12-new的背后做了哪些事情"><a href="#12-new的背后做了哪些事情" class="headerlink" title="12.new的背后做了哪些事情"></a>12.new的背后做了哪些事情</h4><ol>
<li>创建一个新的空对象</li>
<li>将空对象的 proto 指向构造函数的原型<ul>
<li>空对象的 proto 属性赋值为构造函数的 prototype 属性</li>
</ul>
</li>
<li>改变 this 指向，指向空对象</li>
<li>对构造函数的返回值做判断，然后返回对应的值</li>
</ol>
<h4 id="13-防抖和节流"><a href="#13-防抖和节流" class="headerlink" title="13.防抖和节流"></a>13.防抖和节流</h4><p>防抖：如果多次触发 只会执行最后一次</p>
<p>节流：一段时间内如果多次触发，只会执行第一次，等待执行完成后才能再次执行</p>
<h4 id="14-高阶函数"><a href="#14-高阶函数" class="headerlink" title="14.高阶函数"></a>14.高阶函数</h4><p>高阶函数就是 将函数作为实参传给另一个函数，或者返回值为函数的函数</p>
<h4 id="15-函数柯里化"><a href="#15-函数柯里化" class="headerlink" title="15.函数柯里化"></a>15.函数柯里化</h4><p>将可以接受多个参数的函数，转换成接受单个参数的函数</p>
<p>主要作用：参数复用、提前返回和延迟执行</p>
<h4 id="16-for-in-和-for-of-的区别"><a href="#16-for-in-和-for-of-的区别" class="headerlink" title="16.for in 和 for of 的区别"></a>16.for in 和 for of 的区别</h4><p><strong>for   in</strong>既可以遍历数组也可以遍历对象，遍历得到的值是 index 或  key</p>
<p><strong>for  of</strong>只能遍历数组，得到的是 数组中的每一个元素</p>
<h4 id="17-递归及应用场景"><a href="#17-递归及应用场景" class="headerlink" title="17.递归及应用场景"></a>17.递归及应用场景</h4><p>递归就是 函数内部调用自己</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="keyword">var</span> res = []</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  arr.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    item <span class="keyword">instanceof</span> <span class="built_in">Array</span> ? fn(item) : res.push(item)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">fn(arr)</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="18-eventloop事件循环"><a href="#18-eventloop事件循环" class="headerlink" title="18.eventloop事件循环"></a>18.eventloop事件循环</h4><ol>
<li>执行初始化（script全局执行）代码, 将异步事件回调函数交给对应模块（线程）管理。</li>
<li>当事件被触发时, 管理模块（线程）会将回调函数及其数据添加到对应的回调列队中。</li>
<li>只有当初始化代码（script全局执行代码，也被称为宏任务）执行完后(可能要一定时间), 将任务队列中的微任务队列里的微任务依次执行（清空）；</li>
<li>当微任务队列中的所有微任务执行完成之后，再去取出任务队列中的下一个宏任务进行执行。</li>
</ol>
<h4 id="19-深拷贝和浅拷贝"><a href="#19-深拷贝和浅拷贝" class="headerlink" title="19.深拷贝和浅拷贝"></a>19.深拷贝和浅拷贝</h4><ul>
<li>浅拷贝是创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本类型，拷贝的就是基本类型的值，如果属性是引用类型，拷贝的就是内存地址 ，所以<strong>如果其中一个对象改变了这个地址，就会影响到另一个对象</strong>。</li>
<li>深拷贝是将一个对象从内存中完整的拷贝一份出来,从堆内存中开辟一个新的区域存放新对象,且<strong>修改新对象不会影响原对象</strong>。</li>
</ul>
<h4 id="20-垃圾回收机制"><a href="#20-垃圾回收机制" class="headerlink" title="20.垃圾回收机制"></a>20.垃圾回收机制</h4><p>引用数据类型是保存在堆内存中，在栈中有一个对应的地址，操作引用数据类型实际操作的是对象的引用而不会操作实际的对象，当如果一个对象的地址指向了另一个对象，愿对象搁置，这样就产生了 垃圾，多了之后内存受不了，就会对没有用到的内存进行释放。</p>
<h4 id="21-await-async的使用方式"><a href="#21-await-async的使用方式" class="headerlink" title="21.await async的使用方式"></a>21.await async的使用方式</h4><ul>
<li>await只能在async函数中使用，不然会报错</li>
<li>async函数返回的是一个Promise对象，有无值看有无return值</li>
<li>await后面最好是接Promise，虽然接其他值也能达到排队效果</li>
<li>async/await作用是<strong>用同步方式，执行异步操作</strong></li>
</ul>
<h4 id="22-https和http的区别"><a href="#22-https和http的区别" class="headerlink" title="22.https和http的区别"></a>22.https和http的区别</h4><p><strong>Http</strong>是超文本传输协议，数据明文传输，所以会被抓包导致信息泄露，有安全风险问题！<strong>Https</strong> 则是具有安全性的SSL加密传输协议。<strong>Http</strong>和<strong>Https</strong>使用的是完全不同的连接方式用的端口也不一样,前者是80,后者是443。<strong>Http</strong>的连接很简单,是无状态的。<strong>HTTPS</strong>协议是由<strong>SSL+HTTP</strong>协议构建的可进行加密传输、身份认证的网络协议。</p>
<h4 id="23-常见http的状态码"><a href="#23-常见http的状态码" class="headerlink" title="23.常见http的状态码"></a>23.常见http的状态码</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">200</span>   （成功）  服务器已成功处理了请求。 通常，这表示服务器提供了请求的网页。 </span><br><span class="line"><span class="number">201</span>   （已创建）  请求成功并且服务器创建了新的资源。 </span><br><span class="line"><span class="number">202</span>   （已接受）  服务器已接受请求，但尚未处理。 </span><br><span class="line"><span class="number">203</span>   （非授权信息）  服务器已成功处理了请求，但返回的信息可能来自另一来源。 </span><br><span class="line"><span class="number">204</span>   （无内容）  服务器成功处理了请求，但没有返回任何内容。 </span><br><span class="line"><span class="number">205</span>   （重置内容） 服务器成功处理了请求，但没有返回任何内容。</span><br><span class="line"><span class="number">206</span>   （部分内容）  服务器成功处理了部分 GET 请求。</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">300</span>   （多种选择）  针对请求，服务器可执行多种操作。 服务器可根据请求者 (user agent) 选择一项操作，或提供操作列表供请求者选择。 </span><br><span class="line"><span class="number">301</span>   （永久移动）  请求的网页已永久移动到新位置。 服务器返回此响应（对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置。</span><br><span class="line"><span class="number">302</span>   （临时移动）  服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。</span><br><span class="line"><span class="number">303</span>   （查看其他位置） 请求者应当对不同的位置使用单独的 GET 请求来检索响应时，服务器返回此代码。</span><br><span class="line"><span class="number">304</span>   （未修改） 自从上次请求后，请求的网页未修改过。 服务器返回此响应时，不会返回网页内容。 </span><br><span class="line"><span class="number">305</span>   （使用代理） 请求者只能使用代理访问请求的网页。 如果服务器返回此响应，还表示请求者应使用代理。 </span><br><span class="line"><span class="number">307</span>   （临时重定向）  服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">400</span>   （错误请求） 服务器不理解请求的语法。 </span><br><span class="line"><span class="number">401</span>   （未授权） 请求要求身份验证。 对于需要登录的网页，服务器可能返回此响应。 </span><br><span class="line"><span class="number">403</span>   （禁止） 服务器拒绝请求。</span><br><span class="line"><span class="number">404</span>   （未找到） 服务器找不到请求的网页。</span><br><span class="line"><span class="number">405</span>   （方法禁用） 禁用请求中指定的方法。 </span><br><span class="line"><span class="number">406</span>   （不接受） 无法使用请求的内容特性响应请求的网页。 </span><br><span class="line"><span class="number">407</span>   （需要代理授权） 此状态代码与 <span class="number">401</span>（未授权）类似，但指定请求者应当授权使用代理。</span><br><span class="line"><span class="number">408</span>   （请求超时）  服务器等候请求时发生超时。 </span><br><span class="line"><span class="number">409</span>   （冲突）  服务器在完成请求时发生冲突。 服务器必须在响应中包含有关冲突的信息。 </span><br><span class="line"><span class="number">410</span>   （已删除）  如果请求的资源已永久删除，服务器就会返回此响应。 </span><br><span class="line"><span class="number">411</span>   （需要有效长度） 服务器不接受不含有效内容长度标头字段的请求。 </span><br><span class="line"><span class="number">412</span>   （未满足前提条件） 服务器未满足请求者在请求中设置的其中一个前提条件。 </span><br><span class="line"><span class="number">413</span>   （请求实体过大） 服务器无法处理请求，因为请求实体过大，超出服务器的处理能力。 </span><br><span class="line"><span class="number">414</span>   （请求的 URI 过长） 请求的 URI（通常为网址）过长，服务器无法处理。 </span><br><span class="line"><span class="number">415</span>   （不支持的媒体类型） 请求的格式不受请求页面的支持。 </span><br><span class="line"><span class="number">416</span>   （请求范围不符合要求） 如果页面无法提供请求的范围，则服务器会返回此状态代码。 </span><br><span class="line"><span class="number">417</span>   （未满足期望值） 服务器未满足<span class="string">&quot;期望&quot;</span>请求标头字段的要求。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">500   （服务器内部错误）  服务器遇到错误，无法完成请求。 </span><br><span class="line">501   （尚未实施） 服务器不具备完成请求的功能。 例如，服务器无法识别请求方法时可能会返回此代码。 </span><br><span class="line">502   （错误网关） 服务器作为网关或代理，从上游服务器收到无效响应。 </span><br><span class="line">503   （服务不可用） 服务器目前无法使用（由于超载或停机维护）。 通常，这只是暂时状态。 </span><br><span class="line">504   （网关超时）  服务器作为网关或代理，但是没有及时从上游服务器收到请求。 </span><br><span class="line">505   （HTTP 版本不受支持） 服务器不支持请求中所用的 HTTP 协议版本。</span><br></pre></td></tr></table></figure>

<h4 id="24-js延迟加载的方式"><a href="#24-js延迟加载的方式" class="headerlink" title="24.js延迟加载的方式"></a>24.js延迟加载的方式</h4><ol>
<li><p>defer 属性，在<script>标签上添加 defer 属性</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;test1.js&quot;</span> <span class="attr">defer</span>=<span class="string">&quot;defer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>async 属性，在<script>标签上添加 async 属性</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;test1.js&quot;</span> <span class="attr">async</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>使用 setTimeout 延迟方法</p>
</li>
<li><p>使用jquery 的 getScript() 方法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$.getScript(<span class="string">&quot;outer.js&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//回调函数，成功获取文件后执行的函数  </span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;脚本加载完成&quot;</span>)  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>把 js 外部引入的文件放到页面底部，来让js最后引入，从而加快页面加载速度</p>
</li>
</ol>
<h4 id="25-如何减少重绘和回流"><a href="#25-如何减少重绘和回流" class="headerlink" title="25.如何减少重绘和回流"></a>25.如何减少重绘和回流</h4><ol>
<li>减少对dom的操作</li>
<li>使用元素脱离文档流</li>
<li>避免访问或减少访问某些属性</li>
<li>避免对 css 进行单个修改</li>
</ol>
<h4 id="26-描述输入url地址到网页展示的过程"><a href="#26-描述输入url地址到网页展示的过程" class="headerlink" title="26.描述输入url地址到网页展示的过程"></a>26.描述输入url地址到网页展示的过程</h4><ol>
<li>通过 DNS 解析域名的实际IP地址</li>
<li>检查浏览器是否有缓存</li>
<li>与 WEB 服务器简历 TCP 连接</li>
<li>若协议是  HTTPS 则加密</li>
<li>浏览器发送请求获取页面 HTML</li>
<li>服务器响应 HTML</li>
<li>浏览器解析 HTML</li>
<li>浏览器渲染页面</li>
<li>浏览器发送请求</li>
<li>服务器响应 Ajax 求情</li>
<li>浏览器处理事件循环等异步逻辑</li>
</ol>
<h4 id="27-跨域问题及解决方案"><a href="#27-跨域问题及解决方案" class="headerlink" title="27.跨域问题及解决方案"></a>27.跨域问题及解决方案</h4><ol>
<li><p>跨域：受同源策略影响，限制一个 origin 的文档或者它加载的脚本与另一个源的资源进行交互。帮助阻隔恶意文档，减少可能被攻击</p>
</li>
<li><p>解决跨域：</p>
<ul>
<li><p>CORS：跨域资源共享（CORS）是一种机制，它使用额外的 HTTP 头来告诉浏览器，让运行在一个 origin 上的 web 应用被准许访问来自不同资源服务器上的指定资源。当一个资源与该资源本身所在的服务器 不同的域、协议或端口请求一个资源时，资源会发起一个 跨域 HTTP 请求</p>
</li>
<li><p>在 vue.config 中配置 proxy 方向代理 </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">devServer:&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">proxy</span>:&#123;</span><br><span class="line">    <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">        <span class="comment">//  只要是url中有api的 就使用代理请求</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;xxxx&#x27;</span> <span class="comment">// 我们要代理的真实接口地址</span></span><br><span class="line">        <span class="comment">// changeOrigin: true,</span></span><br><span class="line">        <span class="comment">// &#x27;^/api&#x27;: &#x27;/api&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>JSONP:主要利用了 script 标签没有跨域限制的这个特性来完成的（仅支持 GET 方法）</p>
</li>
</ul>
</li>
</ol>
<h4 id="28-本地持久化的方式和区别"><a href="#28-本地持久化的方式和区别" class="headerlink" title="28.本地持久化的方式和区别"></a>28.本地持久化的方式和区别</h4><ul>
<li>localStorage</li>
<li>sessionStorage</li>
<li>cookie</li>
</ul>
<p>区别：</p>
<ol>
<li><p>cookie 数据始终在同源的 http 请求中携带，localStorage，sessionStorage不会自动把数据发送给服务器，仅在本地保存。cookie 数据还有路径的概念，可以限制cookie 只属于某个路径下。</p>
</li>
<li><p>cookie 只能储存 4K 以内的数据，只适合储存小数据</p>
</li>
<li><p>session Storage 关闭浏览器 数据失效，而 localStorage 则始终有效，cookie 则是在有效期内有效</p>
</li>
<li><p>sessionStorage 只在同源窗口中共享 ，localStorage，cookie 所有窗口共享</p>
</li>
</ol>
<h4 id="29-get请求和post请求的区别"><a href="#29-get请求和post请求的区别" class="headerlink" title="29.get请求和post请求的区别"></a>29.get请求和post请求的区别</h4><ol>
<li>get 使用 url 或 cookie 穿参，post 将数据放在 body 中</li>
<li>get 的 url 长度有限制，post 的数据则可以非常大</li>
<li>get 传参显示在 url 中，post 更安全</li>
<li>get 一般涌来从服务器获取数据，post 用来想服务器提交数据</li>
</ol>
<h4 id="30-http的协议的三个内容"><a href="#30-http的协议的三个内容" class="headerlink" title="30.http的协议的三个内容"></a>30.http的协议的三个内容</h4><h4 id="31-请求头中的contentType有什么用处"><a href="#31-请求头中的contentType有什么用处" class="headerlink" title="31.请求头中的contentType有什么用处"></a>31.请求头中的contentType有什么用处</h4><p>设置请求头中的 Content-Type字段，告诉服务端你发送的数据是什么格式</p>
<h4 id="32-组件的生命周期钩子"><a href="#32-组件的生命周期钩子" class="headerlink" title="32.组件的生命周期钩子"></a>32.组件的生命周期钩子</h4><p>beforCreate，created，beforeMount，mounted，beforeUpdate，update，activated，deactivated，beforeDestroy，destroyed</p>
<h4 id="33-事件委托"><a href="#33-事件委托" class="headerlink" title="33.事件委托"></a>33.事件委托</h4><p>事件委托原理：不给每个字节点绑定时间，而是绑定在其父节点上，通过事件冒泡的原理委托给子节点</p>
<h4 id="34-事件冒泡和事件捕获"><a href="#34-事件冒泡和事件捕获" class="headerlink" title="34.事件冒泡和事件捕获"></a>34.事件冒泡和事件捕获</h4><ol>
<li>当点击某个元素的时候，事件执行从 window- document-body 往里一层一层 直到被点击的元素则为事件捕获。</li>
<li>事件冒泡 则是与捕获相反</li>
</ol>
<h4 id="35-哈希路由和history路由的区别"><a href="#35-哈希路由和history路由的区别" class="headerlink" title="35.哈希路由和history路由的区别"></a>35.哈希路由和history路由的区别</h4><p>hash 表示的是地址栏 URL 中#号，hash 会出现在 url 中，但是请求地址中不会出现，因此hash 值改变不会重新加载页面，当 # 后面的路径发生变化时，浏览器并不会重新发起请求。hash 传参是基于 url 的，如果需要传递复杂的参数会有体积限制。history 模式不仅可以在 URL 中传参，还可以将参数存放在一个特定的对象中。</p>
<h4 id="36-SPA"><a href="#36-SPA" class="headerlink" title="36.SPA"></a>36.SPA</h4><p>即单页面应用，就是只有一张 web 页面的应用。单页应用程序是加载单个 HTML 页面并在用户与应用程序交互时动态更新该页面的 web 应用程序。浏览器一开始会加载必需的 HTML ，CSS ，Javascript ，所有的操作都在这张页面上完成，都由 JavaScript 来控制</p>
<h4 id="40-v-model和-sync的对比"><a href="#40-v-model和-sync的对比" class="headerlink" title="40.v-model和.sync的对比"></a>40.v-model和.sync的对比</h4><ol>
<li><p>v-model 传在 只能使用一次 ，.sync 可以使用多次</p>
</li>
<li><p>v-model 传参后，子组件 默认用 ‘value’ 接收，也可以通过以下方法修改</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">model:&#123;</span><br><span class="line">  <span class="attr">prop</span>:<span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">  <span class="attr">event</span>:<span class="string">&#x27;updateMsg&#x27;</span> <span class="comment">// 有了这个事件 不需要父亲在通过传递函数来修改 </span></span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="attr">props</span>:[<span class="string">&#x27;message&#x27;</span>] <span class="comment">// 如果没有 model 中的 prop  则 是 prop:[&#x27;value&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><p>v-model 传参，子组件 通过调用父组件中的函数来更改，.sync 可以通过 update：来修改</p>
</li>
</ol>
<h4 id="41-vue路由钩子beforeEach的参数"><a href="#41-vue路由钩子beforeEach的参数" class="headerlink" title="41.vue路由钩子beforeEach的参数"></a>41.vue路由钩子beforeEach的参数</h4><p>router.beforeEach()  中的参数是一个函数，函数中有三个参数 to , from , next</p>
<h4 id="42-vuex使用的基本步骤"><a href="#42-vuex使用的基本步骤" class="headerlink" title="42.vuex使用的基本步骤"></a>42.vuex使用的基本步骤</h4><ol>
<li><p>新建一个 store/index.js 文件</p>
</li>
<li><p>下载 vuex 包并引入到 store 中 的 index.js ，</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">msg</span>:<span class="string">&#x27;Hello&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure></li>
<li><p>向 Vue 实例中注入 store </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/main.js</span></span><br><span class="line"><span class="comment">// 导入store</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="comment">// 省略其他...</span></span><br><span class="line">  store <span class="comment">// 2. 注入Vue实例</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>在组件中 使用 store 中的数据</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">       &lt;p&gt;</span><br><span class="line">			&#123;&#123;$store.state.msg&#125;&#125;==如果导入了mspState则直接==&#123;&#123;msg&#125;&#125;   	</span><br><span class="line">    	&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    // 1. 导入辅助函数mapState，它是在vuex中定义的一个工具函数。</span><br><span class="line">	  //  es6 按需导入 import &#123; mapState &#125; from &#x27;vuex&#x27; </span><br><span class="line">    import &#123;mapState&#125; from &quot;vuex&quot;</span><br><span class="line">    computed: &#123;</span><br><span class="line">   // 说明1： ...对象 是把对象展开，合并到computed</span><br><span class="line">   // 说明2： mapState是一个函数 </span><br><span class="line">   //  [&#x27;数据项1&#x27;， &#x27;数据项2&#x27;]</span><br><span class="line">   ...mapState([&#x27;msg&#x27;])</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>在组件中使用 store 中 mutations 里的函数</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    import &#123;mapMutations&#125; from &quot;vuex&quot;</span><br><span class="line">    methods: &#123;</span><br><span class="line">   // 说明1： ...对象 是把对象展开，合并到computed</span><br><span class="line">   // 说明2： mapState是一个函数 </span><br><span class="line">   //  [&#x27;数据项1&#x27;， &#x27;数据项2&#x27;]</span><br><span class="line">   ...mapMutations[&#x27;Fn&#x27;])</span><br><span class="line">   changeMsg()&#123;</span><br><span class="line">     this.Fn()</span><br><span class="line">    // 如果没有 导入 则是 this.$store.commit(&#x27;Fn&#x27;, 参数) </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="43-vue-中组件传值的方式"><a href="#43-vue-中组件传值的方式" class="headerlink" title="43.vue 中组件传值的方式"></a>43.vue 中组件传值的方式</h4><ul>
<li><p>子用 props 接受 ,用  $emit  调用父组件中的方法修改</p>
</li>
<li><p>$children , $parent</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 父组件中</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;hello_world&quot;&gt;</span><br><span class="line">    &lt;div&gt;&#123;&#123;msg&#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;com-a&gt;&lt;/com-a&gt;</span><br><span class="line">    &lt;button @click=&quot;changeA&quot;&gt;点击改变子组件值&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import ComA from &#x27;./test/comA.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;HelloWorld&#x27;,</span><br><span class="line">  components: &#123; ComA &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &#x27;Welcome&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    changeA() &#123;</span><br><span class="line">      // 获取到子组件A</span><br><span class="line">      this.$children[0].messageA = &#x27;this is new value&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 子组件中</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;com_a&quot;&gt;</span><br><span class="line">    &lt;span&gt;&#123;&#123;messageA&#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;p&gt;获取父组件的值为:  &#123;&#123;parentVal&#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      messageA: &#x27;this is old&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed:&#123;</span><br><span class="line">    parentVal()&#123;</span><br><span class="line">      return this.$parent.msg;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>provide , inject ,父组件中通过<code>provide</code>来提供变量, 然后再子组件中通过<code>inject</code>来注入变量</p>
<blockquote>
<p>注意: 这里不论子组件嵌套有多深, 只要调用了<code>inject</code> 那么就可以注入<code>provide</code>中的数据，而不局限于只能从当前父组件的props属性中回去数据</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 父组件中</span></span><br><span class="line"><span class="attr">provide</span>:&#123;</span><br><span class="line">	<span class="attr">msg</span>:<span class="string">&#x27;父亲中的值&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子组件中</span></span><br><span class="line"><span class="attr">inject</span>:[<span class="string">&#x27;msg&#x27;</span>]</span><br></pre></td></tr></table></figure></li>
<li><p>ref  /   refs : 父组件中在子组件标签上添加 ref=‘xxx’ 属性，通过  this.$refs.xxx.’变量’ 来访问子组件中的变量 </p>
</li>
<li><p>eventBus </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// event-bus.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> EventBus = <span class="keyword">new</span> Vue()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在兄弟组件中用引入 </span></span><br><span class="line"><span class="keyword">import</span> &#123;EventBus&#125; <span class="keyword">from</span> <span class="string">&#x27;./event-bus.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用 Event.$emit() 传值 ，Event.$on() 接受</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>Vuex ：state，getters，mutations，actions，modules</p>
</li>
<li><p>$attrs :父组件直接在 子组件标签上写上需要穿的值 ，子组件中可以通过 <code>this.$attrs</code>获取到父组件传过来的值 ，自组件可以通过 v-bind=“$attr” 传给孙组件，$listeners 用法一样 用来传 方法/函数</p>
</li>
</ul>
<h4 id="47-computed-和-watche的使用区别"><a href="#47-computed-和-watche的使用区别" class="headerlink" title="47.computed 和 watche的使用区别"></a>47.computed 和 watche的使用区别</h4><ol>
<li><p>computed看上去是方法，但是实际上是计算属性，它会根据你所依赖的数据动态显示新的计算结果。计算结果会被缓存，computed的值在getter执行后是会缓存的，只有在它依赖的属性值改变之后，下一次获取computed的值时才会重新调用对应的getter来计算</p>
</li>
<li><p>watcher 更像是一个 data 的数据监听回调，当依赖的 data 的数据变化，执行回调，在方法中会传入 newVal 和 oldVal。</p>
</li>
</ol>
<h4 id="50-key的作用"><a href="#50-key的作用" class="headerlink" title="50.key的作用"></a>50.key的作用</h4><p>高效的更新虚拟 DOM ，其原理是 vue 在渲染过程中通过 <code>key</code> 可以精准判断两个节点是否是同一个，从而避免频繁更新不同元素，使得整个patch过程更加高效，减少dom操作量，提高性能。</p>
<h4 id="51-vue2常用指令有哪些"><a href="#51-vue2常用指令有哪些" class="headerlink" title="51.vue2常用指令有哪些"></a>51.vue2常用指令有哪些</h4><p>v-model，v-bind, v-if  ,v-else ,  v-show , v-for , v-html， v-on ，</p>
<h4 id="52-vue2-和-vue3-的区别"><a href="#52-vue2-和-vue3-的区别" class="headerlink" title="52.vue2 和 vue3 的区别"></a>52.vue2 和 vue3 的区别</h4><ol>
<li>vue3 支持 vue2 的大多数特性，实现对 vue2 的兼容</li>
<li>vue3 对比 vue2 有明显的性能提升（打包体积减少，初次渲染加快，内存使用减少）</li>
<li>响应式原理不同</li>
<li>生命周期不同</li>
<li>在 Vue3 中，全局和内部 API 都经过了重构，并考虑到了 tree-shaking 的支持。因此，全局 API现在只能作为 ES 模块构建的命名导出进行访问。</li>
</ol>
<h4 id="53-vue2-中的过滤器是怎么使用的"><a href="#53-vue2-中的过滤器是怎么使用的" class="headerlink" title="53.vue2 中的过滤器是怎么使用的"></a>53.vue2 中的过滤器是怎么使用的</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1.使用 Vue.filter() 方法在 main.js 注册 </span></span><br><span class="line">Vue.filter(<span class="string">&#x27;fn&#x27;</span>,<span class="function">()=&gt;</span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.在组件中 局部注册</span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	<span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">	 <span class="attr">filters</span>:&#123;</span><br><span class="line">     <span class="function"><span class="title">fn</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;  </span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.定义一个 filters.js</span></span><br><span class="line"><span class="keyword">let</span> fn=<span class="function">()=&gt;</span>&#123;&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;fn&#125;</span><br><span class="line"><span class="comment">// 在组件中引入</span></span><br><span class="line"><span class="keyword">import</span> &#123;fn&#125; <span class="keyword">from</span> <span class="string">&#x27;./filters.js&#x27;</span></span><br></pre></td></tr></table></figure>



<h4 id="54-vue2中如何自定义指令"><a href="#54-vue2中如何自定义指令" class="headerlink" title="54.vue2中如何自定义指令"></a>54.vue2中如何自定义指令</h4><p><strong>全局注册：</strong>使用 <code>Vue.directive()</code>方法注册</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 在 main.js 中</span></span><br><span class="line">Vue.directive(<span class="string">&#x27;focus&#x27;</span>,&#123;</span><br><span class="line">    <span class="function"><span class="title">inserted</span>(<span class="params">el</span>)</span>&#123;</span><br><span class="line">        el.foucs()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>局部注册：</strong>在 组件 <code>script</code> 标签中添加 <code>directives</code> 属性，</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">directives: &#123;</span><br><span class="line">      <span class="attr">focus</span>: &#123;</span><br><span class="line">          <span class="function"><span class="title">inserted</span>(<span class="params">el</span>)</span>&#123;</span><br><span class="line">              el.focus()</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="55-vue2-中的-vue-use-是怎么使用的"><a href="#55-vue2-中的-vue-use-是怎么使用的" class="headerlink" title="55.vue2 中的 vue.use 是怎么使用的"></a>55.vue2 中的 vue.use 是怎么使用的</h4><p><code>Vue.use()</code> 方法至少传入一个参数，该参数类型必须是 Object 或 Function，如果是 Object 那么这个 Object 需要定义一个 install 方法，如果是 Function 那么这个函数就被当做 install 方法。在 <code>Vue.use()</code> 执行时 install 会默认执行，当 install 执行时第一个参数就是 Vue，其他参数是 <code>Vue.use()</code> 执行时传入的其他参数。<code>Vue.use()</code> 是用来使用插件的，而这个插件本质上又是一个 install 方法。至于 install 方法内部实现了什么逻辑就由插件自身的业务决定了</p>
<h4 id="56-vue2中-nextTick"><a href="#56-vue2中-nextTick" class="headerlink" title="56.vue2中$nextTick"></a>56.vue2中$nextTick</h4><p>在下次<code>DOM</code>更新循环结束之后执行回调。在修改数据之后立即使用这个方法，获取更新之后的<code>DOM</code></p>
<h4 id="57-vue2-中响应式原理"><a href="#57-vue2-中响应式原理" class="headerlink" title="57.vue2 中响应式原理"></a>57.vue2 中响应式原理</h4><p>在 data 初始化时，将其属性转换成 <code>getter</code> 和 <code>setter</code>，同时实例化一个 <code>Dep</code>。视图渲染时， <code>getter</code> 触发，<code>Dep</code> 会收集 <code>Watcher</code>；在 <code>setter</code> 触发时，<code>Dep</code> 会通知其收集的 <code>Watcher</code> 更新视图。<code>Wathcer</code> 在组件挂载时实例化，<code>Watcher</code> 与组件一一对应。</p>
<h4 id="58-长轮询和短轮询"><a href="#58-长轮询和短轮询" class="headerlink" title="58.长轮询和短轮询"></a>58.长轮询和短轮询</h4><p>短轮询：浏览器每隔一段时间就发送请求，服务器立刻响应最新数据，如果没更新则是旧数据</p>
<p>长轮询：浏览器发送请求后，服务器不立刻响应，等待数据更新后才会响应，只有更新后才会响应</p>
<h4 id="59-虚拟-DOM"><a href="#59-虚拟-DOM" class="headerlink" title="59.虚拟 DOM"></a>59.虚拟 DOM</h4><p>使用 js 对象的方式，模拟真实的 dom 结构 ，属性的量大大减少，没有真实 dom 那么多无效的属性，对比起来性能高很多</p>
<h4 id="60-query-和-params-传递参数的区别"><a href="#60-query-和-params-传递参数的区别" class="headerlink" title="60.query  和 params 传递参数的区别"></a>60.query  和 params 传递参数的区别</h4><ol>
<li><p>params 传参，不许要用命名路由方式传参</p>
</li>
<li><p>params 传参，不会显示在地址栏中，刷新会丢失</p>
<p>接收： this.$route.query 和 this.$route.params</p>
</li>
</ol>
<h4 id="61-字符串的-API"><a href="#61-字符串的-API" class="headerlink" title="61.字符串的 API"></a>61.字符串的 API</h4><ol>
<li><p>截取字符串 <strong>substr() ，substring(), slice()</strong>, 接受的第一个参数都是截取的起始位置（包含起始位置），substr() 接受的第二个参数是 截取的长度，后两者的第二个参数是 结束为止（不包含结束位置）</p>
</li>
<li><p>replace(正则表达式/要被替换的字符，要替换成为的字符串) ,返回一个新的字符串</p>
</li>
<li><p>split()用于将一个字符串分割成字符串数组</p>
<p>![image-20220107102217833](/Users/gk/Library/Application Support/typora-user-images/image-20220107102217833.png)</p>
</li>
</ol>
<p><a href="https://juejin.cn/post/7010928535053271077">使用方法</a></p>
]]></content>
      <tags>
        <tag>面试题</tag>
      </tags>
  </entry>
  <entry>
    <title>Git的使用</title>
    <url>/2021/11/21/git%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h4 id="1-第一次使用-git-提交代码"><a href="#1-第一次使用-git-提交代码" class="headerlink" title="1.第一次使用 git 提交代码"></a>1.第一次使用 git 提交代码</h4><p>git config –global  user.name xxx</p>
<p>git config –global  user.email  xxx</p>
<p>git init   [初始化]</p>
<p>git   add .       [添加到暂存区]</p>
<p>git   commit -m    ‘第一次提交’    [仓库区]</p>
<p>git remote add origin xxxx（仓库地址）<br>git  push   -u  origin [它是定义上一步中的仓库地址] master  （第一次提交,后续提交直接 git push）</p>
<p>git   log        [简易版的提交日志]</p>
<p>git   reflog   [详细版的]</p>
<h4 id="2-git-拉取-合并"><a href="#2-git-拉取-合并" class="headerlink" title="2. git 拉取  +  合并"></a>2. git 拉取  +  合并</h4><p>git   branch  查看分支</p>
<p>git   branch   login  创建分支</p>
<p>git   checkout  login  切换分支</p>
<p>git   merge   合并分支代码</p>
<p>git    add    .</p>
<p>git   commit   -m  提交</p>
<p>git   push  </p>
<p>git   branch  查看分支</p>
<p>git   merge  xxx（需要合并的分支名）[如果当前在login分支 git  merge master ]<br>git   pull origin  xxx  (需要合并的分支名) [合并别人提交的代码]</p>
<h4 id="3-版本回退"><a href="#3-版本回退" class="headerlink" title="3.版本回退"></a>3.版本回退</h4><p>退出编辑状态</p>
<p>shift    zz</p>
<p>先按  esc   在输入  :wq</p>
<p>git   reflog  查看提交版本</p>
<p>git    reset  –hard  head~2  退到索引为2 的版本</p>
<p>​     </p>
]]></content>
  </entry>
  <entry>
    <title>注册组件</title>
    <url>/2021/11/21/%E6%B3%A8%E5%86%8C%E7%BB%84%E4%BB%B6/</url>
    <content><![CDATA[<p>在scr/components/index.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> requireContext = <span class="built_in">require</span>.context(<span class="string">&#x27;./&#x27;</span>, <span class="literal">true</span>, <span class="regexp">/\.vue$/</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(requireContext.keys(), <span class="number">55555</span>)</span><br><span class="line"><span class="comment">//  requireContext.keys()   [&#x27;depart/index.vue&#x27;,&#x27;&#x27;]</span></span><br><span class="line">requireContext.keys().forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// console.log(item, 88)</span></span><br><span class="line">  <span class="comment">// 获取每一个模块的导出对象===组件导出来的对象</span></span><br><span class="line">  <span class="keyword">const</span> defaultModule = requireContext(item).default</span><br><span class="line">  <span class="comment">// console.log(defaultModule, 777777)</span></span><br><span class="line">  Vue.component(defaultModule.name, defaultModule)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 全局注册 模板 直接创建模板 命名name后 直接使用模板标签 标签名为 name名</span></span><br></pre></td></tr></table></figure>

<p>可以直接在 components中 创建组件直接使用，不用注册</p>
]]></content>
  </entry>
  <entry>
    <title>前端常见高频面试题</title>
    <url>/2021/11/01/%E5%89%8D%E7%AB%AF%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h1 id="前端常见高频面试题"><a href="#前端常见高频面试题" class="headerlink" title="前端常见高频面试题"></a>前端常见高频面试题</h1><p>[TOC]</p>
<h3 id="1、什么是mvvm-、-mvc-模型？"><a href="#1、什么是mvvm-、-mvc-模型？" class="headerlink" title="1、什么是mvvm  、 mvc 模型？"></a>1、什么是mvvm  、 mvc 模型？</h3><p><img src="./images/mvc.jpg"></p>
<p><em>MVC</em>: MVC即model-view-controller（模型-视图-控制器）是项目的一种分层架构思想，它把复杂的业务逻辑，抽离为职能单一的小模块，每个模块看似相互独立，其实又各自有相互依赖关系。它的好处是：保证了模块的智能单一性，方便程序的开发、维护、耦合度低。</p>
<p><img src=".%5Cimages%5Cmvvm.png"></p>
<p>mvvm: <em>MVVM</em>：MVVM即 <em>Model-View-ViewModel</em>，(模型-视图-控制器)它是一种双向数据绑定的模式，用viewModel来建立起model数据层和view视图层的连接，数据改变会影响视图，视图改变会影响数据</p>
<h3 id="2、vue双向数据绑定的原理？"><a href="#2、vue双向数据绑定的原理？" class="headerlink" title="2、vue双向数据绑定的原理？"></a>2、vue双向数据绑定的原理？</h3><p>　　vue.js 是采用数据劫持结合发布者-订阅者模式的方式，通过Object.defineProperty()来劫持各个属性的setter，getter，在数据变动时发布消息给订阅者，触发相应的监听回调。</p>
<p>　　具体步骤：</p>
<p>　　第一步：需要 observe 的数据对象进行递归遍历，包括子属性对象的属性，都加上 setter 和 getter<br>这样的话，给这个对象的某个值赋值，就会触发setter，那么就能监听到了数据变化</p>
<p>　　第二步：compile解析模板指令，将模板中的变量替换成数据，然后初始化渲染页面视图，并将每个指令对应的节点绑定更新函数，添加监听数据的订阅者，一旦数据有变动，收到通知，更新视图</p>
<p>　　第三步：Watcher订阅者是Observer和Compile之间通信的桥梁，主要做的事情是:</p>
<p>　　1、在自身实例化时往属性订阅器(dep)里面添加自己</p>
<p>   　　2、自身必须有一个update()方法</p>
<p>　　3、待属性变动dep.notice()通知时，能调用自身的 update() 方法，并触发Compile中绑定的回调，则功成身退。</p>
<p>　　第四步：MVVM作为数据绑定的入口，整合Observer、Compile和Watcher三者，通过Observer来监听自己的model数据变化，通过Compile来解析编译模板指令，最终利用Watcher搭起Observer和Compile之间的通信桥梁，达到数据变化 -&gt; 视图更新；视图交互变化(input) -&gt; 数据model变更的双向绑定效果。</p>
<p><img src=".%5Cimages%5Cv-model.png"></p>
<h3 id="3、vue的生命周期有哪些？"><a href="#3、vue的生命周期有哪些？" class="headerlink" title="3、vue的生命周期有哪些？"></a>3、vue的生命周期有哪些？</h3><p><img src=".%5Cimages%5Cvue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3.png"></p>
<p>　vue 实例从创建到销毁的过程就是生命周期。</p>
<p>　　也就是从开始创建、初始化数据、编译模板、挂在 dom -&gt; 渲染、更新 -&gt; 渲染、准备销毁、销毁在等一系列过程</p>
<p>vue的声明周期常见的主要分为4大阶段8大钩子函数</p>
<p>另外三个生命周期函数不常用</p>
<p>keep-alive 主要用于保留组件状态或避免重新渲染。</p>
<p>activated只有在keep-alive 组件激活时调用。</p>
<p>deactivated只有在keep-alive 组件停用时调用。</p>
<p>errorCapured 当捕获一个来自子孙组件的错误时被调用。此钩子会收到三个参数：错误对象、发生错误的组件实例以及一个包含错误来源信息的字符串。此钩子可以返回 <code>false</code> 以阻止该错误继续向上传播。</p>
<p>一、创建前 / 后</p>
<p>在beforeCreate生命周期函数执行的时候，data和method 还没有初始化</p>
<p>在created 生命周期函数执行的时候，data和method已经初始化完成</p>
<p>二、渲染前/后</p>
<p>在beforeMount 生命周期函数执行的时候，已经编译好了模版字符串、但还没有真正渲染到页面中去</p>
<p>在mounted 生命周期函数执行的时候，已经渲染完，可以看到页面</p>
<p>三、数据更新前/后</p>
<p>在beforeUpdate生命周期函数执行的时候，已经可以拿到最新的数据，但还没渲染到视图中去。</p>
<p>在updated生命周期函数执行的时候，已经把更新后的数据渲染到视图中去了。</p>
<p>四、销毁前/后</p>
<p>在beforeDestroy 生命周期函数执行的时候，实例进入准备销毁的阶段、此时data 、methods 、指令等还是可用状态</p>
<p>在destroyed生命周期函数执行的时候，实例已经完成销毁、此时data 、methods 、指令等都不可用</p>
<h3 id="4、v-if-和v-show有什么区别？"><a href="#4、v-if-和v-show有什么区别？" class="headerlink" title="4、v-if 和v-show有什么区别？"></a>4、v-if 和v-show有什么区别？</h3><p><code>v-if</code> 是“真正”的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建，操作的实际上是dom元素的创建或销毁。</p>
<p>v-show  就简单得多——不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 进行切换 它操作的是display:none/block属性。</p>
<p>一般来说，<code>v-if</code> 有更高的切换开销，而 <code>v-show</code> 有更高的初始渲染开销。因此，如果需要非常频繁地切换，则使用 <code>v-show</code> 较好；如果在运行时条件很少改变，则使用 <code>v-if</code> 较好。</p>
<h3 id="5、async-await-是什么？它有哪些作用？"><a href="#5、async-await-是什么？它有哪些作用？" class="headerlink" title="5、async    await  是什么？它有哪些作用？"></a>5、async    await  是什么？它有哪些作用？</h3><p>async await 是es7里面的新语法、它的作用就是 async 用于申明一个 function 是异步的，而 await 用于等待一个异步方法执行完成。它可以很好的替代promise 中的then</p>
<p><code>async</code>函数返回一个 Promise 对象，可以使用<code>then</code>方法添加回调函数。当函数执行的时候，一旦遇到<code>await</code>就会先返回，等到异步操作完成，再接着执行函数体内后面的语句。</p>
<h3 id="6、常用的数组方法有哪些？"><a href="#6、常用的数组方法有哪些？" class="headerlink" title="6、常用的数组方法有哪些？"></a>6、常用的数组方法有哪些？</h3><p> concat()  方法用于合并两个或多个数组。此方法不会更改现有数组，而是返回一个新数组。</p>
<p> <code>**find()**</code> 方法返回数组中满足提供的测试函数的第一个元素的值。否则返回 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>。</p>
<p><code>**findIndex()**</code>方法返回数组中满足提供的测试函数的第一个元素的<strong>索引</strong>。否则返回-1。</p>
<p><code>**includes()**</code> 方法用来判断一个数组是否包含一个指定的值，根据情况，如果包含则返回 true，否则返回false。</p>
<p><code>**indexOf()**</code>方法返回在数组中可以找到一个给定元素的第一个索引，如果不存在，则返回-1。 （通常用它判断数组中有没有这个元素）</p>
<p><code>**join()**</code> 方法将一个数组（或一个<a href="https://developer.mozilla.org/zh-CN//docs/Web/JavaScript/Guide/Indexed_collections#Working_with_array-like_objects">类数组对象</a>）的所有元素连接成一个字符串并返回这个字符串。如果数组只有一个项目，那么将返回该项目而不使用分隔符。</p>
<p><code>**pop()**</code>方法从数组中删除最后一个元素，并返回该元素的值。此方法更改数组的长度。</p>
<p><code>**push()**</code> 方法将一个或多个元素添加到数组的末尾，并返回该数组的新长度。</p>
<p><code>**shift()**</code> 方法从数组中删除<strong>第一个</strong>元素，并返回该元素的值。此方法更改数组的长度。</p>
<p><strong>unshift()</strong> 方法将一个或多个元素添加到数组的<strong>开头</strong>，并返回该数组的<strong>新长度(该</strong>方法修改原有数组**)**。</p>
<p><strong>splice()</strong> 方法通过删除或替换现有元素或者原地添加新的元素来修改数组,并以数组形式返回被修改的内容。此方法会改变原数组。</p>
<p>由被删除的元素组成的一个数组。如果只删除了一个元素，则返回只包含一个元素的数组。如果没有删除元素，则返回空数组。</p>
<p><code>**reverse()**</code> 方法将数组中元素的位置颠倒，并返回该数组。该方法会改变原数组。</p>
<p><code>**sort()**</code> 方法用<a href="https://en.wikipedia.org/wiki/In-place_algorithm">原地算法</a>对数组的元素进行排序，并返回数组。默认排序顺序是在将元素转换为字符串，然后比较它们的UTF-16代码单元值序列时构建的</p>
<h3 id="7、数组有哪几种循环方式？分别有什么作用？"><a href="#7、数组有哪几种循环方式？分别有什么作用？" class="headerlink" title="7、数组有哪几种循环方式？分别有什么作用？"></a>7、数组有哪几种循环方式？分别有什么作用？</h3><p><code>**every()**</code> 方法测试一个数组内的所有元素是否都能通过某个指定函数的测试。它返回一个布尔值。</p>
<p><code>**filter()**</code> 方法创建一个新数组, 其包含通过所提供函数实现的测试的所有元素。</p>
<p><code>**forEach()**</code> 方法对数组的每个元素执行一次提供的函数。</p>
<p><code>**some()**</code> 方法测试是否至少有一个元素可以通过被提供的函数方法。该方法返回一个Boolean类型的值。</p>
<h3 id="8、常用的字符串方法有哪些？"><a href="#8、常用的字符串方法有哪些？" class="headerlink" title="8、常用的字符串方法有哪些？"></a>8、常用的字符串方法有哪些？</h3><p><strong>charAt()</strong> 方法从一个字符串中返回指定的字符。</p>
<p><strong>concat()</strong> 方法将一个或多个字符串与原字符串连接合并，形成一个新的字符串并返回。</p>
<p><strong>includes()</strong> 方法用于判断一个字符串是否包含在另一个字符串中，根据情况返回 true 或 false。</p>
<p>indexOf() 方法返回调用它的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/String"><code>String</code></a> 对象中第一次出现的指定值的索引，从 <code>fromIndex</code> 处进行搜索。如果未找到该值，则返回 -1。</p>
<p><strong>match()</strong> 方法检索返回一个字符串匹配正则表达式的的结果。</p>
<p><strong>padStart()</strong> 方法用另一个字符串填充当前字符串(重复，如果需要的话)，以便产生的字符串达到给定的长度。填充从当前字符串的开始(左侧)应用的。 (常用于时间补0)</p>
<p><strong>replace()</strong> 方法返回一个由替换值（<code>replacement</code>）替换一些或所有匹配的模式（<code>pattern</code>）后的新字符串。模式可以是一个字符串或者一个<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/RegExp">正则表达式</a>，替换值可以是一个字符串或者一个每次匹配都要调用的回调函数。</p>
<p>原字符串不会改变。</p>
<p><strong>slice()</strong> 方法提取某个字符串的一部分，并返回一个新的字符串，且不会改动原字符串。</p>
<p><code>**split()** </code>方法使用指定的分隔符字符串将一个<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/String"><code>String</code></a>对象分割成字符串数组，以将字符串分隔为子字符串，以确定每个拆分的位置。 </p>
<p><code>**substr()**</code> 方法返回一个字符串中从指定位置开始到指定字符数的字符。</p>
<p><strong>trim()</strong> 方法会从一个字符串的两端删除空白字符。在这个上下文中的空白字符是所有的空白字符 (space, tab, no-break space 等) 以及所有行终止符字符（如 LF，CR）。</p>
<h3 id="9、什么是原型链？"><a href="#9、什么是原型链？" class="headerlink" title="9、什么是原型链？"></a>9、什么是原型链？</h3><p>每一个实例对象上有一个__proto__属性，指向的构造函数的原型对象，构造函数的原型 </p>
<p>对象也是一个对象，也有<strong>proto</strong>属性，这样一层一层往上找的过程就形成了原型链。</p>
<h3 id="10、什么是闭包？手写一个闭包函数？-闭包有哪些优缺点？"><a href="#10、什么是闭包？手写一个闭包函数？-闭包有哪些优缺点？" class="headerlink" title="10、什么是闭包？手写一个闭包函数？ 闭包有哪些优缺点？"></a>10、什么是闭包？手写一个闭包函数？ 闭包有哪些优缺点？</h3><p>闭包（closure）指有权访问另一个函数作用域中变量的函数。简单理解就是 ，一个作用 </p>
<p>域可以访问另外一个函数内部的局部变量。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(num); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fun;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f = fn(); </span><br><span class="line">f();</span><br></pre></td></tr></table></figure>

<p>作用：延长变量作用域、在函数的外部可以访问函数内部的局部变量，容易造成内层泄露，因为闭包中的局部变量永远不会被回收</p>
<h3 id="11、常见的继承有哪些？"><a href="#11、常见的继承有哪些？" class="headerlink" title="11、常见的继承有哪些？"></a>11、常见的继承有哪些？</h3><p><strong>一、原型链继承</strong></p>
<p>特点：1、实例可继承的属性有：实例的构造函数的属性，父类构造函数属性，父类原型的属性。（新实例不会继承父类实例的属性！</p>
<p>缺点：1、新实例无法向父类构造函数传参。</p>
<p>　　　2、继承单一。</p>
<p>　　　3、所有新实例都会共享父类实例的属性。（原型上的属性是共享的，一个实例修改了原型属性，另一个实例的原   型属性也会被修改！）</p>
<p><strong>二、借用构造函数继承</strong></p>
<p>重点：用.call()和.apply()将父类构造函数引入子类函数（在子类函数中做了父类函数的自执行（复制））</p>
<p>　　　　特点：1、只继承了父类构造函数的属性，没有继承父类原型的属性。</p>
<p>　　　　　　　2、解决了原型链继承缺点1、2、3。</p>
<p>　　　　　　　3、可以继承多个构造函数属性（call多个）。</p>
<p>　　　　　　　4、在子实例中可向父实例传参。</p>
<p>　　　　缺点：1、只能继承父类构造函数的属性。</p>
<p>　　　　　　　2、无法实现构造函数的复用。（每次用每次都要重新调用）</p>
<p>　　　　　　　3、每个新实例都有父类构造函数的副本，臃肿。</p>
<p><strong>三、组合继承（组合原型链继承和借用构造函数继承）（常用）</strong></p>
<p>重点：<strong>结合了两种模式的优点，传参和复用</strong></p>
<p>　　　　特点：1、可以继承父类原型上的属性，可以传参，可复用。</p>
<p>　　　　　　　2、每个新实例引入的构造函数属性是私有的。</p>
<p>　　　　缺点：调用了两次父类构造函数（耗内存），子类的构造函数会代替原型上的那个父类构造函数。</p>
<p><strong>四、原型式继承</strong></p>
<p>重点：用一个函数包装一个对象，然后返回这个函数的调用，这个函数就变成了个可以随意增添属性的实例或对象。object.create()就是这个原理。</p>
<p>　　　　特点：类似于复制一个对象，用函数来包装。</p>
<p>　　　　缺点：1、所有实例都会继承原型上的属性。</p>
<p>　　　　　　　2、无法实现复用。（新实例属性都是后面添加的）</p>
<p><strong>五、class类实现继承</strong></p>
<p>通过extends 和super 实现继承</p>
<p><strong>六、寄生式继承</strong></p>
<p>重点：就是给原型式继承外面套了个壳子。</p>
<p>　　　　优点：没有创建自定义类型，因为只是套了个壳子返回对象（这个），这个函数顺理成章就成了创建的新对象。</p>
<p>　　　　缺点：没用到原型，无法复用。</p>
<h3 id="12、后台管理系统中的权限管理是怎么实现的？"><a href="#12、后台管理系统中的权限管理是怎么实现的？" class="headerlink" title="12、后台管理系统中的权限管理是怎么实现的？"></a>12、后台管理系统中的权限管理是怎么实现的？</h3><p>登录：当用户填写完账号和密码后向服务端验证是否正确，验证通过之后，服务端会返回一个<strong>token</strong>，拿到token之后（我会将这个token存贮到cookie中，保证刷新页面后能记住用户登录状态），前端会根据token再去拉取一个 <strong>user_info</strong> 的接口来获取用户的详细信息（如用户权限，用户名等等信息）。</p>
<p>权限验证：通过token获取用户对应的 权限，动态根据用户的 权限算出其对应有权限的路由，通过 <strong>router.addRoutes</strong> 动态挂载这些路由。</p>
<p>具体思路：</p>
<p>登录成功后，服务端会返回一个 <strong>token</strong>（该token的是一个能唯一标示用户身份的一个key），之后我们将token存储在本地cookie之中，这样下次打开页面或者刷新页面的时候能记住用户的登录状态，不用再去登录页面重新登录了。</p>
<p>ps:为了保证安全性，我司现在后台所有token有效期(Expires/Max-Age)都是Session，就是当浏览器关闭了就丢失了。重新打开游览器都需要重新登录验证，后端也会在每周固定一个时间点重新刷新token，让后台用户全部重新登录一次，确保后台用户不会因为电脑遗失或者其它原因被人随意使用账号。</p>
<p>用户登录成功之后，我们会在全局钩子<code>router.beforeEach</code>中拦截路由，判断是否已获得token，在获得token之后我们就要去获取用户的基本信息了</p>
<p>页面会先从 cookie 中查看是否存有 token，没有，就走一遍上一部分的流程重新登录，如果有token,就会把这个 token 返给后端去拉取user_info，保证用户信息是最新的。 当然如果是做了单点登录得功能的话，用户信息存储在本地也是可以的。当你一台电脑登录时，另一台会被提下线，所以总会重新登录获取最新的内容。</p>
<p>先说一说我权限控制的主体思路，前端会有一份路由表，它表示了每一个路由可访问的权限。当用户登录之后，通过 <strong>token</strong> 获取用户的 <strong>role</strong> ，动态根据用户的 <strong>role</strong> 算出其对应有权限的路由，再通过<code>router.addRoutes</code>动态挂载路由。但这些控制都只是页面级的，说白了前端再怎么做权限控制都不是绝对安全的，后端的权限验证是逃不掉的。</p>
<p>我司现在就是前端来控制页面级的权限，不同权限的用户显示不同的侧边栏和限制其所能进入的页面(也做了少许按钮级别的权限控制)，后端则会验证每一个涉及请求的操作，验证其是否有该操作的权限，每一个后台的请求不管是 get 还是 post 都会让前端在请求 <code>header</code>里面携带用户的 <strong>token</strong>，后端会根据该 <strong>token</strong> 来验证用户是否有权限执行该操作。若没有权限则抛出一个对应的状态码，前端检测到该状态码，做出相对应的操作。</p>
<p>使用vuex管理路由表，根据vuex中可访问的路由渲染侧边栏组件。</p>
<p>具体实现：</p>
<p>创建vue实例的时候将vue-router挂载，但这个时候vue-router挂载一些登录或者不用权限的公用的页面。</p>
<p>当用户登录后，获取用role，将role和路由表每个页面的需要的权限作比较，生成最终用户可访问的路由表。</p>
<p>调用router.addRoutes(store.getters.addRouters)添加用户可访问的路由。</p>
<p>使用vuex管理路由表，根据vuex中可访问的路由渲染侧边栏组件。</p>
<h3 id="14、es6有哪些新特性？"><a href="#14、es6有哪些新特性？" class="headerlink" title="14、es6有哪些新特性？"></a>14、es6有哪些新特性？</h3><p>ES6是2015年推出的一个新的版本、这个版本相对于ES5的语法做了很多的优化、例如：新增了let、const</p>
<p>let和const具有块级作用域，不存在变量提升的问题。新增了箭头函数，简化了定义函数的写法，同时可以巧用箭头函数的this、（注意箭头函数本身没有this,它的this取决于外部的环境），新增了promise解决了回调地域的问题，新增了模块化、利用import 、export来实现导入、导出。新增了结构赋值，ES6 允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。新增了class类的概念，它类似于对象。</p>
<h3 id="15、v-for-循环为什么一定要绑定key"><a href="#15、v-for-循环为什么一定要绑定key" class="headerlink" title="15、v-for 循环为什么一定要绑定key ?"></a>15、v-for 循环为什么一定要绑定key ?</h3><p>页面上的标签都对应具体的虚拟dom对象(虚拟dom就是js对象), 循环中 ,如果没有唯一key , 页面上删除一条标签, 由于并不知道删除的是那一条! 所以要把全部虚拟dom重新渲染, 如果知道key为x标签被删除掉, 只需要把渲染的dom为x的标签去掉即可! </p>
<h3 id="16、组件中的data为什么要定义成一个函数而不是一个对象？"><a href="#16、组件中的data为什么要定义成一个函数而不是一个对象？" class="headerlink" title="16、组件中的data为什么要定义成一个函数而不是一个对象？"></a>16、组件中的data为什么要定义成一个函数而不是一个对象？</h3><p>每个组件都是 Vue 的实例。组件共享 data 属性，当 data 的值是同一个引用类型的值时，改变其中一个会影响其他</p>
<h3 id="17、常见的盒子垂直居中的方法有哪些请举例3种？"><a href="#17、常见的盒子垂直居中的方法有哪些请举例3种？" class="headerlink" title="17、常见的盒子垂直居中的方法有哪些请举例3种？"></a>17、常见的盒子垂直居中的方法有哪些请举例3种？</h3><p>利用子绝父相定位的方式来实现</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#container</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#center</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    hight:<span class="number">100px</span>;</span><br><span class="line">     <span class="attribute">position</span>: absolute;</span><br><span class="line">     <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">     <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>:-<span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>:-<span class="number">50px</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>利用Css3的transform，可以轻松的在未知元素的高宽的情况下实现元素的垂直居中。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#container</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#center</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>flex</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:flex;</span><br><span class="line">    <span class="attribute">justify-content</span>:center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#center</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="18、平时都是用什么实现跨域的？"><a href="#18、平时都是用什么实现跨域的？" class="headerlink" title="18、平时都是用什么实现跨域的？"></a>18、平时都是用什么实现跨域的？</h3><p>jsonp: 利用 <script> 标签没有跨域限制的漏洞，网页可以得到从其他来源动态产生的 JSON 数据。JSONP请求一定需要对方的服务器做支持才可以。</p>
<p>JSONP优点是简单兼容性好，可用于解决主流浏览器的跨域数据访问的问题。缺点是仅支持get方法具有局限性,不安全可能会遭受XSS攻击。</p>
<p>声明一个回调函数，其函数名(如show)当做参数值，要传递给跨域请求数据的服务器，函数形参为要获取目标数据(服务器返回的data)。</p>
<p>创建一个<code>&lt;script&gt;</code>标签，把那个跨域的API数据接口地址，赋值给script的src,还要在这个地址中向服务器传递该函数名（可以通过问号传参:?callback=show）。</p>
<p>服务器接收到请求后，需要进行特殊的处理：把传递进来的函数名和它需要给你的数据拼接成一个字符串,例如：传递进去的函数名是show，它准备好的数据是<code>show(&#39;我不爱你&#39;)</code>。</p>
<p>最后服务器把准备的数据通过HTTP协议返回给客户端，客户端再调用执行之前声明的回调函数（show），对返回的数据进行操作。</p>
<p>CORS：跨域资源共享（CORS）是一种机制；当一个资源访问到另外一个资源(这个资源放在</p>
<p>不同的域名或者不同的协议或者端口)，资源就会发起一个跨域的HTTP请求需要浏览器和服务器同时支持；</p>
<ol>
<li>整个CORS通信，都是浏览器自动完成。浏览器发现了AJAX请求跨源，就会自动添加一些附加的头信息，有时还会多出一次附加的请求，但用户不会有感觉；</li>
<li>实现CORS的关键是服务器，只要服务器实现了CORS接口，就可以跨源通信</li>
<li>服务器对于不同的请求，处理方式不一样； 有简单请求和非简单请求</li>
</ol>
<h3 id="19、cookie-、localstorage-、-sessionstrorage-之间有什么区别？"><a href="#19、cookie-、localstorage-、-sessionstrorage-之间有什么区别？" class="headerlink" title="19、cookie 、localstorage 、 sessionstrorage 之间有什么区别？"></a>19、cookie 、localstorage 、 sessionstrorage 之间有什么区别？</h3><ul>
<li><p>与服务器交互：</p>
<ul>
<li>cookie 是网站为了标示用户身份而储存在用户本地终端上的数据（通常经过加密）</li>
<li>cookie 始终会在同源 http 请求头中携带（即使不需要），在浏览器和服务器间来回传递</li>
<li>sessionStorage 和 localStorage 不会自动把数据发给服务器，仅在本地保存</li>
</ul>
</li>
<li><p>存储大小：</p>
</li>
<li><p>cookie 数据根据不同浏览器限制，大小一般不能超过 4k</p>
</li>
<li><p>sessionStorage 和 localStorage 虽然也有存储大小的限制，但比cookie大得多，可以达到5M或更大</p>
</li>
<li><p>有期时间：</p>
<ul>
<li>localStorage 存储持久数据，浏览器关闭后数据不丢失除非主动删除数据</li>
<li>sessionStorage 数据在当前浏览器窗口关闭后自动删除</li>
<li>cookie 设置的cookie过期时间之前一直有效，与浏览器是否关闭无关</li>
</ul>
</li>
</ul>
<h3 id="20、this-的指向有哪些？"><a href="#20、this-的指向有哪些？" class="headerlink" title="20、this 的指向有哪些？"></a>20、this 的指向有哪些？</h3><p>1、普通函数中的this指向window</p>
<p>2、定时器中的this指向window</p>
<p>3、箭头函数没有this,它的this指向取决于外部环境、</p>
<p>4、事件中的this指向事件的调用者</p>
<p>5、 构造函数中this和原型对象中的this,都是指向构造函数new 出来实例对象</p>
<p>6、类 class中的this  指向由constructor构造器new出来的实例对象</p>
<p>7、自调用函数中的this  指向window</p>
<h3 id="21、什么是递归，递归有哪些优点或缺点？"><a href="#21、什么是递归，递归有哪些优点或缺点？" class="headerlink" title="21、什么是递归，递归有哪些优点或缺点？"></a>21、什么是递归，递归有哪些优点或缺点？</h3><p>递归：如果一个函数在内部可以调用其本身，那么这个函数就是递归函数。简单理解:函 </p>
<p>数内部自己调用自己, 这个函数就是递归函数 </p>
<p>优点：结构清晰、可读性强</p>
<p>缺点：效率低、调用栈可能会溢出，其实每一次函数调用会在内存栈中分配空间，而每个进程的栈的容量是有限的，当调用的层次太多时，就会超出栈的容量，从而导致栈溢出。-&gt;性能</p>
<h3 id="22、谈谈你平时都用了哪些方法进行性能优化？"><a href="#22、谈谈你平时都用了哪些方法进行性能优化？" class="headerlink" title="22、谈谈你平时都用了哪些方法进行性能优化？"></a>22、谈谈你平时都用了哪些方法进行性能优化？</h3><p>减少http请求次数、打包压缩上线代码、使用懒加载、使用雪碧图、动态渲染组件、CDN加载包。</p>
<h3 id="23、vue实例是挂载到那个标签上的？"><a href="#23、vue实例是挂载到那个标签上的？" class="headerlink" title="23、vue实例是挂载到那个标签上的？"></a>23、vue实例是挂载到那个标签上的？</h3><p>vue实例最后会挂载在body标签里面，所以我们在vue中是获取不了body 标签的，如果要使用body标签的话需要用原生的方式获取</p>
<h3 id="24、什么是深拷贝、什么是浅拷贝？"><a href="#24、什么是深拷贝、什么是浅拷贝？" class="headerlink" title="24、什么是深拷贝、什么是浅拷贝？"></a>24、什么是深拷贝、什么是浅拷贝？</h3><p>浅拷贝：创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本类型，拷贝的就是基本类型的值，如果属性是引用类型，拷贝的就是内存地址 ，所以如果其中一个对象改变了这个地址，就会影响到另一个对象。</p>
<p>深拷贝会拷贝所有的属性，并拷贝属性指向的动态分配的内存。当对象和它所引用的对象一起拷贝时即发生深拷贝。深拷贝相比于浅拷贝速度较慢并且花销较大。拷贝前后两个对象互不影响。</p>
<h3 id="25、js的执行机制是怎么样的？"><a href="#25、js的执行机制是怎么样的？" class="headerlink" title="25、js的执行机制是怎么样的？"></a>25、js的执行机制是怎么样的？</h3><p>js是一个单线程、异步、非阻塞I/O模型、 event loop事件循环的执行机制</p>
<p>所有任务可以分成两种，一种是同步任务（synchronous），另一种是异步任务（asynchronous）。同步任务指的是，在主线程上排队执行的任务，只有前一个任务执行完毕，才能执行后一个任务。异步任务指的是，不进入主线程、而进入”任务队列”（task queue）的任务，只有”任务队列”通知主线程，某个异步任务可以执行了，该任务才会进入主线程执行。</p>
<h3 id="26、请写至少三种数组去重的方法？（原生js）"><a href="#26、请写至少三种数组去重的方法？（原生js）" class="headerlink" title="26、请写至少三种数组去重的方法？（原生js）"></a>26、请写至少三种数组去重的方法？（原生js）</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//利用filter</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, arr</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//当前元素，在原始数组中的第一个索引==当前索引值，否则返回当前元素</span></span><br><span class="line">    <span class="keyword">return</span> arr.indexOf(item, <span class="number">0</span>) === index;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="literal">NaN</span>, <span class="literal">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">        <span class="built_in">console</span>.log(unique(arr))</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//利用ES6 Set去重（ES6中最常用）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="literal">NaN</span>, <span class="literal">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line"><span class="built_in">console</span>.log(unique(arr))</span><br><span class="line"> <span class="comment">//[1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;&#125;, &#123;&#125;]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//利用for嵌套for，然后splice去重（ES5中最常用）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>)</span>&#123;            </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;arr.length; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> j=i+<span class="number">1</span>; j&lt;arr.length; j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(arr[i]==arr[j])&#123;         <span class="comment">//第一个等同于第二个，splice方法删除第二个</span></span><br><span class="line">                    arr.splice(j,<span class="number">1</span>);</span><br><span class="line">                    j--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="literal">NaN</span>, <span class="literal">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">    <span class="built_in">console</span>.log(unique(arr))</span><br><span class="line">    <span class="comment">//[1, &quot;true&quot;, 15, false, undefined, NaN, NaN, &quot;NaN&quot;, &quot;a&quot;, &#123;…&#125;, &#123;…&#125;]     //NaN和&#123;&#125;没有去重，两个null直接消失了</span></span><br></pre></td></tr></table></figure>



<h3 id="27、请写出至少两种常见的数组排序的方法（原生js）"><a href="#27、请写出至少两种常见的数组排序的方法（原生js）" class="headerlink" title="27、请写出至少两种常见的数组排序的方法（原生js）"></a>27、请写出至少两种常见的数组排序的方法（原生js）</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//快速排序</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">elements</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(elements.length &lt;=<span class="number">1</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> elements;  </span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">var</span> pivotIndex=<span class="built_in">Math</span>.floor(elements.length / <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">var</span> pivot=elements.splice(pivotIndex,<span class="number">1</span>)[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">var</span> left=[];</span><br><span class="line">  <span class="keyword">var</span> right=[];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;elements.length;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(elements[i] &lt; pivot)&#123;</span><br><span class="line">        left.push(elements[i]);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">       right.push(elements[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; </span><br><span class="line"><span class="keyword">return</span>  quickSort(left).concat([pivot],quickSort(right));</span><br><span class="line"><span class="comment">//concat()方法用于连接两个或者多个数组；该方法不会改变现有的数组，而仅仅会返回被连接数组的一个副本。</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> elements=[<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">10</span>];</span><br><span class="line"><span class="built_in">document</span>.write(quickSort(elements)); </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//插入排序</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sort</span>(<span class="params">elements</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 假设第0个元素是一个有序数列，第1个以后的是无序数列，</span></span><br><span class="line">    <span class="comment">// 所以从第1个元素开始将无序数列的元素插入到有序数列中去</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i =<span class="number">1</span>; i&lt;=elements.length; i++) &#123;</span><br><span class="line">        <span class="comment">// 升序</span></span><br><span class="line">        <span class="keyword">if</span>(elements[i] &lt; elements[i-<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="comment">// 取出无序数列中的第i个作为被插入元素</span></span><br><span class="line">            <span class="keyword">var</span> guard=elements[i];</span><br><span class="line">            <span class="comment">//记住有序数列的最后一个位置，并且将有序数列的位置扩大一个</span></span><br><span class="line">            <span class="keyword">var</span> j=i-<span class="number">1</span>;</span><br><span class="line">            elements[i]=elements[j];</span><br><span class="line">            <span class="comment">// 比大小;找到被插入元素所在位置</span></span><br><span class="line">            <span class="keyword">while</span> (j&gt;=<span class="number">0</span> &amp;&amp; guard &lt;elements[j]) &#123;</span><br><span class="line">                elements[j+<span class="number">1</span>]=elements[j];</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            elements[j+<span class="number">1</span>]=guard; <span class="comment">//插入</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> elements=[<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">10</span>];</span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">&#x27;没调用之前：&#x27;</span>+elements);</span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">&#x27;&lt;br&gt;&#x27;</span>);</span><br><span class="line">sort(elements);</span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">&#x27;被调用之后：&#x27;</span>+elements);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//冒泡排序</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sort</span>(<span class="params">elements</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;elements.length-<span class="number">1</span>;i++)&#123;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;elements.length-<span class="number">1</span>-i;j++)&#123;</span><br><span class="line">          <span class="keyword">if</span>(elements[j] &gt; elements[j+<span class="number">1</span>])&#123;</span><br><span class="line">               <span class="keyword">var</span>  swap=elements[j];</span><br><span class="line">               elements[j]=elements[j+<span class="number">1</span>];</span><br><span class="line">               elements[j+<span class="number">1</span>]=swap;</span><br><span class="line">          &#125;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> elements=[<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">10</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;before&#x27;</span>+elements);</span><br><span class="line">sort(elements);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;after&#x27;</span>+elements);</span><br></pre></td></tr></table></figure>



<h3 id="28、知道lodash吗？它有哪些常见的API-？"><a href="#28、知道lodash吗？它有哪些常见的API-？" class="headerlink" title="28、知道lodash吗？它有哪些常见的API   ？"></a>28、知道lodash吗？它有哪些常见的API   ？</h3><p>Lodash是一个一致性、模块化、高性能的 JavaScript 实用工具库。</p>
<p>​     _.cloneDeep     深度拷贝</p>
<p>_.reject    根据条件去除某个元素。</p>
<p>_.drop(array, [n=1] )   作用：将 <code>array</code> 中的前 <code>n</code> 个元素去掉，然后返回剩余的部分.</p>
<h3 id="29、http的请求方式有哪些？"><a href="#29、http的请求方式有哪些？" class="headerlink" title="29、http的请求方式有哪些？"></a>29、http的请求方式有哪些？</h3><p>get、post、put、delete等</p>
<h3 id="30、平时都是用那些工具进行打包的？babel是什么？"><a href="#30、平时都是用那些工具进行打包的？babel是什么？" class="headerlink" title="30、平时都是用那些工具进行打包的？babel是什么？"></a>30、平时都是用那些工具进行打包的？babel是什么？</h3><p>WebPack 是一个模块打包工具，你可以使用WebPack管理你的模块依赖，并编绎输出模块们所需的静态文件。它能够很好地管理、打包Web开发中所用到的HTML、Javascript、CSS以及各种静态文件（图片、字体等），让开发过程更加高效。对于不同类型的资源，webpack有对应的模块加载器。webpack模块打包器会分析模块间的依赖关系，最后 生成了优化且合并后的静态资源</p>
<p>babel可以帮助我们转换一些当前浏览器不支持的语法，它会把这些语法转换为低版本的语法以便浏览器识别。</p>
<h3 id="31、谈谈set-、-map-是什么？"><a href="#31、谈谈set-、-map-是什么？" class="headerlink" title="31、谈谈set 、 map 是什么？"></a>31、谈谈set 、 map 是什么？</h3><p>set 是es6 提供的一种新的数据结构，它类似于数组，但是成员的值都是唯一的。</p>
<p>map 是es6 提供的一种新的数据结构,它类似于对象，也是键值对的集合，但是键的范围不仅限于字符串，各种类型的值都可以当做键。也就是说，Object 结构提供了“字符串—值”的对应，Map 结构提供了“值—值”的对应，是一种更完善的 Hash 结构实现。如果你需要“键值对”的数据结构，Map 比 Object 更合适。</p>
<h3 id="32、清除浮动的方法有哪些？"><a href="#32、清除浮动的方法有哪些？" class="headerlink" title="32、清除浮动的方法有哪些？"></a>32、清除浮动的方法有哪些？</h3><p>为什么要清除浮动，因为浮动的盒子脱离标准流，如果父盒子没有设置高度的话，下面的盒子就会撑上来。</p>
<p>1.额外标签法（在最后一个浮动标签后，新加一个标签，给其设置clear：both；）（不推荐）</p>
<p>2.父级添加overflow属性（父元素添加overflow:hidden）（不推荐）</p>
<p>3.使用after伪元素清除浮动（推荐使用）</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="selector-class">.clearfix</span>:after&#123;/*伪元素是行内元素 正常浏览器清除浮动方法*/</span><br><span class="line">        content: <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="attribute">display</span>: block;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">clear</span>:both;</span><br><span class="line">        <span class="attribute">visibility</span>: hidden;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.clearfix</span>&#123;</span><br><span class="line">        *zoom: <span class="number">1</span>;<span class="comment">/*ie6清除浮动的方式 *号只有IE6-IE7执行，其他浏览器不执行*/</span></span><br><span class="line">｝</span><br></pre></td></tr></table></figure>

<p>4.使用before和after双伪元素清除浮动</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span>:after,.clearfix:before&#123;</span><br><span class="line">       content: <span class="string">&quot;&quot;</span>;</span><br><span class="line">       <span class="attribute">display</span>: table;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.clearfix</span>:after&#123;</span><br><span class="line">       clear: both;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.clearfix</span>&#123;</span><br><span class="line">       *zoom: <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="33、常见的布局方法有哪些？他们的优缺点是什么？"><a href="#33、常见的布局方法有哪些？他们的优缺点是什么？" class="headerlink" title="33、常见的布局方法有哪些？他们的优缺点是什么？"></a>33、常见的布局方法有哪些？他们的优缺点是什么？</h3><p>页面布局常用的方法有浮动、定位、flex、grid网格布局、栅格系统布局</p>
<p>浮动：</p>
<ul>
<li>优点：兼容性好。</li>
<li>缺点：浮动会脱离标准文档流，因此要清除浮动。我们解决好这个问题即可。</li>
</ul>
<p>绝对定位</p>
<ul>
<li>优点：快捷。</li>
<li>缺点：导致子元素也脱离了标准文档流，可实用性差。</li>
</ul>
<p>flex 布局（CSS3中出现的）</p>
<ul>
<li>优点：解决上面两个方法的不足，flex布局比较完美。移动端基本用 flex布局。</li>
</ul>
<p>网格布局（grid）</p>
<ul>
<li>CSS3中引入的布局，很好用。代码量简化了很多。</li>
</ul>
<p>利用网格布局实现的一个左右300px中间自适应的布局</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">html</span> * &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="comment">/* 重要：设置容器为网格布局，宽度为100% */</span></span></span><br><span class="line"><span class="css">        <span class="selector-class">.layout</span><span class="selector-class">.grid</span> <span class="selector-class">.left-center-right</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">display</span>: grid;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            grid-template-rows: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            grid-template-<span class="attribute">columns</span>: <span class="number">300px</span> auto <span class="number">300px</span>;  <span class="comment">/* 重要：设置网格为三列，并设置每列的宽度。即可。*/</span></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.layout</span><span class="selector-class">.grid</span> <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: red;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.layout</span><span class="selector-class">.grid</span> <span class="selector-class">.center</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: green;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.layout</span><span class="selector-class">.grid</span> <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: blue;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;layout grid&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">&quot;left-center-right&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span></span><br><span class="line">                我是 left</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h1</span>&gt;</span>网格布局解决方案<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">                我是 center</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span></span><br><span class="line">                我是 right</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>栅格系统布局</p>
<p>​    优点：可以适用于多端设备</p>
<h3 id="34、图片懒加载是怎么实现的？"><a href="#34、图片懒加载是怎么实现的？" class="headerlink" title="34、图片懒加载是怎么实现的？"></a>34、图片懒加载是怎么实现的？</h3><p>就是我们先设置图片的data-set属性（当然也可以是其他任意的，只要不会发送http请求就行了，作用就是为了存取值）值为其图片路径，由于不是src，所以不会发送http请求。 然后我们计算出页面scrollTop的高度和浏览器的高度之和， 如果图片距离页面顶端的坐标Y（相对于整个页面，而不是浏览器窗口）小于前两者之和，就说明图片就要显示出来了（合适的时机，当然也可以是其他情况），这时候我们再将 data-set 属性替换为 src 属性即可。</p>
<h3 id="35、vue中computed-和watch-的区别是什么？"><a href="#35、vue中computed-和watch-的区别是什么？" class="headerlink" title="35、vue中computed 和watch 的区别是什么？"></a>35、vue中computed 和watch 的区别是什么？</h3><p>computed计算属性就是为了简化template里面模版字符串的计算复杂度、防止模版太过冗余。它具有缓存特性</p>
<p>computed用来监控自己定义的变量，该变量不在data里面声明，直接在computed里面定义，然后就可以在页面上进行双向数据绑定展示出结果或者用作其他处理；</p>
<p>​    watch主要用于监控vue实例的变化，它监控的变量当然必须在data里面声明才可以，它可以监控一个变量，也可以是一个对象，一般用于监控路由、input输入框的值特殊处理等等，它比较适合的场景是一个数据影响多个数据，它不具有缓存性</p>
<ul>
<li>watch：监测的是属性值， 只要属性值发生变化，其都会触发执行回调函数来执行一系列操作。</li>
<li>computed：监测的是依赖值，依赖值不变的情况下其会直接读取缓存进行复用，变化的情况下才会重新计算。</li>
</ul>
<p>除此之外，有点很重要的区别是：<strong>计算属性不能执行异步任务，计算属性必须同步执行</strong>。也就是说计算属性不能向服务器请求或者执行异步任务。如果遇到异步任务，就交给侦听属性。watch也可以检测computed属性。</p>
<h3 id="36、vue中是怎么实现父向子、子向父、兄弟之间的传值的？"><a href="#36、vue中是怎么实现父向子、子向父、兄弟之间的传值的？" class="headerlink" title="36、vue中是怎么实现父向子、子向父、兄弟之间的传值的？"></a>36、vue中是怎么实现父向子、子向父、兄弟之间的传值的？</h3><p>父向子传值主要通过的是props属性来传值，props只读</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>父组件向子组件传值--props<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span>   </span><br><span class="line">        <span class="tag">&lt;<span class="name">menu-item</span> <span class="attr">title</span>=<span class="string">&quot;来自父组件的值&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">menu-item</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--   在子组件身上绑定自定义属性来接收父组件data中的数据 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">menu-item</span> <span class="attr">:tit</span>=<span class="string">&quot;title&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">menu-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">Vue.component(<span class="string">&#x27;menu-item&#x27;</span>,&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">props</span>:[<span class="string">&#x27;tit&#x27;</span>],  <span class="comment">//props用来接收父组件传过来的值</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//在props中使用驼峰形式，模版中要改为使用短横线拼接  props里面的值只读，不能修改</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//props是单向数据流</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="attr">template</span>:<span class="string">&#x27;&lt;div&gt;&#123;&#123;tit&#125;&#125;&lt;/div&gt;&#x27;</span></span></span><br><span class="line"><span class="javascript">&#125;)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> vm=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">           <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">           <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">              <span class="attr">title</span>:<span class="string">&#x27;我是父组件中的数据&#x27;</span></span></span><br><span class="line"><span class="javascript">           &#125;,</span></span><br><span class="line"><span class="javascript">           <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">           &#125;</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>子向父传值   $emit</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--   父组件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">&#x27;&#123;fontSize:fontSize+&quot;px&quot;&#125;&#x27;</span>&gt;</span>&#123;&#123;pmsg&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--  子组件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">menu-item</span> <span class="attr">:parr</span>=<span class="string">&quot;parr&quot;</span> @<span class="attr">aas</span>=<span class="string">&quot;blune&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">menu-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="javascript">      子组件向父组件传值-基本用法</span></span></span><br><span class="line"><span class="comment"><span class="javascript">      props传递数据原则：单向数据流</span></span></span><br><span class="line"><span class="comment"><span class="javascript">    */</span></span></span><br><span class="line"><span class="javascript">    Vue.component(<span class="string">&#x27;menu-item&#x27;</span>, &#123;</span></span><br><span class="line"><span class="javascript">     <span class="attr">props</span>:[<span class="string">&#x27;parr&#x27;</span>],</span></span><br><span class="line"><span class="javascript">     <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">           <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">               <span class="attr">msg1</span>:<span class="string">&#x27;这是子组件传递过来的值&#x27;</span></span></span><br><span class="line"><span class="javascript">           &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">      <span class="attr">template</span>: <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="javascript">        &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">          &lt;ul&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">            &lt;li v-for=&quot;(item,index) in parr&quot; :key=&quot;index&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">          &lt;/ul&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">          &lt;button @click=&#x27;dd&#x27;&gt;扩大父组件中字体大小&lt;/button&gt; </span></span></span><br><span class="line"><span class="string"><span class="javascript">        &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">      `</span>,</span></span><br><span class="line"><span class="javascript">      <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">          <span class="function"><span class="title">dd</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">           <span class="built_in">this</span>.$emit(<span class="string">&quot;aas&quot;</span>,<span class="built_in">this</span>.msg1)</span></span><br><span class="line"><span class="javascript">          &#125; </span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"> <span class="comment">//$emit</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">pmsg</span>: <span class="string">&#x27;父组件中内容&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">parr</span>: [<span class="string">&#x27;apple&#x27;</span>,<span class="string">&#x27;orange&#x27;</span>,<span class="string">&#x27;banana&#x27;</span>],</span></span><br><span class="line"><span class="javascript">        <span class="attr">fontSize</span>: <span class="number">10</span></span></span><br><span class="line"><span class="javascript">      &#125;,</span></span><br><span class="line"><span class="javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">blune</span>(<span class="params">message</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.fontSize+=<span class="number">5</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(message);   </span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>兄弟组件传值   事件总线 </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">brother</span>&gt;</span><span class="tag">&lt;/<span class="name">brother</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sister</span>&gt;</span><span class="tag">&lt;/<span class="name">sister</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> enveBus = <span class="keyword">new</span> Vue();</span></span><br><span class="line"><span class="javascript">        Vue.component(<span class="string">&#x27;brother&#x27;</span>, &#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">kk</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">dd</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">                    enveBus.$emit(<span class="string">&quot;bTs&quot;</span>, <span class="string">&#x27;这是哥哥给妹妹的爱&#x27;</span>)</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">template</span>: <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="javascript">        &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">          &lt;button @click=&#x27;dd&#x27;&gt;这是一个哥哥组件---&#123;&#123;kk&#125;&#125;&lt;/button&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">        &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">      `</span>,</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">                enveBus.$on(<span class="string">&#x27;asd&#x27;</span>, <span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.kk = result;</span></span><br><span class="line"><span class="javascript">                &#125;)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">        Vue.component(<span class="string">&#x27;sister&#x27;</span>, &#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">sis</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">template</span>: <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="javascript">   &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">     &lt;button @click=&quot;cc&quot;&gt;这是一个妹妹组件---&#123;&#123;sis&#125;&#125;&lt;/button&gt; </span></span></span><br><span class="line"><span class="string"><span class="javascript">   &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript"> `</span>,</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">                enveBus.$on(<span class="string">&#x27;bTs&#x27;</span>, <span class="function">(<span class="params">message</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.sis = message</span></span><br><span class="line"><span class="javascript">                &#125;)</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">cc</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">                    enveBus.$emit(<span class="string">&#x27;asd&#x27;</span>, <span class="string">&#x27;这是妹妹对哥哥的爱&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="37、什么vuex-谈谈你对它的理解？"><a href="#37、什么vuex-谈谈你对它的理解？" class="headerlink" title="37、什么vuex ,谈谈你对它的理解？"></a>37、什么vuex ,谈谈你对它的理解？</h3><ol>
<li>首先vuex的出现是为了解决web组件化开发的过程中，各组件之间传值的复杂和混乱的问题</li>
<li>将我们在多个组件中需要共享的数据放到store中，</li>
<li>要获取或格式化数据需要使用getters，</li>
<li>改变store中的数据，使用mutation，但是只能包含同步的操作，在具体组件里面调用的方式<code>this.$store.commit(&#39;xxxx&#39;)</code></li>
<li>Action也是改变store中的数据，不过是提交的mutation，并且可以包含异步操作，在组件中的调用方式<code>this.$store.dispatch(&#39;xxx&#39;)</code>； 在actions里面使用的commit(‘调用mutation’)</li>
</ol>
<h3 id="38、数据类型的判断有哪些方法？他们的优缺点及区别是什么？"><a href="#38、数据类型的判断有哪些方法？他们的优缺点及区别是什么？" class="headerlink" title="38、数据类型的判断有哪些方法？他们的优缺点及区别是什么？"></a>38、数据类型的判断有哪些方法？他们的优缺点及区别是什么？</h3><p>然后判断数据类型的方法一般可以通过：typeof、instanceof、constructor、toString四种常用方法</p>
<table>
<thead>
<tr>
<th>不同类型的优缺点</th>
<th>typeof</th>
<th>instanceof</th>
<th>constructor</th>
<th>Object.prototype.toString.call</th>
</tr>
</thead>
<tbody><tr>
<td>优点</td>
<td>使用简单</td>
<td>能检测出引用类型</td>
<td>基本能检测所有的类型（除了null和undefined）</td>
<td>检测出所有的类型</td>
</tr>
<tr>
<td>缺点</td>
<td>只能检测出基本类型（出null）</td>
<td>不能检测出基本类型，且不能跨iframe</td>
<td>constructor易被修改，也不能跨iframe</td>
<td>IE6下，undefined和null均为Object</td>
</tr>
</tbody></table>
<h3 id="39、知道symbol-吗？"><a href="#39、知道symbol-吗？" class="headerlink" title="39、知道symbol 吗？"></a>39、知道symbol 吗？</h3><p>ES6 引入新的原始数据类型Symbol，表示独一无二的值</p>
<h3 id="40、请描述一下ES6中的class类"><a href="#40、请描述一下ES6中的class类" class="headerlink" title="40、请描述一下ES6中的class类?"></a>40、请描述一下ES6中的class类?</h3><p>es6中的class可以把它看成是es5中构造函数的语法糖，它简化了构造函数的写法， 类的共有属性放到 constructor 里面 </p>
<ol>
<li><p>通过class 关键字创建类, 类名我们还是习惯性定义首字母大写 </p>
</li>
<li><p>类里面有个constructor 函数,可以接受传递过来的参数,同时返回实例对象 </p>
</li>
<li><p>constructor 函数 只要 new 生成实例时,就会自动调用这个函数, 如果我们不写这个函数,类也会自动生成这个函数 </p>
</li>
<li><p>多个函数方法之间不需要添加逗号分隔 </p>
</li>
<li><p>生成实例 new 不能省略 </p>
</li>
<li><p>语法规范, 创建类 类名后面不要加小括号,生成实例 类名后面加小括号, 构造函数不需要加function </p>
<ol>
<li><p>继承中,如果实例化子类输出一个方法,先看子类有没有这个方法,如果有就先执行子类的 </p>
</li>
<li><p>继承中,如果子类里面没有,就去查找父类有没有这个方法,如果有,就执行父类的这个方法(就近原则) </p>
</li>
<li><p>如果子类想要继承父类的方法,同时在自己内部扩展自己的方法,利用super 调用 父类的构造函数,super 必须在子类this之前调用 </p>
</li>
</ol>
</li>
<li><p>时刻注意this的指向问题,类里面的共有的属性和方法一定要加this使用. </p>
<ol>
<li><p>constructor中的this指向的是new出来的实例对象 </p>
</li>
<li><p>自定义的方法,一般也指向的new出来的实例对象 </p>
</li>
<li><p>绑定事件之后this指向的就是触发事件的事件源 </p>
</li>
<li><p>在 ES6 中类没有变量提升，所以必须先定义类，才能通过类实例化对象</p>
</li>
</ol>
</li>
</ol>
<h3 id="41、谈谈盒子模型？"><a href="#41、谈谈盒子模型？" class="headerlink" title="41、谈谈盒子模型？"></a>41、谈谈盒子模型？</h3><p>在<strong>标准盒子模型</strong>中，<strong>width 和 height 指的是内容区域</strong>的宽度和高度。增加内边距、边框和外边距不会影响内容区域的尺寸，但是会增加元素框的总尺寸。</p>
<p><strong>IE盒子模型</strong>中，<strong>width 和 height 指的是内容区域+border+padding</strong>的宽度和高度。</p>
<h3 id="42、promise是什么？它有哪些作用？"><a href="#42、promise是什么？它有哪些作用？" class="headerlink" title="42、promise是什么？它有哪些作用？"></a>42、promise是什么？它有哪些作用？</h3><blockquote>
<p>Promise 是异步编程的一种解决方案.简单说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。从语法上说，Promise 是一个对象，可以从改对象获取异步操作的消息。</p>
<p>它可以解决回调地狱的问题，也就是异步深层嵌套问题</p>
<h5 id="catch"><a href="#catch" class="headerlink" title=".catch()"></a>.catch()</h5><ul>
<li>获取异常信息</li>
</ul>
<h5 id="finally"><a href="#finally" class="headerlink" title=".finally()"></a>.finally()</h5><ul>
<li>成功与否都会执行（不是正式标准） </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     1. Promise基本使用</span></span><br><span class="line"><span class="comment">        我们使用new来构建一个Promise  Promise的构造函数接收一个参数，是函数，并且传入两个参数：		   resolve，reject， 分别表示异步操作执行成功后的回调函数和异步操作执行失败后的回调函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="keyword">var</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</span><br><span class="line">   <span class="comment">//2. 这里用于实现异步任务  setTimeout</span></span><br><span class="line">   <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="keyword">var</span> flag = <span class="literal">false</span>;</span><br><span class="line">     <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">       <span class="comment">//3. 正常情况</span></span><br><span class="line">       resolve(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">     &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">       <span class="comment">//4. 异常情况</span></span><br><span class="line">       reject(<span class="string">&#x27;出错了&#x27;</span>);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;, <span class="number">100</span>);</span><br><span class="line"> &#125;);</span><br><span class="line"> <span class="comment">//  5 Promise实例生成以后，可以用then方法指定resolved状态和reject状态的回调函数 </span></span><br><span class="line"> <span class="comment">//  在then方法中，你也可以直接return数据而不是Promise对象，在后面的then中就可以接收到数据了  </span></span><br><span class="line"> p.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(data)</span><br><span class="line"> &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">info</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(info)</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>


</blockquote>
<p>###43、vue-cli  2.0和3.0 有什么区别？</p>
<p>3.0 把配置webpack的文件隐藏了，如果需要配置它需要创建一个vue.config.js文件，3.0 是2018.10月出来的</p>
<h3 id="44、箭头函数有哪些特征，请简单描述一下它？"><a href="#44、箭头函数有哪些特征，请简单描述一下它？" class="headerlink" title="44、箭头函数有哪些特征，请简单描述一下它？"></a>44、箭头函数有哪些特征，请简单描述一下它？</h3><p>箭头函数没有自己的this，this指向<strong>定义</strong>箭头函数时所处的<strong>外部执行环境</strong>的this</p>
<p>即时调用call/apply/bind也无法改变箭头函数的this</p>
<p>箭头函数本身没有名字</p>
<p>箭头函数不能new，<strong>会报错</strong></p>
<p>箭头函数没有arguments，在箭头函数内访问这个变量访问的是<strong>外部执行环境</strong>的arguments</p>
<p>箭头函数没有prototype</p>
<h3 id="45、移动端有哪些常见的问题，都是怎么解决的？"><a href="#45、移动端有哪些常见的问题，都是怎么解决的？" class="headerlink" title="45、移动端有哪些常见的问题，都是怎么解决的？"></a>45、移动端有哪些常见的问题，都是怎么解决的？</h3><p>点击事件300MS延迟问题  解决方案：下载fastclick的包</p>
<p> <strong>H5页面窗口自动调整到设备宽度，并禁止用户缩放页面</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot;</span>&gt;</span> </span><br></pre></td></tr></table></figure>

<p><strong>忽略Android平台中对邮箱地址的识别</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;format-detection&quot;</span> <span class="attr">content</span>=<span class="string">&quot;email=no&quot;</span>&gt;</span> </span><br></pre></td></tr></table></figure>

<p><strong>当网站添加到主屏幕快速启动方式，可隐藏地址栏，仅针对ios的safari</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ios7.0版本以后，safari上已看不到效果 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;apple-mobile-web-app-capable&quot;</span> <span class="attr">content</span>=<span class="string">&quot;yes&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="46、post和get-请求有哪些区别？"><a href="#46、post和get-请求有哪些区别？" class="headerlink" title="46、post和get 请求有哪些区别？"></a>46、post和get 请求有哪些区别？</h3><p>GET：一般用于信息获取，使用URL传递参数，对所发送信息的数量也有限制，一般在2000个字符</p>
<p>POST：一般用于修改服务器上的资源，对所发送的信息没有限制。</p>
<p>GET方式需要使用Request.QueryString来取得变量的值，而POST方式通过Request.Form来获取变量的值，也就是说Get是通过地址栏来传值，而Post是通过提交表单来传值。</p>
<p>然而，在以下情况中，请使用 POST 请求：</p>
<p>无法使用缓存文件（更新服务器上的文件或数据库）</p>
<p>向服务器发送大量数据（POST 没有数据量限制）</p>
<p>发送包含未知字符的用户输入时，POST 比 GET 更稳定也更可靠</p>
<h3 id="47、什么是同源策略？"><a href="#47、什么是同源策略？" class="headerlink" title="47、什么是同源策略？"></a>47、什么是同源策略？</h3><p>所谓同源策略是浏览器的一种安全机制，来限制不同源的网站不能通信。同源就是域名、协议、端口一致。</p>
<h3 id="48、http状态码分别代表什么意思？"><a href="#48、http状态码分别代表什么意思？" class="headerlink" title="48、http状态码分别代表什么意思？"></a>48、http状态码分别代表什么意思？</h3><p>1xx    表示HTTP请求已经接受，继续处理请求<br>2xx    表示HTTP请求已经处理完成(200)<br>3xx    表示把请求访问的URL重定向到其他目录(304资源没有发生变化，会重定向到本地资源)<br>4xx    表示客户端出现错误(403禁止访问、404资源不存在)<br>5xx    表示服务端出现错误</p>
<h3 id="49、BFC是什么？"><a href="#49、BFC是什么？" class="headerlink" title="49、BFC是什么？"></a>49、BFC是什么？</h3><p>BFC（块级格式化上下文），一个创建了新的BFC的盒子是独立布局的，盒子内元素的布局不会影响盒子外面的元素。在同一个BFC中的两个相邻的盒子在垂直方向发生margin重叠的问题。</p>
<p>BFC是值浏览器中创建了一个独立的渲染区域，该区域内所有元素的布局不会影响到区域外元素的布局，这个渲染区域只对块级元素起作用</p>
<h3 id="50、token是什么？（加密）"><a href="#50、token是什么？（加密）" class="headerlink" title="50、token是什么？（加密）"></a>50、token是什么？（加密）</h3><ol>
<li><p>token也可以称做令牌，一般由 <code>uid+time+sign(签名)+[固定参数]</code> 组成</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">uid: 用户唯一身份标识</span><br><span class="line">time: 当前时间的时间戳</span><br><span class="line">sign: 签名, 使用 hash/encrypt 压缩成定长的十六进制字符串，以防止第三方恶意拼接</span><br><span class="line">固定参数(可选): 将一些常用的固定参数加入到 token 中是为了避免重复查库</span><br></pre></td></tr></table></figure></li>
<li><p>token在客户端一般存放于localStorage，cookie，或sessionStorage中。在服务器一般存于数据库中</p>
</li>
<li><p>token 的认证流程</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">用户登录，成功后服务器返回Token给客户端。</span><br><span class="line">客户端收到数据后保存在客户端</span><br><span class="line">客户端再次访问服务器，将token放入headers中 或者每次的请求 参数中</span><br><span class="line">服务器端采用filter过滤器校验。校验成功则返回请求数据，校验失败则返回错误码</span><br></pre></td></tr></table></figure></li>
<li><p>token可以抵抗csrf，cookie+session不行</p>
</li>
<li><p>session时有状态的，一般存于服务器内存或硬盘中，当服务器采用分布式或集群时，session就会面对负载均衡问题。负载均衡多服务器的情况，不好确认当前用户是否登录，因为多服务器不共享session</p>
</li>
<li><p>客户端登陆传递信息给服务端，服务端收到后把用户信息加密（token）传给客户端，客户端将token存放于localStroage等容器中。客户端每次访问都传递token，服务端解密token，就知道这个用户是谁了。通过cpu加解密，服务端就不需要存储session占用存储空间，就很好的解决负载均衡多服务器的问题了。这个方法叫做JWT(Json Web Token)</p>
</li>
</ol>
<h3 id="51、js的数据类型有哪些？"><a href="#51、js的数据类型有哪些？" class="headerlink" title="51、js的数据类型有哪些？"></a>51、js的数据类型有哪些？</h3><p>js的数据类型分为基本数据类型（string、number、boolean、null、undefined、symbol）和复杂数据类型</p>
<p>基本数据类型的特点：直接存储在栈中的数据</p>
<p>复杂数据类型的特点：存储的是该对象在栈中引用，真实的数据存放在堆内存里</p>
<h3 id="52、一个页面从输入-URL-到页面加载显示完成，这个过程中都发生了什么？"><a href="#52、一个页面从输入-URL-到页面加载显示完成，这个过程中都发生了什么？" class="headerlink" title="52、一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？"></a>52、<strong>一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？</strong></h3><p>01.浏览器查找域名对应的IP地址(DNS 查询：浏览器缓存-&gt;系统缓存-&gt;路由器缓存-&gt;ISP DNS 缓存-&gt;根域名服务器)</p>
<p>02.浏览器向 Web 服务器发送一个 HTTP 请求（TCP三次握手）</p>
<p>03.服务器 301 重定向（从 <a href="http://example.com/">http://example.com</a> 重定向到 <a href="http://www.example.com)/">http://www.example.com）</a></p>
<p>04.浏览器跟踪重定向地址，请求另一个带 www 的网址</p>
<p>05.服务器处理请求（通过路由读取资源）</p>
<p>06.服务器返回一个 HTTP 响应（报头中把 Content-type 设置为 ‘text/html’）</p>
<p>07.浏览器进 DOM 树构建</p>
<p>08.浏览器发送请求获取嵌在 HTML 中的资源（如图片、音频、视频、CSS、JS等）</p>
<p>09.浏览器显示完成页面</p>
<p>10.浏览器发送异步请求</p>
<h3 id="53、安全问题-：CSRF-和-XSS攻击？"><a href="#53、安全问题-：CSRF-和-XSS攻击？" class="headerlink" title="53、安全问题 ：CSRF 和 XSS攻击？"></a>53、安全问题 ：CSRF 和 XSS攻击？</h3><p><code>CSRF</code>（<code>Cross-site request forgery</code>）：<strong>跨站请求伪造</strong>。</p>
<p><strong>方法一、Token 验证：</strong>（用的最多）</p>
<ol>
<li>服务器发送给客户端一个<code>token</code>；</li>
<li>客户端提交的表单中带着这个<code>token</code>。</li>
<li>如果这个 <code>token</code> 不合法，那么服务器拒绝这个请求。</li>
</ol>
<p><strong>方法二：隐藏令牌：</strong></p>
<p>把 <code>token</code> 隐藏在 <code>http</code> 的 <code>head</code>头中。</p>
<p>方法二和方法一有点像，本质上没有太大区别，只是使用方式上有区别。</p>
<blockquote>
<p><strong>方法三、Referer 验证：</strong></p>
</blockquote>
<p><code>Referer</code> 指的是页面请求来源。意思是，<strong>只接受本站的请求，服务器才做响应</strong>；如果不是，就拦截</p>
<p>XSS（Cross Site Scripting）``：<strong>跨域脚本攻击</strong>。</p>
<p><strong>1. 编码</strong>：</p>
<p>对用户输入的数据进行<code>HTML Entity</code>编码。</p>
<p>如上图所示，把字符转换成 转义字符。</p>
<p>Encode<code>的作用是将</code>$var`等一些字符进行转化，使得浏览器在最终输出结果上是一样的。</p>
<p>比如说这段代码：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;alert(<span class="number">1</span>)&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>若不进行任何处理，则浏览器会执行alert的js操作，实现XSS注入。进行编码处理之后，L在浏览器中的显示结果就是<code>&lt;script&gt;alert(1)&lt;/script&gt;</code>，实现了将``$var<code>作为纯文本进行输出，且不引起J</code>avaScript`的执行。</p>
</blockquote>
<p><strong>2、过滤：</strong></p>
<ul>
<li>移除用户输入的和事件相关的属性。如<code>onerror</code>可以自动触发攻击，还有<code>onclick</code>等。（总而言是，过滤掉一些不安全的内容）</li>
<li>移除用户输入的<code>Style</code>节点、<code>Script</code>节点、<code>Iframe</code>节点。（尤其是<code>Script</code>节点，它可是支持跨域的呀，一定要移除）。</li>
</ul>
<p><strong>3、校正</strong></p>
<ul>
<li>避免直接对<code>HTML Entity</code>进行解码。</li>
<li>使用<code>DOM Parse</code>转换，校正不配对的<code>DOM</code>标签。</li>
</ul>
<p>备注：我们应该去了解一下<code>DOM Parse</code>这个概念，它的作用是把文本解析成<code>DOM</code>结构。</p>
<p>比较常用的做法是，通过第一步的编码转成文本，然后第三步转成<code>DOM</code>对象，然后经过第二步的过滤。</p>
<h3 id="54、CSRF-和-XSS-的区别"><a href="#54、CSRF-和-XSS-的区别" class="headerlink" title="54、CSRF 和 XSS 的区别"></a>54、CSRF 和 XSS 的区别</h3><p><strong>区别一：</strong></p>
<ul>
<li><code>CSRF</code>：需要用户先登录网站<code>A</code>，获取 <code>cookie</code></li>
<li><code>XSS</code>：不需要登录。</li>
</ul>
<p><strong>区别二：（原理的区别）</strong></p>
<ul>
<li><code>CSRF</code>：是利用网站<code>A</code>本身的漏洞，去请求网站<code>A</code>的<code>api</code>。</li>
<li><code>XSS</code>：是向网站 <code>A</code> 注入 <code>JS</code>代码，然后执行 <code>JS</code> 里的代码，篡改网站<code>A</code>的内容。</li>
</ul>
<h3 id="55、cookie和session-的区别"><a href="#55、cookie和session-的区别" class="headerlink" title="55、cookie和session 的区别"></a>55、cookie和session 的区别</h3><ul>
<li>1、cookie数据存放在客户的浏览器上，session数据放在服务器上。</li>
<li>2、cookie不是很安全，别人可以分析存放在本地的COOKIE并进行COOKIE欺骗<ul>
<li>考虑到安全应当使用session。</li>
</ul>
</li>
<li>3、session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能<ul>
<li>考虑到减轻服务器性能方面，应当使用COOKIE。</li>
</ul>
</li>
<li>4、单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。</li>
<li>5、所以个人建议：<ul>
<li>将登陆信息等重要信息存放为SESSION</li>
<li>其他信息如果需要保留，可以放在COOKIE中</li>
</ul>
</li>
</ul>
<h3 id="56、call、apply、bind三者的异同"><a href="#56、call、apply、bind三者的异同" class="headerlink" title="56、call、apply、bind三者的异同"></a>56、call、apply、bind三者的异同</h3><p>共同点 : 都可以改变this指向;<br>不同点:<br>call 和 apply 会调用函数, 并且改变函数内部this指向.<br>call 和 apply传递的参数不一样,call传递参数使用逗号隔开,apply使用数组传递<br>bind 不会调用函数, 可以改变函数内部this指向.<br>应用场景</p>
<ol>
<li>call 经常做继承.</li>
<li>apply经常跟数组有关系. 比如借助于数学对象实现数组最大值最小值</li>
<li>bind 不调用函数,但是还想改变this指向. 比如改变定时器内部的this指向</li>
</ol>
]]></content>
      <tags>
        <tag>面试题</tag>
      </tags>
  </entry>
</search>
